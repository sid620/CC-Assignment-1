     1	
     2	
     3	
     4	
     5	Technical Reference
     6	for
     7	Hayes(TM) Modem Users
     8	
     9	2 November 1990
    10	Version 1.0
    11	
    12	
    13	
    14	
    15	
    16	
    17	
    18	
    19	
    20	
    21	
    22	
    23	
    24	
    25	
    26	Hayes Microcomputer Products, Inc.
    27	P.O. Box 105203
    28	Atlanta, Georgia 30348
    29	
    30	Europe Office
    31	Hayes Microcomputer Products, Inc.
    32	1 Roundwood Avenue, Stockley Park
    33	Uxbridge, Middlesex UB11 1AE United Kingdom
    34	
    35	Asia Office
    36	Hayes Microcomputer Products, Inc.
    37	21/F Caxton House, 1 Duddell Street
    38	Central Hong Kong
    39	Notice: Hayes Microcomputer Products, Inc. (Hayes) provides the information 
    40	contained in this document to you for your convenience. Hayes does not 
    41	guarantee the accuracy of the information and reserves the right to change 
    42	this document, as well as the hardware and software products described herein 
    43	at any time without notice. The Hayes Standard AT Command Set is proprietary 
    44	to, and subject to the copyrights of Hayes Microcomputer Products, Inc., and 
    45	distribution of this document in no way represents a waiver of those rights. 
    46	
    47	Hayes, the Hayes logos, Smartcom, Smartcom II, Smartcom III, Smartcom EZ, 
    48	V-series, Smartmodem, ULTRA, and ESP are trademarks of Hayes Microcomputer 
    49	Products, Inc.
    50	
    51	Other trademarks identified in this document are trademarks of their 
    52	respective companies.
    53	
    54	
    55	
    56	
    57	
    58	Note: This version of the "Technical Reference for Hayes Modem Users" is a 
    59	special version edited for bulletin-board downloading. As a plain ASCII 
    60	character file, it therefore cannot contain any of the illustrations and 
    61	graphic elements provided in the printed version.
    62	
    63	To highlight the start of Chapters, 1st Level Heads, 2nd Level Heads, 
    64	3rd Level Heads and Tables, we've used the following scheme:
    65	
    66	Chapters are preceded by:
    67	=============================================================================
    68	
    69	1st Level Heads are preceded by:
    70	*****************************************************************************
    71	
    72	2nd Level Heads are preceded by:
    73	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    74	
    75	3rd Level Heads are preceded by:
    76	.............................................................................
    77	
    78	Table heads are separated from table listings by:
    79	-----------------------------------------------------------------------------
    80	
    81	
    82	Document 44-00012 AA K10 (BBS Version)
    83	
    84	
    85	© 1990 Hayes Microcomputer Products, Inc. All rights reserved.
    86	
    87	
    88	
    89	Table of Contents
    90	Chapter One: The Hayes Standard AT Command Set
    91	
    92	1.1  AT Command Listing
    93	        A - Answer Command
    94	        B - Select Communication Standard
    95	        C - Carrier Control Selection
    96	        D - Dial Command (and dial modifiers)
    97	        E - Command State Character Echo Selection
    98	        F - On-line State Character Echo Selection
    99	        H - Hook Command Options
   100	        I - Internal Memory Tests
   101	        L - Speaker Volume Level Selection
   102	        M - Speaker On/Off Selection
   103	        N - Negotiation of Handshake Options
   104	        O - On-Line Command
   105	        P - Select Pulse Dialing Method
   106	        Q - Result Code Display Options
   107	        Sr= - Write to an S-Register
   108	        Sr? - Read an S-Register
   109	        T - Select Tone Dialing Method
   110	        V - Result Code Format Options
   111	        W - Negotiation Progress Message Selection
   112	        X - Call Progress Options
   113	        Y - Long Space Disconnect Options
   114	        Z - Soft Reset Command
   115	        &B - V.32 Auto Retrain Options
   116	        &C - Data Carrier Detect Options
   117	        &D - Data Terminal Ready Options
   118	        &F - Recall Factory Profile
   119	        &G - Guard Tone Selection
   120	        &J - Jack Type Selection (Auxiliary Relay Options)
   121	        &K - Local Flow Control Options
   122	        &L - Line Type Selection (Dialup/Leased)
   123	        &O - PAD Channel Selection
   124	        &Q - Communications Mode Options
   125	        &R - RTS/CTS Options
   126	        &S - Data Set Ready Options
   127	        &T - Test Options
   128	        &U - Trellis Coding Options
   129	        &V - View Configuration Profiles
   130	        &W - Write Active Profile to Memory
   131	        &X - Synchronous Transmit Clock Source
   132	        &Y - Select Stored Profile For Hard Reset
   133	        &Zn=x - Store Telephone Number
   134	
   135	1.2  Result Code Listing
   136	     1.2.1 Command Response and Call Progress Monitoring
   137	        0 - OK
   138	        1 - CONNECT
   139	        2 - RING
   140	        3 - NO CARRIER
   141	        4 - ERROR
   142	        5 - CONNECT 1200
   143	        6 - NO DIALTONE
   144	        7 - BUSY
   145	        8 - NO ANSWER
   146	        10 - CONNECT 2400
   147	        11 - CONNECT 4800
   148	        12 - CONNECT 9600
   149	        14 - CONNECT 19200
   150	        22 - CONNECT 1200/75
   151	        23 - CONNECT 75/1200
   152	        28 - CONNECT 38400
   153	     1.2.2  Negotiation Progress Messages
   154	        40 - CARRIER 300
   155	        44 - CARRIER 1200/75
   156	        45 - CARRIER 75/1200
   157	        46 - CARRIER 1200
   158	        47 - CARRIER 2400
   159	        48 - CARRIER 4800
   160	        50 - CARRIER 9600
   161	        66 - COMPRESSION: CLASS 5
   162	        67 - COMPRESSION: V.42BIS
   163	        68 - COMPRESSION: ADC
   164	        69 - COMPRESSION: NONE
   165	        70 - PROTOCOL: NONE
   166	        71 - PROTOCOL: ERROR-CONTROL/LAP-B
   167	        72 - PROTOCOL: ERROR-CONTROL/ LAP-B/HDX
   168	        73 - PROTOCOL: ERROR-CONTROL/LAP-B/AFT
   169	        74 - PROTOCOL: X.25/LAP-B
   170	        75 - PROTOCOL: X.25/LAP-B/HDX
   171	        76 - PROTOCOL: X.25/LAP-B/AFT
   172	        77 - PROTOCOL: LAP-M
   173	        78 - PROTOCOL: LAP-M/HDX V.42
   174	        79 - PROTOCOL: LAP-M/AFT
   175	        80 - PROTOCOL: ALT
   176	        91 - AUTOSTREAM: LEVEL 1
   177	        92 - AUTOSTREAM: LEVEL 2
   178	        93 - AUTOSTREAM: LEVEL 3
   179	     1.2.3  Information Text (INFO-TEXT)
   180	
   181	1.3  S-Register Listing
   182	       S0 - Ring to Answer After
   183	       S1 - Ring Count
   184	       S2 - Escape Sequence Character
   185	       S3 - Carriage Return Character
   186	       S4 - Line Feed Character
   187	       S5 - Backspace Character
   188	       S6 - Wait Before Blind Dialing
   189	       S7 - Wait for Carrier after Dialing
   190	       S8 - Duration of Delay for Comma Dial Modifier
   191	       S9 - Carrier Detect Response Time
   192	       S10 - Delay Between Lost Carrier and Hang Up
   193	       S11 - Multi-Frequency Tone Duration
   194	       S12 - Escape Sequence Guard Time
   195	       S18 - Modem Test Timer
   196	       S25 - DTR Detection
   197	       S26 - RTS to CTS Interval
   198	       S30 - Inactivity Time-out
   199	       S33 - AFT Options
   200	       S36 - Negotiation Failure Treatment
   201	       S37 - Desired DCE Line Speed
   202	       S38 - Delay Before Forced Hang up
   203	       S44 - Asynchronous Framing Technique Selection
   204	       S46 - Error-Control Protocol Selection
   205	       S48 - Enabling/Disabling Feature Negotiation
   206	       S49 - ASB buffer size lower limit
   207	       S50 - ASB buffer size upper limit
   208	       S53 - Global PAD Configuration
   209	       S63 - Leased line carrier level
   210	       S69 - Link Layer Window Size
   211	       S70 - Maximum Number of Retransmissions
   212	       S71 - Link Layer Time-out
   213	       S72 - Loss of Flag Idle Time-out
   214	       S73 - No Activity Time-out
   215	       S74, S75 - Minimum Incoming Logical Channel Number (LCN)
   216	       S76, S77 - Maximum Incoming Logical Channel Number (LCN)
   217	       S78, S79 - Outgoing Logical Channel Number (LCN)
   218	       S80 - Packet Layer N20 Parameter
   219	       S81 - Packet Layer T20 Parameter
   220	       S82 - Break Signaling Technique
   221	       S84 - Adaptive start up negotiation (ASU)
   222	       S85 - ASU Negotiation Report
   223	       S86 - Connection Failure Cause
   224	       S92 - MI/MIC Options
   225	       S93 - V.25bis DTE interface speed
   226	       S94 - Command Mode Selector
   227	       S95 - Negotiation Message Options
   228	1.4  Additional Command Set Definitions
   229	       AT - Command Prefix
   230	       +++ - Escape Sequence
   231	       <CR> - End-of-line Character
   232	       A/ - Repeat Last Command
   233	
   234	
   235	Chapter Two: V-series(TM) X.25 Communications
   236	
   237	2.1  Modem Configuration for X.25 Communications
   238	     2.1.1 Controlling Automatic Feature Negotiation
   239	     2.1.2 PAD Channel Selection
   240	2.2  PAD Configuration
   241	     2.2.1 PAD Commands
   242	        ACC - Accept Call Command
   243	        CALL - Call Command (and Call Facilities)
   244	        CHAN - Channel Selection Command
   245	        CLR - Clear Channel Command
   246	        EXEC - Execute String Command
   247	        EXIT - Exit PAD Command
   248	        INT - Interrupt Command
   249	        PAR? - Read Parameter Command
   250	        PROF - PAD Profile Command
   251	        RESET - PAD Reset Command
   252	        RPAR? - Read Remote PAD Parameter Command
   253	        RSET - Set Remote PAD Parameter Command
   254	        STAT - Status of Current Channel Command
   255	        SET - Set PAD Parameter Command
   256	     2.2.2 PAD Parameters
   257	        Parameter 1 - PAD Recall Using a Character
   258	        Parameter 2 - Echo
   259	        Parameter 3 - Selection of Data Forwarding Signal
   260	        Parameter 4 - Selection of Idle Timer Delay
   261	        Parameter 5 - Ancillary Device Control
   262	        Parameter 6 - Control of PAD Result Codes
   263	        Parameter 7 - Action on Receipt of Break from Terminal
   264	        Parameter 8 - Discard Output
   265	        Parameter 9 - Padding after Carriage Return
   266	        Parameter 10 - Line Folding
   267	        Parameter 11 - Terminal Speed
   268	        Parameter 12 - Flow Control of the PAD by Local Terminal
   269	        Parameter 13 - Line Feed Insertion after Carriage Return
   270	        Parameter 14 - Line Feed Padding
   271	        Parameter 15 - Editing
   272	        Parameter 16 - Character Delete
   273	        Parameter 17 - Line Delete
   274	        Parameter 18 - Line Display
   275	        Parameter 19 - Editing PAD result codes
   276	        Parameter 20 - Echo Mask
   277	        Parameter 21 - Parity Treatment
   278	        Parameter 22 - Page Wait
   279	        National Parameter 70 - Streaming Data Forwarding
   280	        National Parameter 71 - Character Format
   281	        National Parameter 72 - Break Signal Timing
   282	        National Parameter 73 - Break Signal Duration
   283	        National Parameter 74 - Disable PAD Parameter by the Remote PAD
   284	        National Parameter 100 - Default Maximum Packet Size
   285	        National Parameter 101 - Default Maximum Window Size
   286	        National Parameter 103 - Reset Request Response Timer
   287	        National Parameter 104 - Clear Request Response Timer
   288	        National Parameter 105 - Interrupt Response Time
   289	        National Parameter 106 - Reset Request Retransmission Counter
   290	        National Parameter 107 - Clear Request Retransmission Counter
   291	        National Parameter 108 - Channel Allocation Parameter
   292	2.3  PAD Profiles
   293	        Factory-Set Profile
   294	        CCITT Simple Standard Profile
   295	        CCITT Transparent Standard Profile
   296	        Error-Control/LAP-B Profile
   297	2.4  Typical X.25 Scenarios
   298	
   299	
   300	Appendix A: Communication Options
   301	
   302	A.1  Transmission and DTE Types
   303	     A.1.1  Asynchronous Transmissions
   304	     A.1.2  Synchronous Transmissions
   305	A.2  Communication Modes - &Q
   306	     A.2.1  Asynchronous Mode - &Q0
   307	     A.2.2  Synchronous Mode 1: sync/async - &Q1
   308	     A.2.3  Synchronous Mode 2: stored number dial - &Q2
   309	     A.2.4  Synchronous Mode 3: manual dial with data/talk switch- &Q3
   310	     A.2.5  Synchronous Mode 4: Hayes AutoSync - &Q4
   311	     A.2.6  Error-Control Mode - &Q5
   312	     A.2.7  Asynchronous Mode with Automatic Speed Buffering (ASB) - &Q6
   313	
   314	Appendix B: Troubleshooting Tips
   315	
   316	B.1  The Communication Link
   317	B.2  Troubleshooting the Process
   318	     B.2.1  Problems in Getting Started
   319	     B.2.2  Problems Encountered During Communications
   320	B.3  Special Environment Considerations
   321	     B.3.1  Custom Modem Setup for Mainframe or Minicomputer Host
   322	     B.3.2  Custom Modem Setup for Telephone System Requirements
   323	B.4  Using AT Commands to Test Modem Circuits
   324	     B.4.1  Available Tests
   325	     B.4.2  Performing a Test
   326	     B.4.3  Testing with Analog Loopback
   327	     B.4.4  Testing with Digital Loopback
   328	     B.4.5  Testing the Tone Dialer - &T2
   329	B.5  Testing the Cable
   330	     B.5.1  Cable Quality
   331	     B.5.2  Checking Cable Signals - &T19
   332	B.6  Testing Internal Memory
   333	
   334	Appendix C: Modem-to-DTE Interface
   335	
   336	C.1  EIA 232-D/CCITT V.24 Interfaces
   337	C.2  Signals Used in the EIA 232-D Interface
   338	C.3  EIA 232-D Signal Definitions
   339	C.4  Modem Interface Connector
   340	
   341	
   342	Appendix D: Modem Application Development
   343	
   344	D.1  Modem Identification
   345	D.2  Result Code Recognition
   346	D.3  Modem Preparation
   347	     D.3.1  Reset
   348	     D.3.2  Setup
   349	D.4  Connect Processing
   350	     D.4.1  Originating a Call
   351	     D.4.2  Answering a Call
   352	     D.4.3  Using the CD Line
   353	     D.4.4  Aborting a Connect Request
   354	D.5  Carrier Loss Detection
   355	     D.5.1  Using the CD Line
   356	     D.5.2  Scanning the Incoming Data Stream
   357	D.6  Escape and Hang Up
   358	     D.6.1  Escaping the Modem to Command State
   359	     D.6.2  Using DTR to Escape or Hang Up
   360	D.7  Modem Re-configuration
   361	D.8  Timing Considerations
   362	     D.8.1  Programming for Time
   363	     D.8.2  When to Consider Time
   364	     D.8.3  Recovering When "Out of Sync"
   365	D.9  General Tips and Techniques
   366	
   367	Index
   368	
   369	
   370	=============================================================================
   371	
   372	Introduction
   373	
   374	This Technical Reference for Hayes Modem Users offers additional information 
   375	about the Hayes Standard AT Command Set for users who want to use the command 
   376	set to control the modem, rather than using full-featured software. To help 
   377	you do this, the complete command set is defined in greater detail than that 
   378	provided on the AT Command Set Reference Card that accompanied your modem. All 
   379	of the commands in the set are included in this document.
   380	
   381	You'll also find additional discussions on some of the more complicated 
   382	options, such as synchronous communications, and the interactions between 
   383	communication standards, negotiation commands, and modem speeds. In addition, 
   384	information about the connections between the modem and the DTE (computer or 
   385	terminal) is included.
   386	
   387	With the information provided here, you should be able to configure your modem 
   388	with AT commands for a variety of communication environments. If you are just 
   389	starting out with communications programming, this reference should provide 
   390	you with sufficient tips to address the modem's features through a software 
   391	program of your own.
   392	
   393	If this reference seems more technically oriented than you anticipated, we 
   394	suggest that you purchase one of Hayes Smartcom Products. Any of these fine 
   395	programs will fully control the modem for almost any telecommunication 
   396	requirements.
   397	
   398	*****************************************************************************
   399	Who Should Use this Reference
   400	
   401	Users of full-featured communications software such as Hayes Smartcom Products 
   402	will not need this reference. 
   403	
   404	This reference is provided for...
   405	
   406	*  users of communications software packages which require the user to enter 
   407	   modem configuration strings.
   408	
   409	*  users who will be installing and operating Hayes modems in a non-PC 
   410	   environment.
   411	
   412	*  users who control their modems directly with terminal emulation software.
   413	
   414	*  technical personnel responsible for custom installations and applications.
   415	
   416	Additional information is available for communications software developers. If 
   417	you are, or would like to become, a registered Hayes Software Developer, you 
   418	may receive additional technical material on Hayes products. For information 
   419	on qualification and registration procedures, contact your nearest Hayes 
   420	Customer Service facility. (Refer to the Customer Service Information folder 
   421	provided with your modem for location and telephone number.)
   422	
   423	*****************************************************************************
   424	How this Reference is Organized
   425	
   426	This reference is divided into two chapters and four appendices:
   427	
   428	Chapter One: The Hayes Standard AT Command Set...
   429	includes definitions of the Hayes AT Command Set including the commands, 
   430	result codes, and S-registers.
   431	
   432	Chapter Two: V-series(TM) X.25 Communications...
   433	includes definitions of the commands used for X.25 packet switched 
   434	communications, PAD and National Parameters, and listings for four PAD 
   435	profiles.
   436	
   437	Appendix A: Communication Options...
   438	describes the various asynchronous and synchronous transmission modes 
   439	supported by Hayes modems and includes a discussion of the AT commands related 
   440	to these modes.
   441	
   442	Appendix B: Troubleshooting Tips...
   443	provides special environmental considerations and offers suggestions for 
   444	remedying problems in modem communications.
   445	
   446	Appendix C: Modem-to-DTE Interface...
   447	discusses the requirements and capabilities of the modem's data terminal 
   448	equipment (DTE) interface.
   449	
   450	Appendix D: Modem Application Development...
   451	offers suggestions for developing applications software using the AT command 
   452	set.
   453	
   454	*****************************************************************************
   455	How to Use this Reference
   456	
   457	The commands and procedures described in this reference are intended for use 
   458	with a program that provides a command line interface to the modem. or if the 
   459	modem is connected to an asynchronous terminal to which commands can be 
   460	entered and sent through the serial port to the modem. Although commands are 
   461	not required when using Hayes Smartcom(TM) products, Smartcom EZ(TM), Smartcom 
   462	II(TM), and Smartcom III(TM) all support a command line interface to the 
   463	modem. Refer to the Smartmodem Product User's Reference or V-series System 
   464	Product User's Reference (depending on the modem you purchased) for 
   465	descriptions of the features that are enabled by the AT Commands and S-
   466	Registers defined here. These user's references both explain how to issue AT 
   467	Commands, and read and set S-Registers/PAD Parameters.
   468	
   469	Please note that this reference is not a list of the features supported by 
   470	your modem, but a general guide to the Hayes AT Command Set as used to control 
   471	Hayes modems. For a list of features supported by your modem, refer to the 
   472	documentation included with your modem. This Modem Technical Reference is a 
   473	supplement to the documentation provided with your modem, not a replacement.
   474	
   475	=============================================================================
   476	
   477	Chapter One:
   478	The Hayes Standard AT Command Set
   479	
   480	This chapter is divided into three sections: AT commands, Result Codes, and S-
   481	Registers. The first section defines individual AT commands. Commands are 
   482	listed in alphabetically for easy reference. The second section defines the 
   483	Result Codes that can be returned by Hayes modems. These are listed in numeric 
   484	order. The third section defines Hayes Smartmodem Registers. These, too, are 
   485	in numeric order. For completeness, definitions of the AT command prefix, the 
   486	end-of-line character, and other information related to the Hayes Standard AT 
   487	Command Set are also included.
   488	
   489	For the factory setting and available options/ranges for commands and 
   490	registers, use the AT Command Set Reference Card provided with your modem. 
   491	Unless a command, register, or result code is listed on this card, it is not 
   492	supported by your modem, although it appears in this document.
   493	
   494	
   495	*****************************************************************************
   496	1.1 AT Command Listing
   497	Each step in the evolution of Hayes modems has added to the feature set that 
   498	has enhanced the definition of the Hayes standard. The diagram below shows the 
   499	major steps in the process.
   500	
   501	A - Answer Command
   502	The A command instructs the modem to go off hook and respond to an incoming 
   503	call, then handshake with the remote modem. When the modem returns the RING 
   504	result code, issue ATA<CR>. The modem will send an answer carrier signal to 
   505	the originating modem and wait for an originate carrier signal. When the modem 
   506	receives the carrier from the originating modem, the modems go through a 
   507	handshaking process then go on-line. The modems return the CONNECT XXXXX 
   508	result code. If no carrier signal is received within the time specified in 
   509	Register S7, the modem hangs up, returns the NO CARRIER result code, and 
   510	enters the command state.
   511	
   512	B - Select Communication Standard
   513	The B command is used to specify the desired communications standard setting 
   514	at a particular modem line speed. Because options can select between groups of 
   515	options, more than one combination of communication standard and speed can be 
   516	selected. For example, you can issue B1 and B16; both will be in effect 
   517	because they do not reference the same line speed. However, choosing B1 then 
   518	B5 selects B5, and replaces B1 as the standard for 1200 bps communications. 
   519	The most recent selection chosen from any given group will be in effect for 
   520	that parameter group.
   521	
   522	GROUP 1
   523	Values         Description
   524	-----------------------------------------------------------------------------
   525	0 or none      V.22 when modem is at 1200 bps
   526	1              U. S. Domestic 212A when modem is at 1200 bps
   527	2              V.23 R1200/T75 bps ASB when modem is at T1200/R1200 bps
   528	3              V.23 T1200/R75 bps ASB when modem is at T1200/R1200 bps
   529	4              V.23 T1200/R75 bps split speed when modem is at T1200/R75 bps
   530	5              V.23 1200 bps half duplex when modem is at T1200/R1200 bps
   531	
   532	
   533	GROUP 2
   534	Values  Description
   535	-----------------------------------------------------------------------------
   536	10      V.23 R1200/T75 bps split speed when modem is at R1200/T75 bps
   537	11      U. S. Domestic 212A when modem is at 1200 bps
   538	
   539	
   540	GROUP 3
   541	-----------------------------------------------------------------------------
   542	Values  Description
   543	15      V.21 when modem is 110/300 bps
   544	16      U. S. Domestic 103 when modem is at 110/300 bps
   545	
   546	
   547	GROUP 4
   548	-----------------------------------------------------------------------------
   549	Values  Description
   550	20      V.23 R600/T75 bps ASB when modem is T600/R600 bps
   551	21      V.23 T600/R75 bps ASB when modem is T600/R600 bps
   552	22      V.23 T600/R75 bps split speed when modem is T600/R75 bps
   553	23      V.23 600, half duplex when modem is 600 bps
   554	
   555	
   556	GROUP 5
   557	-----------------------------------------------------------------------------
   558	Values  Description
   559	30      V.22bis when modem is 2400 bps
   560	31      V.27ter when modem is 2400 bps
   561	
   562	
   563	GROUP 6
   564	-----------------------------------------------------------------------------
   565	Values  Description
   566	40      V.27ter when modem is 4800 bps
   567	41      V.32 full duplex when modem is 4800 bps
   568	42      V.32 half duplex when modem is 4800 bps
   569	44      V.23 half duplex when modem is 4800 bps
   570	
   571	GROUP 7
   572	-----------------------------------------------------------------------------
   573	Values  Description
   574	50      V.29 HDX when modem is 7200 bps
   575	
   576	
   577	GROUP 8
   578	-----------------------------------------------------------------------------
   579	Values  Description
   580	60      V.32 full duplex when modem is 9600 bps
   581	61      V.32 half duplex when modem is 9600 bps
   582	63      V.29 half duplex when modem is 9600 bps
   583	
   584	C - Carrier Control Selection
   585	The C command is used by some Hayes modems, such as Smartmodem 1200, to 
   586	control the transmit carrier. In these instances, C0 instructs the modem not 
   587	to send carrier (i.e., puts modem in a receive-only mode). High-speed modems 
   588	(those capable of speeds greater than 1200 bps) accept C1 without error in 
   589	order to assure backward compatibility with communications software that 
   590	issues C1. However, these modems do not support C0.
   591	
   592	C0 - Transmit carrier always off (not supported in high-speed modems)
   593	
   594	C1 - Normal transmit carrier switching
   595	
   596	D - Dial Command
   597	The D command places the modem in originate mode; it then functions as an 
   598	auto-dialer. Whether the command is issued on a line by itself, or followed 
   599	immediately by the telephone number, it must be preceded by the AT prefix and 
   600	terminated with a <CR> The dial string is a combination of dial digits and 
   601	dial modifiers. If the modem is off hook, it will neither initially wait nor 
   602	attempt to detect dial tone before proceeding. The D command is not valid when 
   603	the modem is on-line or if either &Q2 or &Q3 is in effect. Parentheses and 
   604	hyphens in a dial string are ignored by the auto-dialer, but are counted as 
   605	characters in the 255-character command buffer.
   606	
   607	
   608	Result Codes     Description
   609	-----------------------------------------------------------------------------
   610	BUSY             If X3 or X4 are selected or W dial modifier is used and busy
   611	                 is detected
   612	
   613	NO DIALTONE      If X2 or X4 are selected and 1 second of dial tone is not
   614	                 detected within 5 seconds If W dial modifier is processes and
   615	                 then 3 seconds of dial tone is not detected within the time 
   616	                 specified by S7
   617	
   618	ERROR            If the S=n dial modifier is processed and the n value is out
   619	                 of range (refer to the S dial modifier in this section) or if 
   620	                 the total number of characters in the command line plus the 
   621	                 stored dial string exceeds 255 characters
   622	
   623	NO ANSWER        If @ dial modifier is used and then no signal is detected 
   624	                 for at least five continuous seconds before the time 
   625	                 specified by S7 
   626	
   627	OK               If aborted by DTR ON-to-OFF whenever certain combinations of 
   628	                 &D and &Q are in effect. Refer to the &D command in this 
   629	                 chapter for details. If the ; dial modifier is processed in 
   630	                 the dial string. If aborted by a character from the DTE 
   631	                 during the dialing process
   632	
   633	Dial Modifiers
   634	Dial modifiers can be combined with the dial (D) command to perform a series 
   635	of operations within a single command line. For example, 
   636	ATDT9W1552368!@#71234; <CR> instructs the modem to use tone dialing to access 
   637	a number outside a PBX, wait for dial tone, dial the number 1552368, enter a 
   638	timed break recall, wait for quiet answer, and issue the PBX transfer code #7 
   639	before dialing extension number 1234, then return to the command state before 
   640	initiating the handshake.
   641	
   642	0-9 A B C D # * - Digits/Characters for Dialing 
   643	The digits/characters 0-9 A B C D # * are used to specify what numbers the 
   644	modem will dial. The characters A B C D # * represent specific tone pairs and 
   645	therefore can be used only when tone dialing is selected; these symbols are 
   646	ignored when pulse dialing is used.
   647	
   648	P - Pulse Dialing Method
   649	The P dial modifier selects the pulse method of dialing. The P modifier can be 
   650	issued with the dial command, or alone, to indicate the method used for 
   651	subsequent dialings. The factory-set method is pulse. Once this method is 
   652	selected, it is used until the other is chosen, or the modem is reset.
   653	
   654	T - Tone Dialing Method
   655	The T dial modifier selects the tone method of dialing. The T modifier can be 
   656	issued with the dial command, or alone, to indicate the method used for 
   657	subsequent dialings. Once this method is selected, it is used until the other 
   658	is chosen, or the modem is reset.
   659	
   660	W - Wait for Second Dial Tone
   661	The W dial modifier instructs the modem to wait for dial tone before 
   662	proceeding. If dial tone detection is not completed within the preset time 
   663	limit, the modem hangs up and returns the NO DIALTONE result code. Some PBXs 
   664	do not return a secondary proceed indication (second dial tone). The W dial 
   665	modifier is not effective in such systems and should not be used.
   666	
   667	, - Delay Processing of Next Character
   668	The comma (,) dial modifier in a dial string causes the modem to pause before 
   669	processing the next character or symbol in the command line. The duration of 
   670	the pause is determined by the value held in Register S8. The comma is 
   671	frequently inserted after the 9 (digit generally used to gain outside access 
   672	from a PBX) to allow sufficient time for the dial tone to occur before the 
   673	modem dials the telephone number. 
   674	
   675	@ - Wait for Quiet Answer
   676	The @ dial modifier instructs the modem to listen for five seconds silence 
   677	before continuing. The number of seconds the modem waits for silence is 
   678	determined by the value held in S7. This modifier is useful when dialing 
   679	telephone systems that produce no dial tone. If a five-second silence has not 
   680	been detected within the period set in S7, the modem hangs up and returns the 
   681	NO ANSWER result code. If it detects the five seconds of silence, the modem 
   682	processes the remaining characters in the dial string. Note that the modem 
   683	does not listen for silence until it first detects dial tone and some other 
   684	signal, such as a ringing signal, that lasts longer than 210 milliseconds. For 
   685	example, to dial 1552368, wait for a quiet answer, then dial a security code 
   686	85939, wait for a second dial tone, and dial extension 423 you would issue the 
   687	following command: ATDT 1552368 @ 85939 W 423 <CR>.
   688	
   689	! - Timed Break Recall (Hookflash)
   690	The ! dial modifier issues a timed break recall signal, which causes the modem 
   691	to hang up for 75 milliseconds, then reconnect. This feature can be used to 
   692	access such PBX features as call transfer.
   693	
   694	; - Return to Command State after Dialing
   695	The semicolon (;) dial modifier, used only at the end of a command line (just 
   696	before the <CR>), instructs the modem to return to the command state 
   697	immediately after dialing, without breaking the connection. 
   698	
   699	The ; is useful when calling an electronic service, such as that offered by a 
   700	bank, that permits you to use tones to transmit numbers once a connection has 
   701	been established. The modem can send tones even if your telephone cannot. The 
   702	example below illustrates the use of the semicolon modifier in communications 
   703	with an electronic banking service.
   704	
   705	ATDP 1552368; <CR>  Dials bank using pulse method
   706	
   707	OK  Command executed, but keeps the modem in command state (no carrier 
   708	handshake takes place)
   709	
   710	ATDT 4768; <CR>  Sends an ID code via tones and maintains modem in command 
   711	state.
   712	
   713	OK  Modem in command state; command executed.
   714	
   715	In this example, the ; differs from the +++ in that the escape sequence places 
   716	the modem in the command state only when two modems have completed a 
   717	handshake. The semicolon keeps the modem in command state; no CONNECT XXXXX 
   718	result code is displayed.
   719	
   720	DS=n - Dialing a Stored Telephone Number
   721	A stored number can be dialed from an asynchronous terminal by following the 
   722	dial (D) command with the S modifier, an equal sign, and the location of the 
   723	stored number (see &Zn=x command at the end of this section). The format of 
   724	the modifier is S=n, where n is location 0-3. If ATDS=2<CR> were issued, for 
   725	example, the modem would dial the string stored in memory location three of 
   726	its "telephone book."
   727	
   728	R - Originate a Call in Answer Mode 
   729	The dial modifier R (Reverse mode) enables the modem to dial an originate- 
   730	only modem by placing a call in answer mode. This modifier must be entered at 
   731	the end of the dialling (D) command string, before the <CR>.
   732	The R modifier directs the modem to act as if it had been sent an A command in 
   733	that part of the command string. 
   734	
   735	E - Command State Character Echo Selection
   736	The E command determines whether characters are echoed to the DTE from the 
   737	modem when it is command state. Some computers and terminals do not send the 
   738	characters you type to the screen; they only transmit them to the remote 
   739	system through the serial port. In this case, if Command State character echo 
   740	were not enabled by the modem, you would be unable to see what you type. If 
   741	the DTE does echo the characters you type in command state, and this function 
   742	is enabled in the modem, each character typed will appear twice.
   743	
   744	E0   Command state character echo disabled
   745	
   746	E1   Command state character echo enabled
   747	
   748	
   749	F - On-line State Character Echo Selection
   750	The F command is used by some Hayes modems, such as Smartmodem 1200, to 
   751	determine whether characters are echoed to the DTE from the modem when it is 
   752	in the on-line state. High-speed Hayes modems do not support the F0 option. 
   753	However, because the F command may be issued by older communications software, 
   754	F! is supported to assure backwards compatibility.
   755	
   756	F0   On-line character echo enabled (where not supported, ERROR result code is 
   757	returned)
   758	
   759	F1   On-line character echo disabled
   760	
   761	H - Hook Command Options
   762	The H command provides control over the line relay. Its most common use is 
   763	with the H0 option to initiate the Hangup Process and place the modem on 
   764	hook.H1 takes the modem off hook.
   765	
   766	H0   Execute the Hangup process if in the "on-line" command state or the local 
   767	analog loopback and analog loopback selftest conditions
   768	
   769	H1   Go off hook; do not execute the Handshake Process
   770	
   771	
   772	I - Internal Memory Tests
   773	The various forms of the I command instruct the modem to query its memory for 
   774	information about itself. the results of these tests are frequently used by 
   775	programmers for the purpose of determining compatibility with software. 
   776	Because these commands request information about the modem's firmware, they 
   777	are not run when a connection has been established with a remote modem.
   778	 
   779	I0 - display product code
   780	This option reports the product code of the modem to the DTE. The modem 
   781	produces information text dependent upon its highest DCE line speed. The 
   782	responses below are examples:
   783	
   784	Result Codes..Description
   785	-----------------------------------------------------------------------------
   786	     300      Smartmodem 300(TM)
   787	
   788	     120      Smartmodem 1200(TM), Smartmodem 1200B(TM),
   789	              Smartmodem 1200C(TM), Smartmodem 1200A(TM)
   790	
   791	     240      Smartmodem 2400(TM), Smartmodem 2400B(TM),
   792	              Smartmodem 2400P(TM), Smartmodem 2400Q(TM),
   793	              Smartmodem 2400M(TM), V-series Smartmodem 2400,
   794	              V-series Smartmodem 2400B, 
   795	              V-series Smartmodem 2400P, 
   796	              V-series Smartmodem 2400M
   797	
   798	     960      Smartmodem 9600, V-series Smartmodem 9600(TM),
   799	              V-series Smartmodem 9600B(TM), 
   800	              V-series Smartmodem 9600P(TM), 
   801	              V-Series ULTRA Smartmodem 9600
   802	
   803	I1- display ROM checksum
   804	The I1 command instructs the modem calculate the value of the ROM checksum. 
   805	The response is a 3-digit decimal information text, the sum of all of the 
   806	bytes in ROM.
   807	
   808	I2 - perform ROM checksum test
   809	This command instructs the modem to verify the ROM checksums. Depending on 
   810	whether the ROM checksum has been found to be correct, the modem produces an 
   811	info text that resembles a verbose result code. The modem memory test compares 
   812	the ROM checksum and tests it against the correct sum, also stored in ROM. 
   813	Rather than returning a value in the way the I1 one command does, the I2 
   814	command generates a result code. When the checksum is valid, the response is: 
   815	OK. When the ROM checksum fails, the modem responds with ERROR.
   816	
   817	I4 - identify product features
   818	The capabilities and features of the modem are encoded into a string of info-
   819	text that consists of several strings that are ASCII character representations 
   820	of hex numerals which are bit-mapped. The first character of each string 
   821	identifies which bit maps are in that string. For example, the "a-string" 
   822	starts with a lower case "a" and identifies most of the basic modem 
   823	capabilities such as modulation standards supported and support for AutoSync.
   824	
   825	Since the following tables identify features for Hayes modem products, the 
   826	values included here are subject to change and expansion.
   827	
   828	The I4 info-text displayed:
   829	
   830	a097800C204C264<CR><LF> <CR><LF>bF60410000<CR><LF> 
   831	<CR><LF>r1031111111010000<CR><LF> <CR><LF>r3000111010000000
   832	
   833	surrounded by additional <CR> and <LF> characters as are required by the V 
   834	command option in effect. According to convention, all <CR> and <LF> 
   835	characters are defined by S3 and S4, respectively. The meanings of the a, b, 
   836	r1, and r3 strings currently defined are described below.
   837	
   838	I4 "a" String..
   839	The first string, the a-string, is encoded by characters, hex symbols 
   840	following the "a" character, each of which represents four bits.
   841	
   842	a D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12 D13 D14 D15 D16 D17 D18 
   843	
   844	
   845	D1, D2 Reserved
   846	D3     Bit 3: Indicates modem based on SM1200FE commands 
   847	       Bit 2: Indicates modem based on SM2400 commands 
   848	       Bit 1: Indicates that modem supports &J commands
   849	       Bit 0: Indicates that modem supports &L commands 
   850	D4     Bit 3: Indicates that modem supports AutoSync (&Q4)
   851	D5     Bit 3: Plug-in board modem product
   852	       Bit 2: Stand alone modem product
   853	       Bit 1: Supports &H0 through &H4
   854	       Bit 0: Supports &I0 through &I4 
   855	D7     Bit 3: Supports V.22 at 1200 bps
   856	       Bit 2: Supports Bell 212A 
   857	       Bit 1: Supports ASB (&Q6) in V.23 75xmt/1200rcv
   858	       Bit 0: Supports ASB (&Q6) in V.23 1200xmt/75rcv 
   859	D8     Bit 3: Supports V.23 1200xmt/75rcv
   860	       Bit 2: Supports V.23 1200 half duplex
   861	       Bit 1: Supports V.23 75xmt/1200rcv
   862	       Bit 0: Supports V.23 75xmt/600rcv 
   863	D9     Bit 3: Supports V.21 100/300
   864	       Bit 2: Supports ASB (&Q6) in V.23 75xmt/600rcv
   865	       Bit 1: Supports ASB (&Q6) in V.23 600xmt/75rcv
   866	       Bit 0: Supports V.23 600xmt/75rcv 
   867	D10    Bit 2: Supports V.22bis at 2400 bps
   868	       Bit 1: Supports V.27ter at 2400 bps
   869	       Bit 0: Supports V.27ter at 4800 bps 
   870	D11    Bit 3: Supports V.32 full duplex at 4800 bps
   871	       Bit 2: Supports V.32 half duplex at 4800 bps
   872	       Bit 1: Supports (Reserved) at 4800 bps
   873	       Bit 0: Supports V.29 half duplex at 4800 bps 
   874	D12    Bit 3: Supports V.29 half duplex at 7200 bps
   875	       Bit 2: Supports V.32 full duplex at 9600 bps
   876	       Bit 1: Supports V.32 half duplex at 9600 bps
   877	       Bit 0: Supports (Reserved) at 9600 bps 
   878	D13    Bit 3: Supports V.29 half duplex at 9600 bps
   879	       Bit 2: Supports Bell 103 110/300 bps
   880	D15    Bit 1: Supports S95 Bit 5 for COMPRESSION: result code
   881	       Bit 0: Supports S95 Bit 4 for AUTOSTREAM: result code 
   882	D16    Bit 3: Supports S95 Bit 3 PROTOCOL: result code
   883	       Bit 2: Supports S95 Bit 2 CARRIER result code
   884	       Bit 1: Supports S95 Bit 1 CONNECT/ARQ result code
   885	       Bit 0: Supports S95 Bit 0 CONNECT XXXX (for DCE rate) 
   886	
   887	
   888	I4 "b" String
   889	The second string, the b-string, is composed of the ASCII character "b" 
   890	followed by nine bytes (D1-D9). The bit map for each byte is defined as 
   891	follows:
   892	
   893	b D1 D2 D3 D4 D5 D6 D7 D8 D9
   894	
   895	D1    V.42 Alternate Protocol Supported
   896	      Bit 4: V.42 LAPM Protocol Supported
   897	      Bit 2: X.25 Protocol Supported
   898	      Bit 1: LAPB (Original V-series Point-to-Point error-control) Protocol
   899	      Supported
   900	
   901	D2    Bit 8: Reserved (should be set to zero)
   902	      Bit 4: MNP Class 5 Supported
   903	      Bit 2: V.42bis Supported
   904	      Bit 1: Compression Through the X.25 Network 
   905	      Supported
   906	
   907	D3/D4 These combine to indicate the number of AutoStream Type A channels which
   908	      are supported. The formula (D3*16 + D4) is used. Zero means AutoStream
   909	      is not supported
   910	
   911	
   912	I4 "r1" and "r3" strings
   913	These ID strings allow software to determine the available speeds that may be 
   914	used to send AT commands. The r1-string contains a bit map that indicates at 
   915	which DTE rates the autobaud process is supported.
   916	
   917	The r3-string is issued if synchronous DTE speeds are supported. The map 
   918	indicates which DTE rates are supported in Synchronous modes. Each r-string 
   919	begins with the lower case letter "r" and may be followed by as many as 39 
   920	additional characters, not counting <CR><LF>'s that will be used to separate 
   921	them from other strings. Those 39 additional characters are limited to the 
   922	ASCII-HEX alphabet 0-9 and A-F.
   923	
   924	After the two lead-in characters (i.e., r<n>), all subsequent characters 
   925	contain the DTE rate maps. All maps have the same mapping for convenience to 
   926	software. (Refer to the chart below.) Not all bit assignments are possible: 
   927	for example, the split speeds have no meaning in the r3 synchronous map and 
   928	are always filled with zeros.
   929	
   930	In r1, if the bit is filled with a 1, the corresponding DTE rate is supported 
   931	for sending AT commands to the device. A zero indicates that DTE rate is not 
   932	supported for AT commands.
   933	
   934	In the r3 map, the bits simply indicate which DTE rates are supported for 
   935	synchronous operation on-line. This does not indicate, however, the supported 
   936	rates for synchronous V.25bis commands.
   937	
   938	Split speeds if available are marked in the r1 string only when the 
   939	appropriate B command option has been selected. Future expansion of these 
   940	strings may include new speeds that are not in strict ascending order.
   941	
   942	DTE Rate Bit Map for r1 and r3 Strings
   943	
   944	   Character    Bit #       DTE Rate
   945	-----------------------------------------------------------------------------
   946	      3:1       bit 0       45.45 bps    
   947	      3:2       bit 1       50
   948	      3:4       bit 2       75
   949	      3:8       bit 3       75/600 (xmt is 75, rcv is 600) 
   950	
   951	      4:1       bit 4       75/1200
   952	      4:2       bit 5       110
   953	      4:4       bit 6       134.5
   954	      4:8       bit 7       50
   955	
   956	      5:1       bit 8       300
   957	      5:2       bit 9       450
   958	      5:4       bit 10      600
   959	      5:8       bit 11      600/75
   960	
   961	      6:1       bit 12      1200
   962	      6:2       bit 13      1200/75
   963	      6:4       bit 14      1800
   964	      6:8       bit 15      2000
   965	
   966	      7:1       bit 16      2400
   967	      7:2       bit 17      3000
   968	      7:4       bit 18      3600
   969	      7:8       bit 19      4200
   970	
   971	      8:1       bit 20      4800
   972	      8:2       bit 21      5400
   973	      8:4       bit 22      6000
   974	      8:8       bit 23      6600
   975	
   976	      9:1       bit 24      7200
   977	      9:2       bit 25      7800
   978	      9:4       bit 26      8400
   979	      9:8       bit 27      9000
   980	
   981	      10:1      bit 28      9600
   982	      10:2      bit 29      12000
   983	      10:4      bit 30      14400
   984	      10:8      bit 31      16800
   985	
   986	      11:1      bit 32      19200
   987	      11:2      bit 33      21600
   988	      11:4      bit 34      24000
   989	      11:8      bit 35      26400
   990	
   991	      12:1      bit 36      28800
   992	      12:2      bit 37      31200
   993	      12:4      bit 38      33600
   994	      12:8      bit 39      36000
   995	
   996	      13:1      bit 40      38400
   997	      13:2      bit 41      43200
   998	      13:4      bit 42      48000
   999	      13:8      bit 43      52800
  1000	
  1001	      14:1      bit 44      56000
  1002	      14:2      bit 45      57600
  1003	      14:4      bit 46      62400
  1004	      14:8      bit 47      64000
  1005	
  1006	      15:1      bit 48      67200
  1007	      15:2      bit 49      72000
  1008	      15:4      bit 50      76800
  1009	      15:8      bit 51      81600
  1010	
  1011	      16:1      bit 52      86400
  1012	      16:2      bit 53      91200
  1013	      16:4      bit 54      96000
  1014	      16:8      bit 55      100800
  1015	
  1016	      17:1      bit 56      105600
  1017	      17:2      bit 57      110400
  1018	      17:4      bit 58      115200
  1019	      17:8      bit 59      reserved ("0")
  1020	
  1021	L - Speaker Volume Level Selection
  1022	The L command setting determines the volume level of the speaker, when 
  1023	supported by the modem. Some modems use the speaker of the computer in which 
  1024	they are installed. In this case, where supported, the L command adjusts the 
  1025	speaker volume as indicated in the options below for the duration of the 
  1026	communications session.
  1027	
  1028	L0  Low speaker volume
  1029	
  1030	L1  Low speaker volume
  1031	
  1032	L2  Medium speaker volume
  1033	
  1034	L3  High speaker volume
  1035	
  1036	M - Speaker On/Off Selection
  1037	The M command setting determines whether the speaker function of the modem is 
  1038	on or off. Some modems use the speaker of the computer in which they are 
  1039	installed. In this case, where supported, the M command turns the speaker on 
  1040	an off as indicated in the options below for the duration of the 
  1041	communications session.
  1042	
  1043	M0   Speaker always off.
  1044	
  1045	M1   Speaker on until carrier detected.
  1046	
  1047	M2   Speaker always on; stays on after carrier is detected.
  1048	
  1049	M3   Speaker off as digits are dialed, but on during ringback and on until
  1050	     carrier signal is detected.
  1051	
  1052	N - Negotiation of Handshake Options
  1053	The N command selects whether or not the local modem performs a negotiated 
  1054	handshake with a remote modem when the communications speeds of the two modems 
  1055	are different. The options for this command are useful when a particular speed 
  1056	and communication standard are required. Both symmetrical and asymmetrical 
  1057	protocols can be selected. Note that the options supported by for this command 
  1058	vary significantly between country-specific implementations.
  1059	
  1060	N0  When originating or answering, handshake only at 
  1061	the communication standard specified by S37 and B command
  1062	
  1063	N1  When originating, begin handshake at the communication standard specified 
  1064	by the B command and S37. During handshake fallback to a lower speed may occur
  1065	When answering, negotiate according to the following sequence of communication 
  1066	standards: V.32, Ping Pong, V.22bis, V.22, and V.21
  1067	
  1068	N2  When originating, begin handshake at the communication standard specified 
  1069	by the B command and S37. During handshake fallback to a lower speed may occur
  1070	When answering, negotiate according to the following sequence of communication 
  1071	standards: V.32, Ping Pong, V.22bis, V.22, V.23, and V.21
  1072	
  1073	N3  When originating, handshake only at the communication standard specified 
  1074	by S37 and B command. When answering, negotiate according to the following 
  1075	sequence of communication standards: V.32, Ping Pong, V.22bis, V.22, and V.21
  1076	
  1077	N4  When originating, handshake only at the communication standard specified 
  1078	by S37 and B command. When answering, negotiate according to the following 
  1079	sequence of communication standards: V.32, Ping Pong, V.22bis, V.22, V.23, and 
  1080	V.21
  1081	
  1082	N5  When originating, begin handshake at the communication standard specified 
  1083	by B command and S37. During handshake fallback to a lower speed may occur
  1084	When answering, handshake only at the communication standard specified by S37 
  1085	and B. 
  1086	
  1087	O - On-Line Command
  1088	If the modem is in the on-line command state, then the O0 command causes it to 
  1089	go to the on-line state of the previously established connection. If the O1 
  1090	command is issued (modems supporting 2400 bps and higher), the modem goes to 
  1091	on-line state and retrains its adaptive equalizer.
  1092	
  1093	If the modem is off hook in the idle state, then O0 and O1 (modems supporting 
  1094	2400 bps and higher) cause it to go to the handshaking state. Originate or 
  1095	answer mode is determined from the last D or A command or R dial modifier that 
  1096	was selected. If the modem is on-hook, idle, or if the modem is in a test 
  1097	condition, a command execution error results. Note that O1 serves a different 
  1098	purpose in lower speed modems (e.g., Smartmodem 1200 and Smartmodem 300).
  1099	
  1100	P - Select Pulse Dialing Method
  1101	The P command instructs the modem to use pulse dialing. Dialed digits will be 
  1102	pulse dialed until a T command or dial modifier is received. This command is 
  1103	also discussed under Dial modifiers, in conjunction with the D command.
  1104	
  1105	Q - Result Code Display Options
  1106	The Q command controls whether the result codes generated by the modem are 
  1107	displayed to the attached DTE. Some software does not function properly when 
  1108	modem responses are returned. 
  1109	
  1110	Q0  Result codes enabled
  1111	
  1112	Q1  Result codes disabled
  1113	
  1114	Q2  Disables the RING result code. In answer mode, also disables CONNECT and 
  1115	NO  CARRIER result codes
  1116	
  1117	
  1118	Sr - Addresses an S-Register
  1119	The Sr command points to a specific S-Register. Subsequent commands, such as ? 
  1120	and =, may read or write to the selected register. Note that S0 is the 
  1121	factory-set pointer for this command, and that the S-address is not stored in 
  1122	a stored profile. Thus, the &F, Z0, and Z1 commands will select S0 and 
  1123	possibly affect subsequent ? and = commands unless they are preceded by an Sr 
  1124	command. Note that the value of S0 is of course storable; it is the pointer to 
  1125	S0 that is not storable.
  1126	
  1127	Sr=n - Write To An S-Register
  1128	The Sr=n command is writes a value to a specified register. The value of n is 
  1129	written to the S-Register specified by r, overriding the previous value. If no 
  1130	n suffix is present, the address previously selected via Sr is used. If no n 
  1131	suffix is present, the value 0 is written.
  1132	
  1133	Sr? - Read An S-Register
  1134	The contents of S-Register r are sent to the DTE as three decimal digits. This 
  1135	informational text response is formatted with <CR><LF> as determined by the V 
  1136	command currently in effect.  If no n (suffix) is present, the last register 
  1137	selection is assumed. (Refer to the Sr command.) On power up, the factory-set 
  1138	selection is 0. Note: ? is interpreted by the modem as Sr?.
  1139	
  1140	
  1141	T - Select Tone Dialing Method
  1142	The T command instructs the modem to send DTMF tones while dialing. Dialed 
  1143	digits will be tone dialed until a P command or dial modifier is received. 
  1144	This command is also discussed under Dial modifiers, in conjunction with the D 
  1145	command.
  1146	
  1147	
  1148	V - Result Code Format Options
  1149	The V command determines whether result codes (including call progress and 
  1150	negotiation progress messages) are displayed as numbers or words.
  1151	
  1152	V0  Result codes displayed in numeric form
  1153	
  1154	V1  Result codes displayed in verbose form
  1155	
  1156	W - Negotiation Progress Message Selection
  1157	The W command works in conjunction with S95 (where supported) to determine 
  1158	which result codes will be used to describe the type of connection and 
  1159	protocol, etc., that resulted from handshaking and negotiation.
  1160	
  1161	The W command supports extended result codes in addition to the CONNECT result 
  1162	code. When the modem is operated in error-control mode (&Q5 is in effect), W 
  1163	command and S95 together allow the user to select these additional result 
  1164	codes:
  1165	
  1166	      CARRIER
  1167	      PROTOCOL
  1168	      AUTOSTREAM
  1169	      COMPRESSION
  1170	      CONNECT
  1171	
  1172	Any result codes enabled by the W command and S95 will be generated in the 
  1173	order indicated above. If AutoStream is not being used, no AutoStream result 
  1174	code is returned. Result codes not enabled by the W command option in effect 
  1175	may be turned-on by setting certain bits in S95. The W command options below 
  1176	are available when S95 is configured for any setting other than the factory-
  1177	setting of 0.
  1178	
  1179	W0  CONNECT result code reports DTE speed, and if S95=0, then disable all
  1180	    extended result codes
  1181	
  1182	W1  CONNECT result code reports DTE speed, and if S95=0, then enable the 
  1183	    CARRIER and PROTOCOL extended result codes
  1184	
  1185	W2  CONNECT result code reports DCE speed, and if S95=0, then disable all
  1186	    extended result codes
  1187	
  1188	Refer to the S95 bit map description in the next section. Note that selecting 
  1189	W0 and setting S95=12 is the same as selecting W1; and that selecting W0 and 
  1190	setting S95=1 is the same as selecting W2. S95 cannot be configured to force 
  1191	W2 to report DTE speed in the CONNECT result code; and that there is no 
  1192	setting of S95 that will force W1 not to produce the CARRIER and PROTOCOL 
  1193	result codes. S95 extends the functionality of the W command. The W command 
  1194	with S95=0 (factory setting) maintains backwards compatibility with previous 
  1195	V-Series System Products. However, selecting W0 and setting S95 as required 
  1196	allows you to tailor result codes characteristics to your own requirements.
  1197	
  1198	X - Call Progress Options
  1199	The X command enables tone detection options used in the dialing process. As 
  1200	these functions are enabled and disabled, the modem's result code reporting is 
  1201	also affected. For this reason, this command is frequently used to control the 
  1202	modem's range of responses; however, its primary function is that of 
  1203	controlling the modem's call response capabilities. Result code definitions 
  1204	are covered in the next section.
  1205	
  1206	X0  Busy and dial tone detection are disabled. Only result codes 0-4 are 
  1207	enabled. Only the CONNECT result code is permitted, and no indication of the 
  1208	telephone line speed. This setting overrides any other result code selections 
  1209	made with the W command and S95
  1210	
  1211	X1  Busy and dial tone detection are disabled. Result codes 0-5 are enabled 
  1212	and linespeed reporting with CONNECT XXXX messages. W command options and S95 
  1213	are enabled
  1214	
  1215	X2  Busy detection is disabled. Dial tone detection is enabled. Result codes 
  1216	0-6 are enabled and linespeed reporting with CONNECT XXXX messages. W command 
  1217	options and S95 are enabled
  1218	
  1219	X3  Busy detection is enabled. Dial tone detection is disabled. Result codes 
  1220	0-5 and 7 are enabled and linespeed reporting with CONNECT XXXX messages. W 
  1221	command options and S95 are enabled
  1222	
  1223	X4  Busy and dial tone detection are enabled. Result codes 0-7 are enabled and 
  1224	linespeed reporting with CONNECT XXXX messages. W command options and S95 
  1225	enabled
  1226	
  1227	The @ and W dial modifier result codes are not affected by the X command in 
  1228	effect. The @ dial modifier enables result codes 8 (NO ANSWER) and 7 (BUSY) 
  1229	each time it occurs in the dial string. The W dial modifier enables result 
  1230	codes 6 (NO DIALTONE) and 7 (BUSY) each time it occurs in the dial string.
  1231	
  1232	Y - Long Space Disconnect Options
  1233	The Y command determines if the modem will disconnect a call upon receiving a 
  1234	long space (1.6 sec break) signal from the distant end. If Y1 is selected, the 
  1235	modem will send a 4-second break (space) before going on hook when an H0 
  1236	command is issued or, if &D2 is selected, when DTR goes off. Refer also to 
  1237	register S82 for more information.
  1238	
  1239	Y0  Disable long space disconnect
  1240	
  1241	Y1  Enable long space disconnect
  1242	
  1243	Z - Soft Reset Command
  1244	The modem can be reset by issuing the Z. The command tells the modem to go on 
  1245	hook and restore the selected stored profile. Any non-storable parameters 
  1246	previously set by commands are returned to their factory settings. The modem 
  1247	aborts execution of all commands following the Z command on the same command 
  1248	line. Subsequent commands on the same line are ignored. Refer to the &W 
  1249	command for description of which modem parameters are included in a stored 
  1250	profile. Z0 recalls stored user profile 0, stored with &W0; Z1 recalls stored 
  1251	user profile 1, stored with &W1.  
  1252	
  1253	Z0  Recall stored profile 0
  1254	
  1255	Z1  Recall stored profile 1
  1256	
  1257	&B - V.32 Auto Retrain Options
  1258	The &B command is used to enable and disable auto retrain in V.32 mode. During 
  1259	a V.32 or a V.22bis connection, the modem continually monitors line quality. 
  1260	The &B command determines whether the modem ignores a line quality problem or 
  1261	attempts to correct the situation by retraining. The selection made with this 
  1262	command affects V.32 connections only.
  1263	
  1264	&B and &B0  Disable V.32 Auto Retrain 
  1265	
  1266	&B1         Enable V.32 Auto Retrain
  1267	
  1268	&C - Data Carrier Detect Options
  1269	The &C command determines how the state of the DCD lead relates to the carrier 
  1270	from the distant end. The command will take effect immediately when issued. 
  1271	The behavior patterns for DCD depend on the specific &C and &Q commands in 
  1272	effect. Also, DCD patterns depend on whether on-line operation is half or full 
  1273	duplex. Finally, if &Q5 is in effect, DCD behavior depends on whether S10=255 
  1274	or S10<255. DCD circuit operation is according to the descriptions below.
  1275	
  1276	DCD Behaviors for Half-Duplex Operation
  1277	              &C0  &C1  &C2
  1278	----------------------------------------
  1279	&Q1           E    C    C
  1280	&Q2           E    C    C
  1281	&Q3           E    C    C
  1282	&Q4           E    C    C
  1283	&Q5           A    E    A
  1284	&Q5 (S10=255) A    C    F
  1285	
  1286	DCD Behaviors for Full-Duplex Operation
  1287	             &C0   &C1 &C2
  1288	----------------------------------------
  1289	&QO           A    B    D
  1290	&Q1           B    B    B
  1291	&Q2           B    B    B
  1292	&Q3           B    B    B
  1293	&Q4           B    B    B
  1294	&Q5           A    E    A
  1295	&Q6           A    B    D
  1296	&Q5 (S10=255) A    B    D
  1297	
  1298	Table Legend:
  1299	
  1300	A - The DCD circuit is ON at all times
  1301	
  1302	B - DCD=0 in Idle, DCD tracks carrier in On-Line State with S9:
  1303	    The DCD circuit is OFF while the connection attempt is being made. It goes
  1304	    ON immediately after the CONNECT result code is issued, and goes OFF 
  1305	    immediately after loss of remote carrier. If the remote carrier is 
  1306	    restored and the S9 (carrier detect response time) delay is completed 
  1307	    before the S10 (lost carrier to hang-up) delay expires, then hang-up is 
  1308	    avoided and the DCD circuit goes ON again as the modem goes on-line. 
  1309	    Otherwise, DCD remains OFF during the hang-up process prior to the result 
  1310	    code message. If S10=255, hangup will not occur unless initiated by the 
  1311	    DTE.
  1312	
  1313	C - DCD=0 in Idle, DCD tracks carrier in On-Line State without S9:
  1314	    The DCD circuit is OFF when the modem is idle. It goes ON immediately 
  1315	    after the CONNECT result code is issued, and goes OFF immediately after 
  1316	    loss of remote carrier. If the remote carrier is restored, then DCD will 
  1317	    go ON regardless of the S9 value in effect.
  1318	
  1319	D - DCD=1 in Idle, DCD tracks in On-Line with S9:
  1320	    The DCD circuit is normally ON when the modem is idle, and it is ON while 
  1321	    the remote carrier is present and the modem is on-line. The signal goes 
  1322	    OFF immediately after loss of remote carrier. If the remote carrier is 
  1323	    restored, then DCD will go ON again regardless of S9. If the Hangup 
  1324	    Process is initiated by the DTE using DTR or issuing ATH<CR> from the 
  1325	    on-line state, then DCD will return ON just prior to the modem issuing the 
  1326	    OK result code. If S10<255 (lost carrier to hang-up delay) and a timeout 
  1327	    equal to S10 expires before the remote carrier is restored, then the 
  1328	    hang-up process begins during which DCD=0. DCD will return ON again just 
  1329	    prior to the issue of the NO CARRIER result code. If the remote carrier is 
  1330	    restored and the S9 delay is completed before the S10 delay expires; then 
  1331	    the modem does not hangup, and DCD will go ON again when the modem returns 
  1332	    on on-line.
  1333	
  1334	E - DCD=0 in Idle, DCD=1 in On-Line State (no tracking):
  1335	    The DCD circuit is OFF when the modem is idle in the command state. DCD 
  1336	    goes ON immediately after the CONNECT result code is issued, and it goes 
  1337	    OFF when the modem begins the hangup process. DCD does not track the 
  1338	    presence of remote carrier energy.
  1339	
  1340	F - DCD=1 in Idle, DCD tracks in On-Line without S9:
  1341	    This behavior pattern is associated only with (&C2, &Q5, S10=255, half 
  1342	    duplex), and it only occurs at 4800 and 9600 bps in Hayes proprietary V.32 
  1343	    half-duplex operation (Ping Pong). The DCD circuit is normally ON when the 
  1344	    modem is operating in half duplex and idle in the command state, and it is 
  1345	    ON while the remote carrier is present in the on-line state. It goes OFF 
  1346	    approximately 3 seconds after loss of remote carrier. If the remote 
  1347	    carrier is restored, then DCD will go ON again (regardless of S9). If the 
  1348	    hangup process is initiated by the DTE using DTR or escaping to command 
  1349	    state and issuing ATH<CR> when on-line, DCD will return ON just prior to 
  1350	    the modem issuing the OK result code. The modem will not begin the hangup 
  1351	    process if S10=255.
  1352	
  1353	&D - Data Terminal Ready Options
  1354	The &D command affects how the modem will respond to the state of the DTR 
  1355	signal and changes to this circuit. The effects of DTR states and changes are 
  1356	also very dependent upon the &Q command that is in effect. The test modes 
  1357	associated with certain &T commands are only affected by DTR changes when &D3 
  1358	is in effect and are not affected by &Q command options. Below, DTR-related 
  1359	behaviors are defined in relation to the &D and &Q commands in effect in smart 
  1360	mode. In dumb mode, the behavior is as defined below for &D2 regardless of the 
  1361	actual &D command in effect.
  1362	
  1363	DTR Behaviors in Smart Mode
  1364	      &D0        &D1        &D2        &D3
  1365	-----------------------------------------------
  1366	&Q0   none       E          I, H       R
  1367	&Q1   H          E          I, C, H    R
  1368	&Q2   I, D, H    I, D, H    I, D, H    I, D, R
  1369	&Q3   I, O, H    I, O, H    I, O, H    I, O, R
  1370	&Q4   H          E          I, C, H    R
  1371	&Q5   none       E          I, S       R
  1372	&Q6   none       E          I, S       R
  1373	
  1374	
  1375	Legend for Table Above -
  1376	Auto-Answer Function
  1377	I   The DCD circuit is ON at all times.
  1378	
  1379	DTR OFF-to-ON Effects:
  1380	-----------------------------------------------------------------------------
  1381	D  If S1=0 and in the idle condition, DTR OFF-to-ON signals the modem to go 
  1382	   off hook and start the dialing process using the dial string stored by the
  1383	   last &Z0= command. S25 does not affect the modem's reactions to DTR going 
  1384	   OFF-to-ON.
  1385	
  1386	O  If S1=0 and in the idle condition, DTR OFF-to-ON signals the modem to go 
  1387	   off hook and start the originate handshake process. S25 does not affect the 
  1388	   modem's reactions to DTR going OFF-to-ON.
  1389	
  1390	C  Following a CONNECT result code, DTR must go ON before the time specified 
  1391	   by S25 (in seconds), or CTS will not go ON and the modem will go to the 
  1392	   Hangup Process, issue the NO CARRIER result code, at the Response Speed,
  1393	   and go to the idle condition.
  1394	
  1395	DTR ONÐtoÐOFF Effects
  1396	-----------------------------------------------------------------------------
  1397	E  If in the on-line state, DTR ON-to-OFF signals the modem to exit the 
  1398	   on-line state, issue an OK result code at the response speed, and go to 
  1399	   command state, while maintaining the connection. DTR transitions to OFF 
  1400	   that do not persist more than the time specified by S25 will not cause the 
  1401	   modem to exit the on-line state.
  1402	
  1403	H  If in the on-line state, or in the handshaking, dialing, or answer process,
  1404	   DTR ON-to-OFF signals the modem to execute the hangup process, issue an OK 
  1405	   result code at the response speed, and go to the idle condition. The modem 
  1406	   is not reset by DTR. This will also abort any dial, handshake, or answer in 
  1407	   process. DTR transitions to OFF that do not persist more than the time 
  1408	   specified by S25 will not trigger a transition to the hangup process.
  1409	
  1410	R  DTR ON-to-OFF signals the modem to immediately perform a hard reset 
  1411	   regardless of state. All processes are aborted. S25 does not affect the 
  1412	   modem's reactions to DTR going OFF-to-ON. There is no result code.
  1413	
  1414	S  If in On-Line, or in the Handshaking, dialing processes, or answer process, 
  1415	   a transition of DTR ON-to-OFF signals the modem to shut down the 
  1416	   communications link. When the modem has completed transmitting the data 
  1417	   placed into its buffer by the DTE and has completed sending the received 
  1418	   data to the DTE, the modem will execute the hangup process, issue an OK 
  1419	   result code at the response speed, and remain idle in the command state.
  1420	   The modem is not reset by DTR. This will also abort any dial, handshake, or 
  1421	   answer in process. DTR transitions to OFF that do not persist more than the 
  1422	   time specified by S25 will not trigger a transition to the hangup process.
  1423	
  1424	&F - Recall Factory Profile
  1425	The &F command recalls the configuration stored programmed in ROM at the 
  1426	factory. This operation completely replaces the command options and S-Register 
  1427	values in the active configuration with those comprising the factory 
  1428	configuration. For the commands and registers stored and their factory-set 
  1429	values, see the AT Command Set Reference Card accompanying your modem.
  1430	
  1431	&G - Guard Tone Selection
  1432	The &G command tells the modem which guard tone, if any, to transmit while 
  1433	transmitting in the high band (answer mode). Guard tone is transmitted only 
  1434	while the modem is in the transmitting in the answer mode and during the 
  1435	answer handshake.
  1436	
  1437	&G0  Guard tones disabled
  1438	
  1439	&G2  1800 Hz guard tone enabled (V.22,V.22bis only)
  1440	
  1441	
  1442	&J - Jack Type Selection (Auxiliary Relay Options)
  1443	The &J command designates the type of jack with which the modem is connected 
  1444	to the telephone line. This selection is made by changing the way the 
  1445	auxiliary relay is controlled. The auxiliary relay connects the A lead to the 
  1446	A1 lead, but is normally open.
  1447	
  1448	&J0   The auxiliary relay is never closed.(suitable for RJ-11, RJ-41S, or 
  1449	      RJ-45S type phone jack)
  1450	
  1451	&J1  The auxiliary relay is closed while modem is off hook.(suitable for RJ-12
  1452	     or RJ-13 type phone jack)
  1453	
  1454	
  1455	&K - Local Flow Control Options
  1456	The &Kn command is used to select the local flow control method for use when 
  1457	the modem is operating in error-control mode or asynchronous mode with 
  1458	Automatic Speed Buffering (ASB). ASB is used for communication environments 
  1459	requiring a "Fixed Speed Interface" between the modem and the DTE.
  1460	
  1461	S39 stores the current flow control setting. Flow control is always inhibited 
  1462	in command state and is valid only when on-line in error-control mode. Bi-
  1463	directional flow control regulates the data stream between the DTE and the 
  1464	modem. Specific functions depending on parameter value is as follows:
  1465	
  1466	&K0  All flow control is disabled. May be selected for use during 
  1467	     error-control mode at the risk of overflowing the buffers and 
  1468	     losing data
  1469	
  1470	&K1  RTS/CTS flow control is enabled. Note that the DTE-V-series cable must 
  1471	     have the supporting wires. The &T19 command may be used by software to 
  1472	     determine if the cable is properly wired
  1473	
  1474	&K2  XON/XOFF flow control is enabled. These characters are not programmable 
  1475	     and are fixed at DC1 and DC3, respectively. This method should not be 
  1476	     used when XON/XOFF characters will be sent as user data or as part of a 
  1477	     file transfer protocol
  1478	
  1479	&K3  RTS/CTS flow control is enabled. Note that the DTE-V-series cable must 
  1480	     have the supporting wires. The &T19 command may be used by software to 
  1481	     determine if the cable is properly wired
  1482	
  1483	&K4  XON/XOFF flow control is enabled. These characters are not programmable 
  1484	     and are fixed at DC1 and DC3, respectively. This method should not be 
  1485	     used when XON/XOFF characters will be sent as user data or as part of a 
  1486	     file transfer protocol
  1487	
  1488	&K5  Transparent XON/XOFF The data stream is controlled by characters DC1 and 
  1489	     DC3, The chars DLE, DC1, and DC3 are transparentized by sending DLE 
  1490	     followed by the character XORed with 21hex
  1491	
  1492	
  1493	&L - Line Type Selection (Dialup/Leased)
  1494	The &L1 command instructs the modem to alter its function for leased line 
  1495	environments. The modem will act as if S10=255 and M0 are in effect. It will 
  1496	not dial numbers or send answer tone. The modem must receive an X1D or A 
  1497	command to go on-line. The modem will then go to the dialing or answering 
  1498	process, respectively. Once the handshaking process is completed, the modem 
  1499	tries to stay in the on-line state. When it loses carrier, it returns to the 
  1500	dialing or answering process. Carrier level is determined in one of several 
  1501	techniques, depending on the particular modem. See the Installation Guide for 
  1502	information on setting carrier level.
  1503	
  1504	&L0  Select Dial up line operation
  1505	&L1  Select Leased line operation
  1506	
  1507	&O - PAD Channel Selection
  1508	The &O command instructs the modem to move from AT command state to a PAD 
  1509	waiting state where it is ready to receive X.25 commands. A Reset operation 
  1510	(see Chapter Two: V-series X.25 Communications) is performed on the selected 
  1511	channel. This command can be issued while off-line so that the PADs may be 
  1512	configured prior to making a connection.
  1513	
  1514	&O0  Move to the PAD command state of the last channel accessed 
  1515	     (or to channel 1 if no previous channel has been selected) 
  1516	&O1  Move to the PAD command state for channel 1
  1517	&O2  Move to the PAD command state for channel 2
  1518	&O3  Move to the PAD command state for channel 3
  1519	&Q4  Move to the PAD command state for channel 4
  1520	
  1521	&Q - Communications Mode Options
  1522	The &Q command selects the communication mode. The &Q command determines how 
  1523	the modem will treat transmitted and received data while in the on-line state 
  1524	(i.e., asynchronous, synchronous, AutoSync, or error-control) and establishes 
  1525	certain call setup procedures. Refer also to the &C, &D, and &S commands in 
  1526	this section.
  1527	
  1528	Command  On-Line State          Special Features
  1529	-----------------------------------------------------------------------------
  1530	&Q0      Asynchronous           DCD and DSR behaviors are unique. Refer to &C 
  1531	                                and &S commands
  1532	
  1533	&Q1      Synchronous            DTR must be ON after CONNECT when timer value 
  1534	                                in S25 expires
  1535	
  1536	&Q2      Synchronous            DTR OFF-to-ON executes dialing process; the D 
  1537	                                command invalid DTR ON-to-OFF executes the  
  1538	                                hangup process; the A command is invalid
  1539	
  1540	&Q3      Synchronous            Dialing and Voice allowed from phone set when  
  1541	                                DTR is OFF. DTR OFF-to-ON executes the 
  1542	                                handshaking process (in originate mode); the D  
  1543	                                command is invalid. DTR ON-to-OFF executes 
  1544	                                hangup process; the A command invalid
  1545	
  1546	&Q4      Hayes AutoSync         DTR must be ON after CONNECT when timer equal 
  1547	                                to S25 expires. DTE data speed is 9600 bps 
  1548	                                which is not equal to response speed or line 
  1549	                                speed, yet all result codes are at the 
  1550	                                response speed
  1551	
  1552	&Q5      Error-Control          This enables error-control and is unique to 
  1553	                                V-series system products. Depending upon which
  1554	                                V-series system product is being used, any one 
  1555	                                of several point to point protocols can be 
  1556	                                negotiated: LAPB, LAPM, X.25 or MNP. After the 
  1557	                                modem handshake is complete, feature 
  1558	                                negotiation (see S48) is used to determine 
  1559	                                which protocol (see S46) will be used for the 
  1560	                                communication session. If no common protocol 
  1561	                                is found between the local and remote modems,
  1562	                                the fall back options (see S36) will be used
  1563	
  1564	&Q6	Buffered Asynchronous     Automatic Speed Buffering is useful for DTEs
  1565	                                that cannot adjust to changing transmission 
  1566	                                speeds. This mode ensures the DTE-modem speed 
  1567	                                is set at a constant rate regardless of the 
  1568	                                line speed determined during the modem 
  1569	                                handshake. With the exception of flow control 
  1570	                                (&Kn) between the DTE and the attached modem, 
  1571	                                this mode is identical to the standard 
  1572	                                asynchronous mode (&Q0). ASB operation is also 
  1573	                                a fall back option (see S36) when the modem is 
  1574	                                set for error-control mode (&Q5. Because the 
  1575	                                DTE and DCE speeds are different in ASB, a 256 
  1576	                                byte buffer is provided so that flow control 
  1577	                                does not occur on every character 
  1578	                                transmission. Some DTEs are sensitive to the 
  1579	                                buffer size so S-registers are provided to 
  1580	                                control the lower (S49) and upper (S50)
  1581	                                boundaries
  1582	
  1583	&R - RTS/CTS Options
  1584	The functions of CTS and RTS in synchronous modes (&Q1, &Q2, and &Q3) is 
  1585	determined by the &R command. The &R command has no effect if &Q0, &Q4, &Q5, 
  1586	or &Q6 is in effect. See also the discussion of the CTS and RTS signals in 
  1587	Chapter Three. Refer to the &K command for other RTS and CTS functions. Note 
  1588	when &Q4 is in effect (AutoSync operation), RTS and CTS behaviors are not 
  1589	unlike those specified by EIA 232-D/CCITT V.24.
  1590	
  1591	In Synchronous Modes (&Q1, &Q2, and &Q3):
  1592	-----------------------------------------------------------------------------
  1593	&R0  CTS tracks RTS while the modem is in On-Line State and observes the 
  1594	     RTS-to-CTS delay determined by S26
  1595	
  1596	&R1  CTS is ON while the modem is in the On-Line State, and RTS is ignored.
  1597	
  1598	In Other Modes (&Q0, &Q4, &Q5, and &Q6), the &R option in effect does not 
  1599	control the RTS and CTS functions.
  1600	
  1601	&S - Data Set Ready Options
  1602	The &S command controls the functions of the DSR circuit. The DSR circuit (pin 
  1603	6 of the EIA 232-D interface) indicates when the modem is connected a 
  1604	communication channel and is ready.
  1605	
  1606	In synchronous mode, when originating a call, DSR goes high when dialing is 
  1607	completed and an answer tone is detected from the remote modem. When answering 
  1608	a synchronous call, DSR goes high when the modem begins transmitting the 
  1609	answer tone.
  1610	
  1611	In asynchronous or error-control mode, the &S command can be used to configure 
  1612	the modem to keep the DSR signal high at all times or to have it operate 
  1613	according to the EIA 232-D specification (as described in Chapter Three).
  1614	
  1615	When &Q0, &Q5, and &Q6 are in effect:
  1616	-----------------------------------------------------------------------------
  1617	&S0  DSR circuit is always on
  1618	
  1619	&S1  DSR=0 in the Idle State and when in a test mode. DSR circuit is turned ON
  1620	     at start of the Handshaking Process. DSR is turned OFF when Hangup 
  1621	     Process is started
  1622	
  1623	&S2  DSR=0 in the Idle State and when in a test mode. DSR circuit is turned ON
  1624	     at end of handshake prior to issuing of the CONNECT result code. DSR is 
  1625	     turned OFF when hangup process is started
  1626	
  1627	When &Q1 to &Q4 are in effect:
  1628	-----------------------------------------------------------------------------
  1629	&S0-1  DSR=0 in the command state and at idle. DSR circuit is turned ON at 
  1630	       start of the handshaking process. DSR is turned OFF when hangup process
  1631	       is started
  1632	
  1633	&S2    &S2- DSR=0 in the command state and at idle. DSR circuit is turned ON 
  1634	       at end of handshake prior to issuing of the CONNECT result code. DSR is 
  1635	       turned OFF when Hangup Process is started
  1636	
  1637	
  1638	&T - Test Options
  1639	The following &T command options are used to configure and place the modem in 
  1640	various test modes as defined by CCITT V.54. These tests can be used to verify 
  1641	the analog and digital portions of the modem's operation, as well as those of 
  1642	the remote modem. Some of these tests require a connection be established 
  1643	before running the procedure. The &T19 command (not a CCITT V.54 test) can be 
  1644	used to test the RTS/CTS functions of the cable used to attach the modem to 
  1645	the DTE. 
  1646	
  1647	&T0 - Terminate Test In Process
  1648	If a V.54 Loopback Test is in process as a result of executing an &Tn command, 
  1649	then the &T0 command will cause that test to be terminated provided that the 
  1650	modem is in the command state, or a V.54 state that accepts commands from the 
  1651	DTE. See specific &T command descriptions for termination actions.
  1652	
  1653	&T1 - Initiate Local Analog Loopback
  1654	The modem goes on hook and configures itself for analog loopback (using low 
  1655	frequency band if no suffix or "O" suffix, and high frequency band if "A" 
  1656	suffix). DSR is turned off (if &S1 is in effect), the analog loopback state is 
  1657	entered, and the test timer is set to the value in S18. A CONNECT result code 
  1658	is sent to the DTE, and the test timer then begins its count down. The test 
  1659	terminates when the test timer expires. If S18 equals 0, then the test must be 
  1660	terminated by an &T0, H0, or Z command. While any command may be entered while 
  1661	the modem is in this test state, the modem response is not specified except 
  1662	for H0, &T0, and Z - any of which will terminate the test. Upon termination of 
  1663	the test, the modem enters the command state.
  1664	
  1665	Result Codes:  Description
  1666	-----------------------------------------------------------------------------
  1667	CONNECT        when local analog loopback state is entered
  1668	ERROR          if any other &Tn test is active (except &T0) or if 
  1669	               in the On-  Line Command State
  1670	OK             after test is stopped by test timer, the H0 command, 
  1671	               or the &T0   command
  1672	
  1673	&T3 - Perform Local Digital Loopback
  1674	The modem must be in the command state with a connection established when this 
  1675	command is issued. Otherwise an ERROR result code occurs. This command 
  1676	establishes a loopback of received data, after demodulation, and sends it back 
  1677	to the distant end. The modem is configured for local digital loopback, DSR is 
  1678	turned off (if &S1 is in effect), the test timer is started with the value in 
  1679	S18, and an OK result code is sent to the DTE . If S18 contains a 0, the test 
  1680	must be terminated by a &T0, H0, or Z command. The latter two result in the 
  1681	modem going on hook. If S18 does not contain 0, the test is terminated after 
  1682	the number of seconds stored in S18.
  1683	
  1684	Result Codes:  Description
  1685	-----------------------------------------------------------------------------
  1686	OK             after 2 s delay
  1687	ERROR          if any other self test is active (&T1,&T6-&T8) 
  1688	               or if in Idle State
  1689	OK             when test is terminated
  1690	
  1691	&T4 - Grant RDL Requests
  1692	When in the On-Line State the modem will honor a remote digital loopback 
  1693	request from a distant modem if it occurs. This will result in an ERROR if the 
  1694	command is given while any V.54 test is active (&T1, &T3, &T6, &T7, or &T8).
  1695	
  1696	&T5 - Deny RDL Requests
  1697	The modem will not respond to a remote digital loopback request from a distant 
  1698	modem. This will result in an ERROR if the command is given while any V.54 
  1699	test is active (&T1, &T3, &T6, &T7, or &T8).
  1700	
  1701	&T6 - Initiate Remote Digital Loopback
  1702	The command is valid only if the modem is in the command state with a 
  1703	connection at 1200 or 2400 bps. The modem sends the remote digital loopback 
  1704	request signal to the distant modem (see CCITT V.22 and V.54). After the RDL 
  1705	acknowledgment signal is received from the distant modem, DSR is turned off 
  1706	(if &S1 is in effect), the on-line state is entered, a CONNECT result code is 
  1707	sent to the DTE, and the test timer is set to the value in S18. If the modem 
  1708	does not receive the RDL acknowledgment signal from the distant end in three 
  1709	seconds, it sends an ERROR result code to the DTE and returns to the command 
  1710	state. The modem sends the signal specified in CCITT V.22 to release the 
  1711	remote digital loopback when the test is terminated. The test may be 
  1712	terminated by the H0, Z, or &T0 command. The test will also terminate when the 
  1713	test timer expires (sending the modem to the command state) or carrier is lost 
  1714	(causing a NO CARRIER result code and the modem to go on hook in the command 
  1715	state).
  1716	
  1717	Result Codes:  Description
  1718	-----------------------------------------------------------------------------
  1719	CONNECT        when On-Line State is entered
  1720	ERROR          if any V.54 test is active (&T1, &T3, &T6-&T8)
  1721	ERROR          if not in On-Line Command State
  1722	ERROR          if command is issued at other than 1200 or 2400 bps
  1723	ERROR          if the RDL signal is not acknowledged
  1724	
  1725	&T7 - Initiate RDL With Self Test
  1726	The command is only valid if the modem is in the command state with a 
  1727	connection at 1200 or 2400 bps. The modem sends the remote digital loopback 
  1728	request signal to the distant end (see CCITT V.22). After the RDL 
  1729	acknowledgment signal is received from the distant end, DSR is turned off (if 
  1730	&S1 is in effect), the on-line state is entered, an OK result code is sent to 
  1731	the DTE, and the test timer is set to the value in S18. While the test is 
  1732	active the modem sends a test message to the distant end and counts the errors 
  1733	in the received (looped back) signal. The modem stays in the command state 
  1734	during the test. When the test is terminated (except by a loss of carrier), 
  1735	the modem sends the release signal to the distant end, as in &T6, and reports 
  1736	the three-digit error count to the DTE. The information text is followed by an 
  1737	OK result code. See the V command for formats. The test is terminated by loss 
  1738	of carrier, or an H0, &T0, or Z command, and by the S18 timer running out.
  1739	
  1740	Result Codes:  Description
  1741	-----------------------------------------------------------------------------
  1742	OK             when command executed is started
  1743	OK             after error count is sent to DTE
  1744	ERROR          if any other self test is active (&T1,&T3,&T6-&T8) 
  1745	ERROR          if not in On-Line Command State
  1746	ERROR          if command is issued at other than 1200 or 2400 bps
  1747	ERROR          if the RDL acknowledgment signal is not received
  1748	
  1749	&T8 - Local Loopback With Self Test
  1750	The modem goes on hook and is configured for analog loopback (low frequency 
  1751	band if none or O suffix, high frequency band if A suffix). The test timer is 
  1752	started at the time indicated by S18, DSR is turned off (if &S1 is in effect), 
  1753	A selftest condition is entered, and an OK result code is sent to the DTE. 
  1754	During the test the modem sends a test message and counts errors in the looped 
  1755	back signal. The test is terminated when the timer times out (S18) or the &T0, 
  1756	H0, or Z command is issued. When the test is terminated, the three-digit error 
  1757	count is sent to the DTE. An OK result code follows the error count.
  1758	
  1759	Result Codes:  Description
  1760	-----------------------------------------------------------------------------
  1761	OK             if AL Selftest state is entered
  1762	OK             after error count is sent to DTE
  1763	ERROR          if any other V.54 test is active (&T1,&T3,&T6,&T7), 
  1764	               or if on-line
  1765	
  1766	
  1767	&T19 - Perform RTS/CTS Cable Test
  1768	This test is used to determine whether the DTE-to-DCE cable supports the RTS 
  1769	and CTS signals necessary for hardware flow control. This procedure should be 
  1770	used by software before RTS/CTS flow control (&K3) is used. The modem takes 
  1771	the following action when the &T19 command is issued:
  1772	
  1773	1. Turns OFF CTS (normally ON) and starts a 500 ms timer.
  1774	
  1775	2. Monitors RTS for ON and OFF states.
  1776	
  1777	3. After the 500 ms timeout or when both level-high and level-low states of 
  1778	   RTS are detected, the modem restores CTS to the ON condition and ends 
  1779	   the test.
  1780	
  1781	4. If both the on and off conditions of RTS are NOT detected, the modem 
  1782	   returns the ERROR result code; otherwise, it issues the OK result code.
  1783	
  1784	&U - Trellis Coding Options
  1785	The &U command is used to enable and disable Trellis coding for V.32 
  1786	connections. This selection affects V.32 9600 bps transmissions only.
  1787	
  1788	&U0   Enable Trellis coding
  1789	&U1   Disable Trellis coding 
  1790	
  1791	&V - View Configuration Profiles
  1792	The &V command is used to display the active and stored profiles (commands and 
  1793	S-Register settings) along with any stored telephone numbers. Input from the 
  1794	DTE is ignored while this view configuration information is being sent to the 
  1795	DTE. 
  1796	
  1797	The example below illustrates the &V info-text when the factory profile is 
  1798	loaded and then stored into the stored profiles, and an arbitrary phone number 
  1799	is stored in one of the stored numbers locations.
  1800	
  1801	ACTIVE PROFILE:
  1802	B0 B41 B60 E1 L2 M1 N1 P Q0 V1 W0 X4 Y0 &C0 &D0 &G0 &J0 &K3 &Q5 
  1803	&R0 &S0 &T4 &U0 &X0 &Y0
  1804	S00:000 S01:000 S02:043 S03:013 S04:010 S05:008 S06:002 S07:030 S08:002 
  1805	S09:006 
  1806	S10:014 S11:070 S12:050 S18:000 S25:005 S26:001 S36:005 S37:000 S38:020 
  1807	S44:003
  1808	S46:002 S48:007 S49:008 S50:016 S95:000
  1809	
  1810	STORED PROFILE 0:
  1811	B0 B41 B60 E1 L2 M1 N1 P Q0 V1 W0 X4 Y0 &C0 &D0 &G0 &J0 &K3 &Q5 
  1812	&R0 &S0 &T4 &U0 &X0
  1813	S00:000 S02:043 S06:002 S07:050 S08:002 S09:006 S10:014 S11:095 S12:050 
  1814	S18:000
  1815	S25:005 S26:001 S36:005 S37:000 S38:020 S44:003 S46:002 S48:007 S49:008 
  1816	S50:016
  1817	
  1818	STORED PROFILE 1:
  1819	B0 B41 B60 E1 L2 M1 N1 P Q0 V1 W0 X4 Y0 &C0 &D0 &G0 &J0 &K3 &Q5 
  1820	&R0 &S0 &T4 &U0 &X0
  1821	S00:000 S02:043 S06:002 S07:050 S08:002 S09:006 S10:014 S11:095 S12:050 
  1822	S18:000
  1823	S25:005 S26:001 S36:005 S37:000 S38:020 S44:003 S46:002 S48:007 S49:008 
  1824	S50:016
  1825	
  1826	TELEPHONE NUMBERS:
  1827	0=
  1828	1=T9W14045551212
  1829	2=
  1830	3=
  1831	
  1832	The three-digit numbers after each S-Register number are decimal 
  1833	representations of the S-Register contents.
  1834	
  1835	&W - Write Active Profile to Memory
  1836	The &W command stores certain command options and S-Register values into one 
  1837	of the modem's two nonvolatile stored profile memory locations. The command 
  1838	options and register values stored depend on the particular modem. These are 
  1839	indicated on the AT Command Set Reference Card. In addition, the AT speed and 
  1840	parity are stored, according to the values used at the time the command is 
  1841	issued. 
  1842	
  1843	&W0  Store the Active Profile into Stored Profile 0
  1844	&W1  Store the Active Profile into Stored Profile 1
  1845	
  1846	&X - Synchronous Transmit Clock Source
  1847	The &X command determines how the DTE transmit clock is generated while the 
  1848	modem is in the synchronous mode.
  1849	
  1850	&X0  Modem generates the transmit clock and applies it to pin 15 (EIA 232-D)
  1851	
  1852	&X1  DTE generates the transmit clock on pin 24 (EIA 232D) and the modem 
  1853	     applies this clock to pin 15 (EIA 232D). This setting is available for 
  1854	     external modems only
  1855	
  1856	&X2  Modem derives the transmit clock from the receive carrier signal and 
  1857	     applies it to pin 15 (EIA 232-D)
  1858	
  1859	&Y - Select Stored Profile For Hard Reset
  1860	The &Y command selects which stored profile will be copied into the active 
  1861	profile subsequent to a hard reset (including power-up). The &Y command 
  1862	execution is nonvolatile, stored at the time the command is executed, not by 
  1863	the &W command. The value selected with this command is not affected by the &F 
  1864	command, although &Y0 is selected as part of the overall factory setup.
  1865	
  1866	&Y0  Select Stored Profile #0 on powerup
  1867	&Y1  Select Stored Profile #1 on powerup
  1868	
  1869	&Zn=x - Store Telephone Number
  1870	The &Zn=x command is used to store up to four dialing strings in the modem's 
  1871	nonvolatile memory for later dialing. The format for the command is 
  1872	&Zn="stored number" where n is the location 0-3 to which the number should be 
  1873	written. For example, the line AT&Z2=1552368<CR> writes 1552368 as the third 
  1874	of four possible numbers to the modem's "telephone book" in nonvolatile 
  1875	memory. The &Zn=x command can be used to store a number with as many as 36 
  1876	characters. 
  1877	
  1878	Any dialing string can be saved except the S dialing modifier (this would 
  1879	cause a stored dialing string to attempt to dial another stored string), or 
  1880	the ; modifier if used for automatic dialing in synchronous mode 2. If no dial 
  1881	string follows the command, the referenced stored number will be cleared.
  1882	
  1883	&Z    <dial string><CR>
  1884	&Z=   <dial string><CR>
  1885	&Zn=  <dial string><CR>     ... where n=0-3
  1886	
  1887	If the delimiter (=) is not present, the characters following the &Zn=x are 
  1888	treated as telephone numbers and/or modifiers and are stored in location 0. 
  1889	For example, in &Znxxxx, the n is a part of the phone number. If the delimiter 
  1890	is present the characters following it are stored in the location specified by 
  1891	the character preceding the delimiter (which must be in the range 0-3). If no 
  1892	character precedes the delimiter, the number is stored in location 0. If an 
  1893	invalid location is specified (n) the modem sends an ERROR result code.
  1894	
  1895	Characters not listed above as storable are ignored. For example, the command 
  1896	&Z1=3456H;AX would store 3456;A.
  1897	
  1898	*****************************************************************************
  1899	1.2  Result Code Listing
  1900	This section defines the result codes returned by Hayes modems in response to 
  1901	commands.
  1902	
  1903	The table below shows the various formats in which modem responses can be 
  1904	presented. Note that the "text" of the info-text may consist of multiple lines 
  1905	of text. The formats depicted here only refer to the <CR><LF> characters 
  1906	between info-texts and not within them.
  1907	
  1908	                   V0             V1
  1909	-------------------------------------------------
  1910	Information Text   text           <CR><LF>
  1911	                   <CR><LF>       text
  1912	                                  <CR><LF>
  1913	
  1914	Result Codes       numeric code   <CR><LF>
  1915	                   <CR>           verbose code
  1916	                                  <CR><LF>
  1917	
  1918	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  1919	1.2.1  Command Response and Call Progress Monitoring
  1920	This set of result codes includes responses to commands and call progress 
  1921	monitoring responses. They are available to all modems within the capabilities 
  1922	of the modem. For example, the result code CONNECT 9600 is not available to 
  1923	Smartmodem 2400. The factory setting for all high-speed modems enables the 
  1924	extended set of call progress monitoring (X4). When set up in this way, the 
  1925	modem performs and reports full call progress monitoring (RING, NO CARRIER, NO 
  1926	DIALTONE, and BUSY). It also indicates the speed of the connection (CONNECT 
  1927	1200 as opposed to simply CONNECT). The factory setting for Smartmodem 300, 
  1928	Smartmodem 1200, and all others whose highest speed is 1200 bps is basic call 
  1929	progress monitoring (X0).
  1930	
  1931	The command response and call progress monitoring result codes are defined 
  1932	below:
  1933	
  1934	0 - OK
  1935	This result code indicates that a command or command string was executed. Note 
  1936	that if more than one command were included on a line and an ERROR result code 
  1937	received, this means that one or more of the commands was not processed. If 
  1938	one or more were executed properly, but even one was invalid, no OK will be 
  1939	issued, only the ERROR.
  1940	
  1941	1 - CONNECT 
  1942	This result code indicates a connection was made between the DTE and the 
  1943	modem. If X4 (extended set of call progress monitoring) were selected, the 
  1944	code indicates that a connection from at 0 to 300 bps was made. However, if X0 
  1945	(basic set of call progress monitoring) were selected, the connection could be 
  1946	0-300, 1200, 1200/75, 75/1200, 2400, 4800, 9600,19200, or 38400 bps. If the 
  1947	modem is not operating in error-control mode, this is the same as the line 
  1948	speed. See other CONNECT messages and CARRIER messages.
  1949	
  1950	2 - RING
  1951	This result code indicates the modem as detected a ring signal. No distinction 
  1952	can be made as to whether this is a voice call, a modem call, a fax call, or 
  1953	other type.
  1954	
  1955	3 - NO CARRIER
  1956	This result code indicates that no carrier signal was detected, or that the 
  1957	signal was lost. This is the response the modem will give when no connection 
  1958	is made; see CONNECT result code. The modem will also return this message when 
  1959	the connection is broken, either intentionally as when the hangup process 
  1960	completes, or if line difficulties break the connection.
  1961	
  1962	4 - ERROR
  1963	This result code indicates that an invalid command was issued, or that there 
  1964	was an error in the command line. For example, if the command line exceeds 40 
  1965	characters for Smartmodem Products or 255 characters for V-series System 
  1966	Products, this result code will be returned. This result code is also returned 
  1967	in response to the I1 command requesting a ROM checksum, if the modem detects 
  1968	an error in the computation.
  1969	
  1970	5 - CONNECT 1200
  1971	This result code indicates a connection has been established at 1200 or 
  1972	1200/75, 75/1200, bps between the modem and the DTE. If the modem is not 
  1973	operating in error-control mode, this is the same as the line speed. This 
  1974	result code is disabled by X0. Only CONNECT is reported.
  1975	
  1976	6 - NO DIALTONE
  1977	This result code indicates that no dial tone was detected when the modem went 
  1978	off hook. Dial tone detection and this result code are enabled by X2 or X4, or 
  1979	the W dial modifier.
  1980	
  1981	7 - BUSY
  1982	This result code indicates that the modem detected a busy signal when it 
  1983	attempted to connect with the modem at the number dialed. Busy signal 
  1984	detection and this result code are enabled by X3 or X4.
  1985	
  1986	8 - NO ANSWER
  1987	This result code indicates no silence was detected when dialing a system not 
  1988	providing a dial tone. Enabled by the @ dial modifier.
  1989	
  1990	10 - CONNECT 2400
  1991	This result code indicates a connection has been established at 2400 bps 
  1992	between the modem and the DTE. If the modem is not operating in error-control 
  1993	mode, this is the same as the line speed. This result code is disabled by X0. 
  1994	Only CONNECT is reported.
  1995	
  1996	11 - CONNECT 4800
  1997	This result code indicates a connection has been established at 4800 bps 
  1998	between the modem and the DTE. This result code is disabled by X0.
  1999	
  2000	12 - CONNECT 9600
  2001	This result code indicates a connection has been established at 9600 bps 
  2002	between the modem and the DTE. This result code is disabled by X0.
  2003	
  2004	14 - CONNECT 19200
  2005	This result code indicates a connection has been established at 19200 bps 
  2006	between the modem and the DTE. This result code is disabled by X0.
  2007	
  2008	22 - CONNECT 1200/75
  2009	This result code indicates a connection has been established at 1200 bps when 
  2010	transmitting data and 75 bps when receiving data between the modem and the 
  2011	DTE.
  2012	
  2013	23 - CONNECT 75/1200 
  2014	This result code indicates a connection has been established at 75 bps when 
  2015	transmitting data and 1200 bps when receiving data between the modem and the 
  2016	DTE.
  2017	
  2018	28 - CONNECT 38400
  2019	This result code indicates a connection has been established at 38400 bps 
  2020	between the modem and the DTE. This result code is disabled by X0.
  2021	
  2022	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  2023	1.2.2  Negotiation Progress Messages
  2024	V-series system products report special result codes during error-control 
  2025	negotiation. Whether or not these messages are displayed is selected with the 
  2026	W command (not to be confused with the W dial modifier). The factory setting 
  2027	is messages disabled (W0) to avoid conflict with software programs that do not 
  2028	support this additional level of call progress monitoring.
  2029	
  2030	40 - CARRIER 300
  2031	This message indicates that a carrier signal has been detected at 300 bps 
  2032	(modem-to-modem line speed).
  2033	
  2034	44 - CARRIER 1200/75
  2035	This message indicates that a carrier signal has been detected at 1200 bps 
  2036	when transmitting and at 75 when receiving (modem-to-modem line speed).
  2037	
  2038	45 - CARRIER 75/1200
  2039	This message indicates that a carrier signal has been detected at 75 bps when 
  2040	transmitting and at 1200 bps when receiving (modem-to-modem line speed).
  2041	
  2042	46 - CARRIER 1200
  2043	This message indicates that a carrier signal has been detected at 1200 bps 
  2044	(modem-to-modem line speed).
  2045	
  2046	47 - CARRIER 2400
  2047	This message indicates that a carrier signal has been detected at 2400 bps 
  2048	(modem-to-modem line speed).
  2049	
  2050	48 - CARRIER 4800
  2051	This message indicates that a carrier signal has been detected at 4800 bps 
  2052	(modem-to-modem line speed).
  2053	
  2054	50 - CARRIER 9600 
  2055	This message indicates that a carrier signal has been detected at 9600 bps 
  2056	(modem-to-modem line speed).
  2057	
  2058	66 - COMPRESSION: CLASS 5
  2059	This message indicates that data compression using MNP Class 5 has been 
  2060	negotiated for the connection.
  2061	
  2062	67 - COMPRESSION: V.42BIS
  2063	This message indicates that data compression using CCITT V.42bis has been 
  2064	negotiated for the connection.
  2065	
  2066	68 - COMPRESSION: ADC
  2067	This message indicates that data compression using Hayes Adaptive Data 
  2068	Compression has been negotiated for the connection.
  2069	
  2070	69 - COMPRESSION: NONE
  2071	This message indicates that data compression was not negotiated for the 
  2072	connection.
  2073	
  2074	70 - PROTOCOL: NONE
  2075	This message indicates that no protocol was negotiated for the connection. A 
  2076	standard asynchronous connection was made.
  2077	
  2078	71 - PROTOCOL: ERROR-CONTROL/LAP-B
  2079	This message indicates that an error-control connection was negotiated with 
  2080	LAPB protocol. This protocol is the one used by the first V-series System 
  2081	Products.
  2082	
  2083	72 - PROTOCOL: ERROR-CONTROL/ LAP-B/HDX 
  2084	This message indicates that a half-duplex error-control connection was 
  2085	negotiated with LAPB protocol. This protocol is the one used by the first V-
  2086	series System Products communicating at 9600 bps.
  2087	
  2088	73 - PROTOCOL: ERROR-CONTROL/LAP-B/AFT
  2089	This message indicates that an error-control connection was negotiated using 
  2090	the Hayes Asynchronous Framing Technique. This protocol is used for 
  2091	connections between modems such as Smartmodem 1200 that do not communicate 
  2092	synchronously across the telephone line. AFT enables an error-control protocol 
  2093	to be used.
  2094	
  2095	74 - PROTOCOL: X.25/LAP-B
  2096	This message indicates that an error-control connection using the X.25 
  2097	protocol was established with a carrier speed of 1200, 2400, 4800, or 9600 
  2098	bps.
  2099	
  2100	75 - PROTOCOL: X.25/LAP-B/HDX
  2101	This message indicates that a half-duplex error-control connection using the 
  2102	X.25 protocol was established with a carrier speed of 4800 or 9600 bps.
  2103	
  2104	76 - PROTOCOL: X.25/LAP-B/AFT
  2105	This message indicates that an asynchronous error-control connection using the 
  2106	X.25 protocol was established with a carrier speed of 1200 bps. The Hayes 
  2107	Asynchronous Framing Technique was used.
  2108	
  2109	77 - PROTOCOL: LAP-M
  2110	This message indicates that an error-control connection using the V.42 LAPM 
  2111	protocol was established with a carrier speed of 1200, 2400, 4800, or 9600 
  2112	bps.
  2113	
  2114	78 - PROTOCOL: LAP-M/HDX V.42
  2115	This message indicates that a half-duplex error-control connection using the 
  2116	V.42 LAPM protocol was established with a carrier speed of 4800 or 9600 bps.
  2117	
  2118	79 - PROTOCOL: LAP-M/AFT
  2119	This message indicates that an asynchronous error-control connection using the 
  2120	V.42 LAPM protocol was established with a carrier speed of 1200 bps. The Hayes 
  2121	Asynchronous Framing Technique was used.
  2122	
  2123	80 - PROTOCOL: ALT
  2124	This message indicates that an error-control connection using the V.42 LAPM 
  2125	alternative protocol was established with a carrier speed of 1200, 2400, 4800, 
  2126	or 9600 bps. This protocol is MNP Classes 2, 3, and 4 compatible.
  2127	
  2128	91 - AUTOSTREAM: LEVEL 1
  2129	This message indicates that Hayes AutoStream Level 1 has been negotiated for 
  2130	the connection. This technique provides for multiplexing of multiple virtual 
  2131	channels.
  2132	
  2133	92 - AUTOSTREAM: LEVEL 2
  2134	This message indicates that Hayes AutoStream Level 2 has been negotiated for 
  2135	the connection. This technique provides for multiplexing of multiple virtual 
  2136	channels, with transparent control of one PAD (non-simultaneous).
  2137	
  2138	93 - AUTOSTREAM: LEVEL 3
  2139	This message indicates that Hayes AutoStream Level 3 has been negotiated for 
  2140	the connection. This technique provides for multiplexing of multiple virtual 
  2141	channels, with transparent control of all PADs (simultaneous).
  2142	
  2143	
  2144	Negotiation progress messages are reported in the following order:
  2145	
  2146	     CARRIER
  2147	     PROTOCOL
  2148	     AUTOSTREAM
  2149	     COMPRESSION
  2150	     CONNECT
  2151	
  2152	If AutoStream is not used, no message is reported.
  2153	
  2154	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  2155	1.2.3 Information Text (INFO-TEXT)
  2156	Some commands, such as &V and Sr? return information text as opposed to 
  2157	numeric or verbose codes. The alpha characters are headings and commands and 
  2158	the numbers are command options, ASCII values, counter values, etc. The 
  2159	example below illustrates a modem response to a command with information text.
  2160	
  2161	ACTIVE PROFILE:
  2162	B0 B41 B60 E1 L2 M1 N1 P Q0 V1 W0 X4 Y0 &C0 &D0 &G0 &J0 &K3 &Q5 
  2163	&R0 &S0 &T4 &U0 &X0 &Y0
  2164	S00:000 S01:000 S02:043 S03:013 S04:010 S05:008 S06:002 S07:030 S08:002 
  2165	S09:006 
  2166	S10:014 S11:070 S12:050 S18:000 S25:005 S26:001 S36:005 S37:000 S38:020 
  2167	S44:003
  2168	S46:002 S48:007 S49:008 S50:016 S95:000
  2169	
  2170	Information Text is always a combination of alpha and numeric. The V command 
  2171	has no effect on the format of this command response.
  2172	
  2173	*****************************************************************************
  2174	1.3 S-Register Listing
  2175	The following definitions include all S-Registers defined for the various 
  2176	families of Hayes modems. Some factory settings and ranges are included here 
  2177	because they are almost universally implemented with these values; however, be 
  2178	sure to consult the AT Command Set Reference Card that came with your modem 
  2179	for the S-Registers and their ranges/factory settings that your modem 
  2180	supports. Note that register numbers not included in this listing are those 
  2181	for which no function has been assigned.
  2182	
  2183	S0 - Ring to Answer 
  2184	After S0 sets the ring number on which the modem automatically answers a call 
  2185	when auto-answer mode is selected. S0=0, the factory setting, disables auto-
  2186	answer.
  2187	
  2188	S1 - Ring Count
  2189	When the modem is in the command state and set for auto-answer (Register 
  2190	S0>0), the modem automatically tracks the number of times the phone rings, 
  2191	incrementing and writing the value in S1. The value reverts to 0 if no ring 
  2192	occurs for 8 seconds. Once a connection is made, the modem resets the value of 
  2193	this register to 0. Note that two short ring bursts within a ring cycle are 
  2194	counted as two rings.
  2195	
  2196	S2 - Escape Sequence Character
  2197	This register holds the ASCII value of the escape sequence character. The 
  2198	factory-set value is ASCII 43, the plus sign (+). The value for this register 
  2199	can be set to any ASCII value between 0 and 127. Setting S2 to a value greater 
  2200	than 127 disables the escape sequence, preventing the modem from returning to 
  2201	the command state and disabling command recognition.
  2202	
  2203	S3 - Carriage Return Character
  2204	This register holds the ASCII value of the line terminating character. The 
  2205	factory-set value is ASCII 13 - carriage return (<CR>) - the range for the 
  2206	register is 0-127. This character is used both as the command line terminator 
  2207	and the result code terminator.
  2208	
  2209	S4 - Line Feed Character
  2210	This register holds the ASCII value of the line feed character. The factory 
  2211	setting is 10; the range is 0-127.
  2212	
  2213	S5 - Backspace Character
  2214	This register holds the ASCII value of the backspace character. The factory-
  2215	set value is ASCII 08; the range for the register is 0-32, 127. This character 
  2216	moves the cursor left, removing the previous character. As this value actually 
  2217	represents the combined operation of three characters (a backspace, a space, 
  2218	and another backspace), the time allotted to process the backspace character 
  2219	must not be any less than the time required by the modem to transmit three 
  2220	characters. For this reason, a repeat-key function may not operate properly on 
  2221	backspaces.
  2222	
  2223	S6 - Wait Before Blind Dialing
  2224	This register determines how long the modem waits after going off-hook before 
  2225	it dials. This delay allows time for the central telephone office to detect 
  2226	the off-hook condition of the line and apply dial tone. This wait time only 
  2227	applies to the first dial tone. S6 is used only if X0, X1, or X3 is selected. 
  2228	Selecting X3 or X4 enables dial tone (call progress) detection and disables 
  2229	blind dialing, thus making the setting of S6 irrelevant. The value of this 
  2230	register can be set for any number from 4 through 7 seconds. This feature 
  2231	allows you to increase the time delay if you have difficulty obtaining dial 
  2232	tone within 4 seconds.
  2233	
  2234	Note: The Wait Before Blind Dialing call progress monitoring feature (W dial 
  2235	modifier) applies only to detection of a second dial tone and is independent 
  2236	of any S-Register settings.
  2237	
  2238	S7 - Wait for Carrier after Dialing
  2239	This register determines the modem's time delay between dialing and responding 
  2240	to an incoming carrier signal after initial connection. If the modem does not 
  2241	detect a carrier within this time, the modem hangs up and returns the NO 
  2242	CARRIER result code. If the modem detects a carrier within the specified time, 
  2243	it goes on line. 
  2244	
  2245	S8 - Duration of Delay for Comma Dial Modifier
  2246	This register determines the duration of the delay generated by the comma (,) 
  2247	dial modifier. 
  2248	
  2249	S9 - Carrier Detect Response Time
  2250	This register determines how many seconds a carrier signal must be present for 
  2251	the modem to recognize it and issue a carrier detect. The value for the 
  2252	register is measured in tenths of a second. The factory setting is 6 (0.6 
  2253	second); the range is 1 (0.1 second) to 255 (25.5 seconds). 
  2254	
  2255	Note: The S9 value affects the time required to recognize the presence of 
  2256	carrier only if X3 or X4 is selected. The modem also ignores the value in 
  2257	register S9 when operating in half-duplex synchronous or asynchronous mode.
  2258	
  2259	S10 - Delay Between Lost Carrier and Hang Up
  2260	This register specifies the time between loss of remote carrier and local 
  2261	modem disconnect. The delay permits the carrier to disappear momentarily 
  2262	without causing the modem to hang up. The value for the register is measured 
  2263	in tenths of a second. The range for most modems is 1 (0.1 second) to 255 
  2264	(25.5 seconds).
  2265	
  2266	The modem recognizes a carrier after the period of time specified in S9. 
  2267	Therefore, if the value of S10 is less than that set for S9, even a momentary 
  2268	loss of carrier will cause the modem to disconnect. Setting the register to 
  2269	255 causes the modem to ignore actual carrier status and assume a carrier is 
  2270	always present. When operating in half-duplex synchronous mode, the modem 
  2271	ignores the value of this register.
  2272	
  2273	S11 - Multi-Frequency Tone Duration
  2274	This register determines the duration and spacing of tones in multi-frequency 
  2275	tone dialing. The value in this register has no effect on the speed of pulse 
  2276	dialing.
  2277	
  2278	S12 - Escape Sequence Guard Time
  2279	This register holds the value of the delay required prior to and following the 
  2280	escape sequence. The guard time also dictates how quickly the escape sequence 
  2281	characters must be entered, since the interval between entry of each of the 
  2282	three characters must be of shorter duration than that specified for the guard 
  2283	time. If guard time is set to 0, timing is not a factor.
  2284	
  2285	S18 - Modem Test Timer
  2286	This register establishes the duration of the modem's diagnostic tests. When a 
  2287	test is active for a length of time equal to the value chosen for this 
  2288	register, the modem automatically terminates the test. A setting of zero (0) 
  2289	disables the test timer (factory setting). The range for this register is 0-
  2290	255 seconds.
  2291	
  2292	S25 - DTR Detection
  2293	This register serves two purposes. When the modem is operating in synchronous 
  2294	mode 4, the value assigned to S25 specifies the length of time the modem waits 
  2295	after a connection has been made, before examining the DTR circuit. This 
  2296	allows the modem to ignore an on-to-off transition of DTR and gives the user 
  2297	sufficient time to disconnect the modem from the asynchronous terminal and 
  2298	attach it to a synchronous terminal, without forcing the modem back to the 
  2299	asynchronous command state. During this time, the value of S25 is read in full 
  2300	seconds (e.g., the factory- set value of 5 equals 5 seconds, instead of 0.05 
  2301	seconds).
  2302	
  2303	In all other modes, and after call establishment in synchronous mode 4, the 
  2304	value is read in 1/100 seconds. In any mode, a change in DTR (on or off) that 
  2305	persists for a period shorter than the value held in S25 is ignored by the 
  2306	modem while it is on-line. The range of values for S25 is 0-255.
  2307	
  2308	S26 - RTS to CTS Interval
  2309	This register is used to specify the interval to delay before turning on CTS 
  2310	after an off-to-on transition of RTS. This value takes effect when the &R0 
  2311	command option has been selected. This setting applies to synchronous modes 1, 
  2312	2, and 3 only. The factory-set value is 1 (.01 seconds) with a range of 0-255.
  2313	
  2314	S30 - Inactivity Timeout
  2315	This register monitors the line to prevent unnecessary connection time. If no 
  2316	data transfer is detected (while the modem is in the on-line state) for a 
  2317	duration specified by this register, the modem hangs up and returns to the 
  2318	idle state. When the value of S30 is set to 0, the timer is disabled. The 
  2319	factory setting is 0 seconds; the range is 0-255 units of 10 seconds. Note 
  2320	that S30 is only effective in &Q0 or &Q6 modes; it is not enabled in any 
  2321	synchronous modes.
  2322	
  2323	S33 - AFT Options
  2324	Register S33 applies only to communications using a V-series Modem 
  2325	Enhancer(TM) with a Smartmodem 1200 which has an asynchronous DTE link.
  2326	
  2327	This register selects the options to be used with Hayes Asynchronous Framing 
  2328	Technique (See the description of S44. AFT offers options to prevent certain 
  2329	characters (like XON and XOFF) from being sent. Normally AFT uses all 256 
  2330	ASCII character codes; that is, it uses characters with 8 data bits. If 
  2331	intervening equipment is limited to 7-bit operation, the Eight-Bit Data 
  2332	Transparency option (S33=4) can be enabled. 
  2333	
  2334	With this option, AFT limits itself to using characters with 7 data bits. This 
  2335	pertains only to the communication link between the two modems, not the format 
  2336	of the data. The data itself is unaffected by enabling any AFT transparency 
  2337	options.
  2338	
  2339	0     No transparency options required (factory setting)
  2340	1     Flow Control Transparency. AFT transparentizes the XON and XOFF control 
  2341	      characters sent from the DTE to the modem. The XON and XOFF characters 
  2342	      themselves are not sent over the communication link; characters that 
  2343	      substitute for these functions are transmitted, instead
  2344	2     Select Control Character Transparency
  2345	4     Select Eight-Bit Data Transparency
  2346	5     Select both Flow Control Transparency and Eight-Bit Data Transparency
  2347	6     Select both Control Character Transparency and Eight-Bit Data
  2348	      Transparency
  2349	
  2350	If feature negotiation is active, the transparency option selected by one 
  2351	modem is used by both modems.
  2352	
  2353	S36 - Negotiation Failure Treatment
  2354	When an attempt to make an error-control connection fails, the modem reads 
  2355	this register to determine whether to terminate the connection, make an 
  2356	asynchronous connection (otherwise selected with &Q0), or make an asynchronous 
  2357	connection with ASB (otherwise selected with &Q6). This register is referenced 
  2358	only when the error-control mode has been selected with the &Q5 command 
  2359	(factory setting) and this communication mode cannot be negotiated.
  2360	
  2361	0     Hang up
  2362	1     Attempt a standard asynchronous connection (&Q0)
  2363	3     Attempt an asynchronous connection using automatic speed buffering (&Q6)
  2364	4     Attempt a V.42 Alternative Protocol connection (MNP compatible); if 
  2365	      negotiation fails, hang up.
  2366	5     Attempt a V.42 Alternative Protocol connection (MNP compatible); if 
  2367	      negotiation fails, attempt a standard asynchronous connection
  2368	7     Attempt a V.42 Alternative Protocol connection (MNP compatible); if 
  2369	      negotiation fails, attempt an asynchronous connection using automatic 
  2370	      speed buffering
  2371	
  2372	In asynchronous mode, the CONNECT XXXX message will be returned with a 
  2373	successful connection. This message indicates the speed of the connection, 
  2374	which is also the speed of data transmitted from computer to modem.
  2375	
  2376	Note: The selected fallback option can be initiated immediately with S48. For 
  2377	example, a connection attempt using the Alternative Protocol can be forced by 
  2378	setting S48=128 and S36=5 or 7.
  2379	
  2380	S37 - Desired DCE Line Speed
  2381	The modem attempts to connect with a remote modem at the highest supported DCE 
  2382	speed that does not exceed the value specified by this register. If S37 is set 
  2383	to a speed higher than that supported by the modem, it will attempt to connect 
  2384	at its highest capability.
  2385	
  2386	0     Attempt to connect at speed of last AT command issued
  2387	1     Attempt to connect at 75 bps
  2388	2     Attempt to connect at 110 bps
  2389	3     Attempt to connect at 300 bps
  2390	4     Reserved
  2391	5     Attempt to connect at 1200 bps
  2392	6     Attempt to connect at 2400 bps
  2393	7     Attempt to connect at 4800 bps
  2394	8     Reserved
  2395	9     Attempt to connect at 9600 bps
  2396	
  2397	Note that this is the speed of modems across the telephone line, not the speed 
  2398	at which the modem communicates with the attached DTE.
  2399	
  2400	S38 - Delay Before Forced Hang up
  2401	This register specifies the delay between the modem's receipt of the command 
  2402	to hang up (or on-to-off transition of DTR if the modem is configured to 
  2403	follow the signal) and the disconnect operation. This register is useful for 
  2404	error-control communications to ensure that data in the modem buffers is sent 
  2405	before the connection is terminated. The factory setting is 20 (seconds). If 
  2406	this register is set between 0 and 254, the modem will wait that number of 
  2407	seconds for the remote modem to acknowledge receipt of all data in buffers 
  2408	before hanging up. If this timeout occurs before all data can be sent, the NO 
  2409	CARRIER (3) result code will be sent to indicate that data has been lost. If 
  2410	all data is transmitted prior to the timeout, the response to the H0 command 
  2411	will be OK.
  2412	
  2413	If S38 is set to 255, the modem does not timeout, and continues to attempt to 
  2414	deliver data in buffers until the connection is lost, or the data is 
  2415	delivered.
  2416	
  2417	S44 - Asynchronous Framing Technique Selection
  2418	S44 sets the use of the Hayes Asynchronous Framing Technique. Connections to a 
  2419	packet switched network or between two error-control modems using either 
  2420	Error-Control/LAP-B or X.25 protocol are usually synchronous connections, even 
  2421	though the user interface is always asynchronous. Some environments may 
  2422	require asynchronous to synchronous conversion in the protocol because 
  2423	equipment is limited to asynchronous operation, or an asynchronous to 
  2424	synchronous conversion is already in place. For example, most Hayes 1200 bps 
  2425	modems support only asynchronous communication over the telephone line. When 
  2426	one of these modems is connected to a V-series Modem Enhancer, the interface 
  2427	between the two is always asynchronous. A feature provided by the V-series 
  2428	Modem Enhancer called the Asynchronous Framing Technique (AFT) makes this 
  2429	possible. When AFT is enabled, the output of the error-control protocol is 
  2430	asynchronous instead of synchronous.
  2431	
  2432	Register S44 applies only to communications using a V-series Modem Enhancer 
  2433	with a Smartmodem 1200 that connects using an asynchronous link across the 
  2434	telephone line. 
  2435	
  2436	2   Use AFT. When AFT is selected, the data output is asynchronous instead of
  2437	    synchronous. AFT is required if the path your call takes passes through 
  2438	    asynchronous-only equipment.
  2439	
  2440	3   The modem to automatically selects whether or not to use AFT. V-series 
  2441	    Modem Enhancer, when connected to a Smartmodem 1200, automatically uses 
  2442	    AFT (factory setting).
  2443	
  2444	If the modem is configured to use feature negotiation, and the other modem is 
  2445	using AFT, both modems automatically select AFT.
  2446	
  2447	
  2448	S46 - Error-Control Protocol Selection
  2449	This register specifies the error-control method used for subsequent 
  2450	connections. A V-series System Product supports at least one additional 
  2451	protocol. Because the factory setting will be a protocol for point-to-point 
  2452	communications, other connections, such as the X.25 protocol must be enabled 
  2453	by setting S46.
  2454	
  2455	Feature negotiation enables two communicating modems to identify the common 
  2456	protocols, and choose one based on the user-configuration for the 
  2457	communication session. For example, if a V-series System Product is configured 
  2458	to use the X.25 protocol, but connects with a V-series System Product without 
  2459	X.25 capability, an error-control protocol is automatically selected because 
  2460	both modems support it. However, if a V-series System Product with X.25 
  2461	connects with another V-series System Product with X.25, both can use X.25 
  2462	protocol if configured to do so (S46=6).
  2463	
  2464	When attempting a connection to a packet switched network, automatic feature 
  2465	negotiation is usually disabled because unless an X.25 connection can be made, 
  2466	further network connections cannot be made. To disable automatic feature 
  2467	negotiation and make an X.25 connection or hang up, set S46=134. The options 
  2468	for this register are described below:
  2469	
  2470	0     Either LAPM or fallback to LAPB
  2471	1     LAPB only
  2472	2     LAPM or fallback to LAPB; use data compression#  
  2473	3     LAPB with data compression#  
  2474	6     X.25 or fallback to LAPB; use data compression#  
  2475	136   LAPM only
  2476	138   LAPM with data compression#  
  2477	134   X.25
  2478	
  2479	      # The technique negotiated is determined by capabilities and 
  2480	      configuration of both modems. V.42bis is attempted first, then Hayes 
  2481	      Adaptive Data Compression. If neither method is supported by both 
  2482	      modems, or if either modem has compression disabled, no compression will 
  2483	      be used.
  2484	
  2485	S48 - Enabling/Disabling Feature Negotiation
  2486	This register selects how feature negotiation is used when making connections 
  2487	with the remote system. The negotiation process can be tailored to suit a 
  2488	connection, or bypassed altogether. For example, when the capabilities of the 
  2489	remote modem are known, negotiation is unnecessary. The factory setting is 7, 
  2490	negotiation enabled. With feature negotiation disabled, the V-series System 
  2491	Product assumes that the remote modem is configured the same as itself, and 
  2492	proceeds to activate the error-control protocol specified by the S46 (protocol 
  2493	options) setting. Use 128 when calling a packet switched network that does not 
  2494	support feature negotiation.
  2495	
  2496	0     Negotiation disabled; presume the remote modem is configured for and has
  2497	      the capabilities necessary for the connection selected with S46
  2498	3     Negotiation enabled, but originating modem remains silent during 
  2499	      detection phase. For connections with MNP modems; however, this setting 
  2500	      defeats the negotiation sequence with other V.42 modems
  2501	7     Negotiation enabled
  2502	128   Negotiation disabled; forces fallback options specified in S36 to be 
  2503	      taken immediately
  2504	
  2505	S49 - ASB buffer size lower limit
  2506	This register sets the lower limit of the modem's buffer when communicating in 
  2507	asynchronous mode with ASB. The range of this register is 1-249. The factory 
  2508	setting is 8 bytes.
  2509	
  2510	S50 - ASB buffer size upper limit
  2511	This register sets the upper limit of the modem's buffer when communicating in 
  2512	asynchronous mode with ASB. The range of this register is 2-250 bytes. The 
  2513	factory setting is 16 bytes.
  2514	
  2515	S53 - Global PAD Configuration
  2516	S53 defines a set of behavior switches that control the PAD and all four 
  2517	channels in the V-series System Product. This fixed user interface provides 
  2518	software and users with a consistent PAD command interface regardless of 
  2519	current PAD parameter settings. The fixed user interface is effective in all 
  2520	states except the on-line (data transfer) state.
  2521	
  2522	For example, the factory-set value of PAD parameter 2 is zero, which turns off 
  2523	character echo. This is required for a transparent on-line state (e.g., for 
  2524	Smartmodem product emulation). However, since it may be difficult to enter PAD 
  2525	commands without seeing them echoed at your terminal, a method of controlling 
  2526	the PAD despite the parameter settings would be necessary.
  2527	
  2528	The fixed user interface affects the following in all states, except the on-
  2529	line state:
  2530	
  2531	*  Transmission of all PAD result codes, including the prompt PAD result code
  2532	*  Echo control via the E command
  2533	*  Fixed editing characters (delete character is defined by S5, delete line 
  2534	  character is Control-X, line display character is Control-R)
  2535	*  Echo mask masks only the editing characters
  2536	
  2537	The fixed PAD control interface affects the following in all states:
  2538	
  2539	*  Disables PAD recall using a character (PAD parameter 1) or a break signal 
  2540	*  Disables all PAD flow control (PAD parameters 5, 12)
  2541	*  Disables carriage return (PAD parameter 9) and line feed (PAD parameter 14)
  2542	  padding
  2543	*  Disables line folding (PAD parameter 10)
  2544	*  Existing result codes use result codes for terminal (PAD parameter 19)
  2545	*  Disables page wait (PAD parameter 22)
  2546	*  Disables execution of ANS and EXEC strings
  2547	*  Disables EXEC command
  2548	
  2549	If the value of S53 includes any bit value except 1, the PAD prompt character 
  2550	changes from * to -. The change in the prompt PAD character provides an 
  2551	indication that the PAD is not in CCITT mode. The register's values are 
  2552	provided below:
  2553	
  2554	0     Normal CCITT-compatibility mode
  2555	1     Normal CCITT-compatibility mode. PAD prompt is an asterisk (*) and
  2556	      appears with the channel number (e.g., 1*).
  2557	2     Fixed user interface. PAD prompt is a hyphen (-)
  2558	3     Fixed user interface. PAD prompt is a hyphen and appears with the 
  2559	      channel number (e.g., 1-) (factory setting) 
  2560	4     Fixed control interface. PAD prompt is a hyphen
  2561	5     Fixed control interface. PAD prompt is a hyphen and appears with the 
  2562	      channel number
  2563	6     Fixed user and fixed control interface. PAD prompt is a hyphen
  2564	7     Fixed user and fixed control interface. PAD prompt is a hyphen and
  2565	      appears with the channel number
  2566	
  2567	S63 - Leased line carrier level
  2568	This register selects the carrier power level in dBm for leased line 
  2569	operation. This register specifies a nominal carrier level value. The range 
  2570	for this register is 0-15 (0 dBm to -15 dBm). The factory setting is 0. Note 
  2571	that for those modems supporting leased line operation, carrier level (if 
  2572	adjustable) may be set by other means. Please refer to the modem's 
  2573	Installation Guide for information.
  2574	
  2575	S69 - Link Layer Window Size
  2576	This register sets the number of frames (packets) sent between 
  2577	acknowledgements from the remote system. Each frame is one packet and the 
  2578	window size is how many frames you can send before you must stop and wait for 
  2579	the remote end to send an acknowledgement that it received the frames and is 
  2580	ready to receive more frames. The range is 1-15 with a factory setting of 15. 
  2581	LAPM connections use a window size of 1-15; LAPB connections and X.25 
  2582	connections use a window size of 1-8. If a LAPB or X.25 connection is made, 
  2583	any value greater than 8 is treated as 8.
  2584	
  2585	Reducing window size can reduce performance. Reduce the window size only when 
  2586	so instructed by the network (this rarely occurs).
  2587	
  2588	S70 - Maximum Number of Retransmissions
  2589	S70 limits the number of times the modem will retransmit a frame. 
  2590	Retransmissions become necessary when data errors introduced by noise disrupt 
  2591	the reception of a frame. When the limit set by S70 is reached, the modem 
  2592	hangs up. Raising this limit may be necessary if, for example, telephone lines 
  2593	are extremely noisy. The retransmission delays may be undesirable, but the 
  2594	modem will not hang up. The range for this register is 0-255, with a factory 
  2595	setting of 10.
  2596	
  2597	S71 - Link Layer Timeout
  2598	When the link layer sends a character, it starts a timer referenced in the 
  2599	formula below as  "T1." If the remote end does not respond after T1 seconds, 
  2600	the link layer retransmits. The value of T1 is computed automatically based on 
  2601	the connection speed and maximum packet size.
  2602	
  2603	T1 = 2 * (maximum packet size + 11) * (8 Ö bits per second) + T2 + 500 msec
  2604	
  2605	The S71 setting is represented by the "T2" in the formula. The setting affords 
  2606	some control over the final value of T1. You can increase T1 by increasing T2. 
  2607	You may want to do this if your communication environment has unusually long 
  2608	delays transmitting information from one end to the another (such as with 
  2609	satellite connections), or if the computer at the other end takes a long time 
  2610	to respond. The range for this register is 1-255 milliseconds, with a factory 
  2611	setting of 20..
  2612	
  2613	S72 - Loss of Flag Idle Timeout
  2614	A transmitter not currently sending data to send is described as "idle." 
  2615	Normally, idle transmitters send a repeating pattern called "flag idle." Your 
  2616	modem always monitors the line to make sure the remote end of the 
  2617	communication link is either sending data or a flag idle. This ensures that 
  2618	the modem is operating. S72 determines how long the local modem waits before 
  2619	hanging up when it no longer is receiving data or a flag idle.
  2620	
  2621	In some systems, periods of "mark idle" (periods where all ones are 
  2622	transmitted instead of the flag pattern) are normal. When using such a system, 
  2623	it may be necessary to increase the value in S72. If the register is set to 0, 
  2624	this monitoring function is disabled. The range for this register is 1-255 
  2625	seconds; the factory setting is 30.
  2626	
  2627	S73 - No Activity Timeout
  2628	If your modem is receiving good carrier and flag idle from the remote modem 
  2629	but does not receive any data for the time period specified by S73, it will 
  2630	send a query (called an "RR") to the remote modem to make sure the modem is 
  2631	operating properly. 
  2632	
  2633	The range for this register is 1-255 seconds; the factory setting for this 
  2634	register is 5. Decreasing this value causes the modem to test more frequently 
  2635	for malfunctions at the remote end. However, the modem will not hang up for 
  2636	approximately 2 * T1 * N2 seconds because it retransmits the RR query several 
  2637	times.
  2638	
  2639	A Note on Registers S74, S75, S76, S77, S78, and S79 
  2640	(Logical Channel Number Selectors)
  2641	Although V-series System Products supports four virtual channels, numbered 1 
  2642	through 4, packet switched networks can support up to 4096 channels (numbered 
  2643	0-4095). Each network has its own channel numbering system to support multiple 
  2644	users. For example, if there are 15 calls, each with four virtual connections, 
  2645	the packet switched network can support all 60 (4*15) virtual calls, but each 
  2646	has to have a different logical channel number. 
  2647	
  2648	Networks often set up their system so that all incoming calls are within one 
  2649	range and all outgoing calls are within another range. Logical Channel Numbers 
  2650	are automatically assigned by the V-series System Product, but the ranges need 
  2651	to be configurable in order to be compatible with different network 
  2652	requirements.
  2653	
  2654	S74, S75 - Minimum Incoming Logical Channel Number (LCN)
  2655	S74 and S75 combine to specify the lowest incoming Logical Channel Number the 
  2656	packet layer will report or accept. The value used is formed by using S74 as 
  2657	the two high decimal digits and S75 as the two low decimal digits, or the 
  2658	value can be expressed by the formula S74*100+S75. 
  2659	
  2660	If the resulting value is outside the range (0-4095), the value is assigned to 
  2661	the appropriate corresponding limit (e.g., if a value of 4099 is used, it is 
  2662	assigned to the upper limit value of 4095).
  2663	
  2664	S74=0    Factory setting from a range of 0-40
  2665	S75=1    Factory setting from a range of 0-99
  2666	
  2667	S76, S77 - Maximum Incoming Logical Channel Number (LCN)
  2668	S76 and S77 combine to specify the highest incoming Logical Channel Number the 
  2669	packet layer will report or accept. The value used is formed by using S76 as 
  2670	the high two decimal digits and S77 as the two low decimal digits, or the 
  2671	value can be expressed by the formula S76*100+S77. 
  2672	
  2673	If the resulting value is outside the range (0-4095), the value is assigned to 
  2674	the appropriate corresponding limit (e.g., if a value of 4099 is used, it is 
  2675	assigned to the upper limit value of 4095).
  2676	
  2677	S76=40    Factory setting from a range of 0-40
  2678	S77=95    Factory setting from a range of 0-99
  2679	
  2680	S78, S79 - Outgoing Logical Channel Number (LCN)
  2681	The setting of registers S78 and S79 should be adjusted if the network 
  2682	requires a range of Logical Channel Numbers outside those specified with the 
  2683	combination of these two registers. 
  2684	
  2685	S78 and S79 combine to determine the outgoing Logical Channel Number the 
  2686	packet layer will use to place a call. The value is derived using S78 as the 
  2687	two high decimal digits and S79 as the low two decimal digits, or the value 
  2688	can be expressed by the formula S78 * 100 + S79. If the resulting value is 
  2689	outside the range (4-4095), the value is then assigned to the appropriate 
  2690	limit. The highest Logical Channel Number would be that derived from the above 
  2691	formula, and the lowest would be the value minus the maximum number of 
  2692	channels supported plus one. The user has the ability to override this factory 
  2693	setting and explicitly specify an LCN using the PAD selection command (CALL).
  2694	
  2695	S78=0    Factory setting from a range of 0-40
  2696	S79=16   Factory setting from a range of 0-99
  2697	
  2698	A Note on Registers S80 and S81 (Packet Layer Parameters)
  2699	The values in these two registers combine to set time and duration for packet 
  2700	layer restart requests.
  2701	
  2702	S80 - Packet Layer N20 Parameter
  2703	This register sets the maximum number of times a restart request can be 
  2704	retransmitted. The factory setting is 1 (S80=1) from a range of 0-255. Setting 
  2705	this register may be necessary if the network requires a restart attempt to 
  2706	abandon a connection earlier than planned.
  2707	
  2708	S81 - Packet Layer T20 Parameter
  2709	This register sets the maximum amount of time the transmitter will wait for 
  2710	acknowledgment of a restart request frame before initiating a recovery 
  2711	procedure, in 10-second increments. The factory setting is 18 from a range of 
  2712	0-255. Setting this register may be necessary if the network requires a 
  2713	restart attempt to abandon a connection earlier than planned.
  2714	
  2715	S82 - Break Signaling Technique 
  2716	This register selects a method of break signal handling for V.42 
  2717	communications: in sequence, expedited, and destructive. Break signals provide 
  2718	a way for you to get the attention of the remote host. The break type used 
  2719	depends on your application.
  2720	
  2721	3     Expedited signaling regardless of its sequence in data sent and
  2722	      received; data integrity maintained
  2723	7     Destructive signaling regardless of its sequence in data sent and
  2724	      received; data in process at time is destroyed
  2725	128   In sequence signaling as data is sent and received; data integrity
  2726	      maintained ahead of and after break
  2727	
  2728	S84 - Adaptive start up negotiation (ASU)
  2729	This register selects the adaptive start up method to be negotiated for 
  2730	subsequent connections.
  2731	
  2732	0     Do not negotiate ASU connection
  2733	128   Negotiate ASU with fixed start up
  2734	129   Negotiate ASU with fast start up on both sides
  2735	130   Negotiate ASU with smooth start up on both sides
  2736	131   Negotiate ASU with configuring modem using fast start up and the other
  2737	      modem using smooth start up
  2738	132   Negotiate ASU with configuring modem using smooth start up and the other 
  2739	      modem using fast start up
  2740	
  2741	S85 - ASU Negotiation Report
  2742	This register indicates whether adaptive start up and method were negotiated 
  2743	for the current connection. To read this register, issue the escape sequence 
  2744	to place the modem in the command state, then issue ATS85? <CR>. The modem 
  2745	will report one of the values below.
  2746	
  2747	0     ASU not negotiated; fixed start up in use
  2748	128   ASU negotiated with fixed start up
  2749	129   ASU negotiated with fast start up on both sides
  2750	130   ASU negotiated with smooth start up on both sides
  2751	131   ASU negotiated with reporting modem using fast start up and the other 
  2752	      modem using smooth start up
  2753	132   ASU negotiated with reporting modem using smooth start up and the other 
  2754	      modem using fast start up
  2755	
  2756	S86 - Connection Failure Cause
  2757	This register can help you determine the cause of a connection failure. When 
  2758	the modem issues a NO CARRIER result code, a value is written to this 
  2759	register. To read this register, following the connection failure, issue 
  2760	ATS86? <CR>. The modem will report one of the values below.
  2761	
  2762	0     Normal hang up; no error occurred
  2763	4     Physical carrier loss
  2764	5     Feature negotiation failed to detect presence of another error-control 
  2765	      modem at the other end
  2766	6     Other error-control modem did not respond to feature negotiation message 
  2767	      sent by this modem
  2768	7     Other modem is synchronous-only; this modem is asynchronous-only
  2769	8     Modems could not find a common framing technique
  2770	9     Modems could not find a protocol in common
  2771	10    Feature negotiation message sent by other modem incorrect
  2772	11    Synchronous information (data or flags) not received from other modem.
  2773	      Modem waited 30 seconds before hanging up
  2774	12    Normal disconnect initiated by other modem
  2775	13    Other modem did not respond after many transmissions of the same 
  2776	      message. Modem made 10 attempts then hung up
  2777	14    Protocol violation occurred
  2778	15    Compression failure
  2779	
  2780	Note: Multiple occurrences may contribute to a NO CARRIER message; S86 records 
  2781	the first event that occurred.
  2782	
  2783	S92 - MI/MIC Options 
  2784	This register enables (chooses method) or disables the mode indicate/mode 
  2785	indicate common interface. The settings available for this register support 
  2786	various combinations of edge and level detection in either originate or answer 
  2787	mode with ring indicator (RI) pulse enabled or disabled. For particulars as to 
  2788	how the jack setting specified with the &J command interacts with this 
  2789	register, see the modem's Installation Guide.
  2790	
  2791	0     MI/MIC disabled
  2792	1     level triggered, originate mode, RI pulse enabled
  2793	3     edge triggered, originate mode, RI pulse enabled
  2794	5     level triggered, answer mode, RI pulse enabled
  2795	7     edge triggered, answer mode, RI pulse enabled
  2796	9     level triggered, originate mode, RI pulse disabled
  2797	11    edge triggered, originate mode, RI pulse disabled
  2798	13    level triggered, answer mode, RI pulse disabled
  2799	15    edge triggered, answer mode, RI pulse disabled
  2800	
  2801	Note that this feature is not available to all modems. Refer to the feature 
  2802	list in the modem's Installation Guide.
  2803	
  2804	S93 - V.25bis DTE interface speed
  2805	This register selects the speed used when the modem is configured for V.25bis 
  2806	mode. When autobauding in any mode other than V.25bis, the modem uses the 
  2807	value held in S37.
  2808	
  2809	3     300 bps
  2810	5     1200 bps
  2811	6     2400 bps
  2812	7     4800 bps
  2813	9     9600 bps
  2814	
  2815	Note that the V.25bis feature is not available to all modems. Refer to the 
  2816	feature list in the modem's Installation Guide.
  2817	
  2818	S94 - Command Mode Selector
  2819	This register provides an alternative to setting internal DIP switches when 
  2820	choosing between the AT command mode (factory setting) and the various CCITT 
  2821	V.25bis command modes supported by the modem. To use this register, DIP 
  2822	switches 3 and 4 must both be in the UP position (factory setting).
  2823	
  2824	0     Standard AT command operation (factory setting)
  2825	1     Asynchronous V.25bis using addressed access
  2826	2     Synchronous V.25bis (HDLC framing) using addressed access
  2827	3     Synchronous V.25bis (Character framing) using addressed access
  2828	5     Asynchronous V.25bis using direct access
  2829	6     Synchronous V.25bis (HDLC framing) using direct access
  2830	7     Synchronous V.25bis (Character framing) using direct access
  2831	9     Asynchronous V.25bis using addressed access with EBCDIC character set 
  2832	      option
  2833	10    Synchronous V.25bis (HDLC framing) using addressed access with EBCDIC 
  2834	      character set option
  2835	11    Synchronous V.25bis (Character framing) using addressed access with 
  2836	      EBCDIC character set option
  2837	13    Asynchronous V.25bis using direct access with EBCDIC character set
  2838	      option
  2839	14    Synchronous V.25bis (HDLC framing) using direct access with EBCDIC 
  2840	      character set option
  2841	15    Synchronous V.25bis (Character framing) using direct access with EBCDIC 
  2842	      character set option
  2843	
  2844	S95 - Negotiation Message Options
  2845	This register enables various result codes that indicate the sequence of 
  2846	events in the establishment of an error-control connection. This register does 
  2847	not affect the way in which the modem negotiates the connection; it merely 
  2848	enables message options. The factory setting for this register is value 0, no 
  2849	bits selected. To enable any combination of the bits, add the value(s) to the 
  2850	right of the bit number and set the register to this sum.
  2851	
  2852	Note: The bit values of S95 may be set to override some of the characteristics 
  2853	of the Wn command. Setting any of the S95 bits to "1" enables the 
  2854	corresponding result codes regardless of the Wn command in effect. Changing 
  2855	the Wn command setting does not affect the value set for this register.
  2856	
  2857	Bit  Value  Explanation
  2858	0    1      Verbose CONNECT result code indicates the DCE speed (rather than
  2859	            DTE speed). Numeric result codes are also differennt when
  2860	            CONNECT reports DCE speed.
  2861	1    2      Append "/ARQ" to CONNECT result code when an error-control 
  2862	            connection is made
  2863	2    4      Add CARRIER messages
  2864	3    8      Add PROTOCOL messages
  2865	4    16     Add AUTOSTREAM messages
  2866	5    32     Add COMPRESSION messages
  2867	
  2868	For example, if you want to add the compression result code (with W1 
  2869	selected), you would select bit 5 (value of 32). The command line ATS95=32 
  2870	<CR> will then enable the COMPRESSION negotiation messages.
  2871	
  2872	Refer to the Wn and Xn commands for additional and related information. 
  2873	
  2874	
  2875	*****************************************************************************
  2876	1.4 Additional Command Set Definitions
  2877	The following items are critical parts of the AT Command Set, although they 
  2878	are not "commands." The AT prefix, the escape sequence, end-of-line character, 
  2879	and repeat last command function round out the elements of the command set.
  2880	
  2881	AT - Command Prefix
  2882	Modem commands begin with an AT prefix that gets the modem's attention. The 
  2883	speed and character format at which the DTE sends this prefix tells the modem 
  2884	the speed and format for responding to commands, and at which speed to attempt 
  2885	the connection. See the Installation Guide for the speeds, formats, and 
  2886	transmission methods supported by your modem.
  2887	
  2888	+++ - Escape Sequence
  2889	The escape sequence is used to take the modem from the on-line state ( or "on-
  2890	line" command state) to the  command state without breaking the connection. 
  2891	This provides a means of changing a setting then going back on-line.
  2892	
  2893	Not actually a command, the escape sequence tells the modem to "escape" or 
  2894	leave the on-line state and enter the command state. The sequence consists of 
  2895	a single character issued three times in succession. A one-second "guard time" 
  2896	interval prevents the modem from mistaking a random occurrence of the same 
  2897	three characters as the escape sequence. The character used in the sequence 
  2898	and the duration of the guard time can be changed by writing values to S2 and 
  2899	S12, respectively. 
  2900	
  2901	The escape sequence is issued by typing the plus key three times (+++) in 
  2902	succession. A pause of at least a second should precede and follow the three 
  2903	characters. The modem will return the OK result code as an indication it is 
  2904	ready to accept commands.
  2905	
  2906	<CR> - End-of-line Character
  2907	This key terminates the command line. The key enabling this function is 
  2908	determined by the value stored in S3. The factory setting is ASCII 13, the 
  2909	carriage return character. When the end-of-line character is entered, the 
  2910	modem executes the commands that follow the AT prefix. In this reference, this 
  2911	key is referred to as <CR>. For example, the command line ATV0 <CR> gets the 
  2912	modem's attention, then instructs the modem to display its responses to 
  2913	commands (result codes) as numbers.
  2914	
  2915	A/ - Repeat Last Command
  2916	A/ re-issues the command string most recently placed in the command buffer. 
  2917	This keystroke combination can be used to re-issue the command string last 
  2918	entered. For example, the A/ (if permitted by your local telephone system) is 
  2919	useful as a re-dial function.
  2920	
  2921	
  2922	=============================================================================
  2923	
  2924	Chapter Two:
  2925	V-series X.25 Communications
  2926	
  2927	This chapter includes information about the use of X.25 communications with V-
  2928	series System Products. The command and parameter descriptions are more 
  2929	detailed than those offered in the V-series System Product User's Reference. 
  2930	Also included are four recommended PAD profiles that can be recalled from 
  2931	memory to use with the modem's PAD.
  2932	
  2933	The factory settings and available options/ranges for these commands and 
  2934	parameters are provided here because they are the same for all V-series System 
  2935	Products that support the X.25 feature.
  2936	
  2937	
  2938	*****************************************************************************
  2939	2.1 Modem Configuration for X.25 Communications
  2940	X.25 connections begin the same as point-to-point connections - with a modem 
  2941	call to a remote system. Your modem is configured from the factory to 
  2942	automatically negotiate the best point-to-point error-control connection, if 
  2943	the purpose of the call is to establish a link with an X.25 network, the modem 
  2944	must be re-configured with several S-Registers.
  2945	
  2946	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  2947	2.1.1 Controlling Automatic Feature Negotiation
  2948	The S-Registers controlling connection type selection are described in the 
  2949	sections that follow. An overview of the the options that can be set with S-
  2950	Registers is provided in the chart below.
  2951	
  2952	Communication Environment                          &Q  S36  S44  S46  S48
  2953	-----------------------------------------------------------------------------
  2954	X.25 enabled (Use X.25 if remote system 
  2955	has X.25; otherwise, use LAP-B point-to-point 
  2956	connection)                                        5    0    3    6    3
  2957	X.25 only (Point-to-point connection)              5    0    3    134  3
  2958	X.25 network without feature negotiation:          5    0    3    6    0
  2959	X.25 network with feature negotiation              5    0    3    6    3
  2960	X.25 network with feature negotiation and AFT      5    0    2    6    3
  2961	
  2962	The suggested configuration for establishing a synchronous X.25 connection 
  2963	with a packet switched network or a remote V-series System Product that 
  2964	supports X.25, can be selected with AT&Q5 S44=3 S46=6 S48=0 <CR>. Refer to the 
  2965	S-Register Listing in Chapter One for a description of the registers that can 
  2966	be used to configure the modem.
  2967	
  2968	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  2969	2.1.2 PAD Channel Selection
  2970	The &O command is used to move from the AT command state to the PAD command 
  2971	state in order to issue PAD commands. The optional channel number identifies 
  2972	the desired virtual channel number. If the virtual channel number is zero 
  2973	(&O0), or not specified (&O), the last channel number accessed is used. Each 
  2974	time &O is issued, it resets the current PAD before it enters the PAD command 
  2975	state (provided a virtual connection is established).
  2976	
  2977	Once the PAD command state is entered, the CHAN command can be used to switch 
  2978	among the PAD command states of the four virtual channels.
  2979	
  2980	If an X.25 connection has already been established and you have escaped to the 
  2981	AT command state, the PROTOCOL and CONNECT result codes are transmitted to 
  2982	your terminal. The ERROR result code is transmitted if the modem is on-line 
  2983	but not in X.25 mode (e.g., modem is in Error-Control/LAP-B mode).
  2984	
  2985	Example of &O command use:
  2986	
  2987	String       Result Code/Explanation
  2988	
  2989	AT&O1 <CR>   OK (PAD channel 1 selected)
  2990	
  2991	AT&O9 <CR>   ERROR (value entered is out of selectable range)
  2992	
  2993	See the description of the &O command in the AT Command Listing in Chapter 
  2994	One.
  2995	
  2996	
  2997	*****************************************************************************
  2998	2.2 PAD Configuration
  2999	Like your modem, the PAD can be configured according to the communications 
  3000	requirements of the remote systems you call.
  3001	
  3002	Although a small number of S-Registers control some PAD options (packet and 
  3003	window sizes, for example), the PAD is primarily configured with separate 
  3004	memory locations. A set of PAD parameters can be configured for each channel. 
  3005	The set consists of standard X.25 PAD parameters and National parameters.
  3006	
  3007	Although the PAD's factory-set configuration will be suitable for many 
  3008	applications, sets of predefined PAD parameter settings can be defined as 
  3009	profiles to be recalled for use with later.
  3010	
  3011	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  3012	2.2.1 PAD Commands
  3013	Each PAD command consists of characters and occasionally symbols that specify 
  3014	the command's action. Like the AT command line, you can place as many as 255 
  3015	characters on a single line.
  3016	
  3017	The only exception to this format is the EXEC command. This command for 
  3018	storing and executing a series of instructions to configure the PAD uses a 
  3019	plus sign (+) to tie commands together in the command string. When these 
  3020	commands are executed, the plus signs are treated as carriage returns. For 
  3021	more on storing a PAD configuration with the EXEC command, see "PAD Profiles."
  3022	
  3023	Issuing PAD commands
  3024	PAD commands are typed at the PAD prompt, then entered with <CR>. This action 
  3025	and most other conventions for editing a line and entering commands are the 
  3026	same as those use when issuing AT commands.
  3027	
  3028	PAD command format
  3029	Each PAD command consists of characters and occasionally symbols that specify 
  3030	what the command will do. A PAD command is typed on the command line, then 
  3031	entered using the carriage return key (factory setting for S3). 
  3032	
  3033	When you type in a command, the PAD ignores spaces, delete characters, control 
  3034	characters, and upper/lower case. For example, the commands RESET, RE SET, and 
  3035	reset are all interpreted as the same command. The backspace key can be used 
  3036	to correct any mistakes made while entering a command. In this addendum, the 
  3037	following symbols are used when describing PAD commands.
  3038	
  3039	Symbol  Meaning
  3040	-----------------------------------------------------------------------------
  3041	[ ]     Indicates optional parameters, parameters which can be entered with 
  3042	        the PAD command
  3043	< >     Indicates a named parameter, such as a user ID requested by the 
  3044	        network
  3045	...     Indicates a repeated item within brackets, for example the command
  3046	        PAR? [<parameter>][,<parameter>...]
  3047	
  3048	These symbols represent the kinds of information that can accompany a PAD 
  3049	command. Do not type these symbols when entering a PAD command. 
  3050	
  3051	Any characters that appear with a PAD command, other than the symbols 
  3052	mentioned above, are interpreted literally. For example, the command: ACC [R] 
  3053	[<facility> -] is interpreted:
  3054	
  3055	Symbol          Meaning
  3056	-----------------------------------------------------------------------------
  3057	ACC             Issue the Accept command which indicates that you want to 
  3058	                accept a call
  3059	[R]             Include an optional parameter (R) instructing network that 
  3060	                you will accept charges for the call if requested
  3061	[<facility> -]  Include an optional facility parameter, such as your user ID,
  3062	                or some other information required by the network. Several 
  3063	                facilities can be strung together, separating each by a comma 
  3064	                and ending the string with a hyphen (-)
  3065	
  3066	PAD commands are of two types: those used for call related activities, such as 
  3067	placing a call, answering a call, initializing and changing channels, etc., 
  3068	and those used to configure the PAD. These commands can be used in the 
  3069	following ways:
  3070	
  3071	*  place and answer calls (CALL, ACC)
  3072	*  move between channels (CHAN, EXIT)
  3073	*  create, save, and execute a PAD command string (EXEC)
  3074	*  clear and initialize channels (CLR, INT)
  3075	*  display the current status of a call (STAT) 
  3076	*  display one of several available PAD configuration profiles (PROF) 
  3077	*  display the current settings of the PAD's parameters (PAR?) 
  3078	*  display the current settings of the remote system's PAD parameters (RPAR?) 
  3079	*  set and read the value of specific PAD parameters (SET, SET?)
  3080	*  set and read the value of specific PAD parameters of the remote system 
  3081	  (RSET, RSET?)
  3082	
  3083	The commands supported by the PAD are listed in the following sections. Each 
  3084	command is defined with sample formats, allowable parameters, and possible 
  3085	result codes for the command.
  3086	
  3087	ACC - Accept Call Command
  3088	When you have established a connection to the network node and a remote system 
  3089	on the network wants to call you, a PAD result code is sent to your computer 
  3090	announcing the incoming call. Enter the ACC command to accept the call and 
  3091	establish a virtual connection. 
  3092	
  3093	To configure the PAD to automatically answer incoming calls, use the EXEC 
  3094	command described following this command.
  3095	
  3096	Example Format
  3097	ACC [R] [<facility>] 
  3098	
  3099	Parameter   Description
  3100	-----------------------------------------------------------------------------
  3101	[R]         Instructs the network that you will accept charges for the call if 
  3102	            requested to do so
  3103	<facility>  Represents optional call facilities may be entered
  3104	
  3105	Result Codes: Description
  3106	-----------------------------------------------------------------------------
  3107	CON           ACC received
  3108	ERR           Invalid command format; or command not entered in response to an 
  3109	              incoming call; or virtual connection not established
  3110	
  3111	CALL - Call Command
  3112	The CALL command is the PAD command you use to make a virtual connection to a 
  3113	remote system. Once the PAD is configured, this is the primary command you 
  3114	will use.
  3115	
  3116	Once a physical connection to the X.25 network has been established, a virtual 
  3117	connection to the remote system is made with the CALL command. If the call is 
  3118	accepted by the remote system, the PAD enters the data transfer state. If the 
  3119	call is not accepted, a "call cleared" response is sent and the PAD remains in 
  3120	the PAD command state. 
  3121	
  3122	Example Formats
  3123	CALL
  3124	[CALL] [<facility>] [<called> [,[<calling>] [,<lcn>] ] ]
  3125	[CALL] <facility> D <user_data>
  3126	[CALL] <called> D <user_data>
  3127	[CALL] <facility> <called> [,[<calling>] [,<lcn>] ] D <user_data>
  3128	
  3129	Parameter  Description
  3130	-----------------------------------------------------------------------------
  3131	<facility> One or more call parameter facilities that can be strung 
  3132	           together on a command line and separated by commas; the last
  3133	           facility is followed by a hyphen (-)
  3134	<called>   Represents remote system's address containing up to 15 digits (0-9)
  3135	<calling>  Represents source address containing up to 15 digits (0-9)
  3136	<lcn>      X.25 logical channel number (1-4095)
  3137	<user_data> Character string containing up to 12 ASCII characters
  3138	
  3139	Result Codes  Description
  3140	-----------------------------------------------------------------------------
  3141	ERR           Call cannot be placed due to call in progress; or virtual 
  3142	              connection not established
  3143	CLR           Remote PAD cleared virtual connection; may be followed by a 
  3144	              string of diagnostic characters
  3145	CON           Call connected; may be followed by a string of diagnostic
  3146	              characters
  3147	
  3148	Call Facilities
  3149	In the above CALL command formats, notice the <facility> field. This field is 
  3150	provided to specify "call facilities." A call facility is an optional 
  3151	parameter that can be specified to meet a network's requirements, such as 
  3152	entering a network user ID (NUI), or indicating that charges are to be 
  3153	reversed (R). 
  3154	
  3155	When subscribing to a packet switched network, you are informed of the 
  3156	required or permitted call facilities. In order to respond to your CALL 
  3157	command, different networks may require specific call facilities.
  3158	
  3159	Any of the following call facilities with the CALL command. When two or more 
  3160	facilities are entered on a line, they are separated by commas. A hyphen (-) 
  3161	terminates the string. For example: CALL R,N, -
  3162	
  3163	The table below provides a description of the available call facilities.
  3164	
  3165	Call Facility  Description
  3166	-----------------------------------------------------------------------------
  3167	R              Instructs network that you will accept charges for the call if 
  3168	               requested to do so
  3169	N <NUI>        Provides network with network user ID, identifying the caller 
  3170	               to the network
  3171	T <RPOA>       Specifies which networks the data packets take to their 
  3172	               destination. Any number of addresses may be specified; each 
  3173	               address is four digits (0-9). RPOA stands for "Recognized 
  3174	               Private Operating Agencies"
  3175	P <num>        Requested maximum packet size according to the following packet 
  3176	               size-to-bytes conversions: P4=16, P5=32, P6=64, P7=128, P8=256,
  3177	               P9=512. If P is not specified, the default value (128) of 
  3178	               National Parameter 100 is used
  3179	W <num>        Requested maximum window size (2-7). If W is not specified, the 
  3180	               default value (2) of National parameter 101 is used
  3181	X <hex>        Hexadecimal data (0-9, A-F). Caution: Putting data directly
  3182	               into the facilities field of the call packet, specifies 
  3183	               facility codes not directly supported by the modem
  3184	
  3185	CHAN - Channel Selection Command
  3186	Use the CHAN command to switch from one virtual channel to another. The modem 
  3187	remains in the PAD command state.
  3188	
  3189	Example Format
  3190	CHAN <channel>
  3191	
  3192	Parameter   Description
  3193	-----------------------------------------------------------------------------
  3194	<channel>   Specifies which virtual channel to switch to, indicated by an 
  3195	            ASCII digit (1-4)
  3196	
  3197	Result Codes:  Description
  3198	-----------------------------------------------------------------------------
  3199	ERR            Invalid <channel> specified
  3200	
  3201	CLR - Clear Channel Command
  3202	After a virtual connection has been established, the CLR command can be used 
  3203	to clear (disconnect) a call on a virtual channel and place that channel in 
  3204	the PAD command state.
  3205	
  3206	Example Format
  3207	CLR [X <extended_codes> -] [<diagnostic_code>] 
  3208	
  3209	Parameters         Description
  3210	-----------------------------------------------------------------------------
  3211	<extended_codes>   Hexadecimal data (0-9, A-F) supporting facilities not
  3212	                   supported by the V-series X.25 product
  3213	<diagnostic_code>  String of up to three digits from a range of 1-255, 
  3214	                   indicating the error that has occurred
  3215	
  3216	Result Codes  Description
  3217	-----------------------------------------------------------------------------
  3218	ERR           Virtual connection not established on this channel; or invalid 
  3219	              parameter entered
  3220	
  3221	EXEC - Execute String Command
  3222	The EXEC command is used to define and save a PAD command and then 
  3223	automatically execute it when a physical connection to a network node is 
  3224	established. EXEC is commonly used to define the CALL command. Another common 
  3225	use of EXEC is to automatically answer an incoming call. 
  3226	
  3227	The string stored in each virtual channel as the factory setting is ANS+ACC, 
  3228	which instructs the PAD to answer and accept incoming calls to the channel. To 
  3229	display the string currently stored, you can issue EXEC? <CR>.
  3230	
  3231	Sample EXEC sequence:
  3232	To use the EXEC command, from the PAD command state type EXEC <CR>. The PAD 
  3233	will display the prompt: EXEC>. After the prompt, enter the PAD command you 
  3234	wish to save. For example:
  3235	
  3236	EXEC> CALL R- 3110 20200202 <CR>
  3237	
  3238	This stores a CALL command for connecting to a packet switched network. As 
  3239	soon as the modem establishes a physical connection to the network node, the 
  3240	EXEC string is processed, placing the call.
  3241	
  3242	In the EXEC string that you define, plus signs can be used to separate 
  3243	multiple commands. When the EXEC string is executed, the plus signs are 
  3244	treated like carriage returns. For example, the following EXEC string defines 
  3245	how the PAD will respond to an incoming call from remote system:
  3246	
  3247	EXEC> ANS+PROF VSM+SET 0:0,74:1+ACC <CR>
  3248	
  3249	In this EXEC string, the PAD is instructed to:
  3250	
  3251	ANS         Respond to an incoming call request
  3252	PROF VSM    Load the V-series emulation PAD profile
  3253	SET 0:0     Set the National marker in order to change a National parameter
  3254	74:1        Change National parameter 74 to 1
  3255	ACC         Accept the call
  3256	
  3257	In another example:
  3258	
  3259	EXEC>ANS+ACC+Welcome to Hayes/M/JX.25//dial-up!/M/J <CR>
  3260	
  3261	the PAD is instructed to:
  3262	
  3263	ANS    Respond to an incoming call request.
  3264	ACC    Accept the call.
  3265	
  3266	Welcome to Hayes/M/JX.25//dial-up!/M/J is sent to the remote system. 
  3267	
  3268	"/M" means "control M," a carriage return; 
  3269	"/J" means "control J," a line feed. 
  3270	
  3271	This message is received by the remote system as:
  3272	
  3273	Welcome to Hayes
  3274	X.25/dial-up!
  3275	
  3276	To display the current EXEC string (if any) stored in memory, type EXEC? <CR>.
  3277	
  3278	EXIT - Exit PAD Command
  3279	Use the EXIT command to leave the PAD command state and enter the modem's AT 
  3280	command state. For example, if you are in the PAD command state (of any 
  3281	virtual channel) and you want to hang up the phone, first type:
  3282	
  3283	EXIT <CR>  the OK result code is sent from the modem to the attached computer
  3284	
  3285	then type:
  3286	
  3287	ATH0 <CR>  This AT command hangs up the modem, breaking the physical 
  3288	connection to network; the OK result code is returned if the modem hangs up 
  3289	before the network; if the network hangs up first, the NO CARRIER result code 
  3290	is returned). Hanging up clears all virtual connections still engaged.
  3291	
  3292	INT - Interrupt Command
  3293	During a virtual connection, the INT command can be issued to send an 
  3294	interrupt, placing the PAD in the on-line state. Networks respond to 
  3295	interrupts differently, however. This command can result in lost data. It 
  3296	should not be used unless its use has been cleared through the network.
  3297	
  3298	Example Format
  3299	INT
  3300	
  3301	Result Codes:  Description
  3302	-----------------------------------------------------------------------------
  3303	<CR/LF>        The remote host has acknowledged the interrupt
  3304	ERR            Virtual connection not established on this channel
  3305	
  3306	PAR? - Read Parameter Command
  3307	The PAR? command displays the current settings of the local PAD. Settings for 
  3308	selected PAD parameters can be requested or if the command is issued with no 
  3309	parameters, the settings for all twenty-two PAD parameters are requested.
  3310	
  3311	Note: To display the settings for the National PAD parameters, enter a zero 
  3312	(0) after the command (PAR?0).
  3313	
  3314	Example Format
  3315	PAR? [<parameter>] [,<parameter>...]
  3316	
  3317	Parameter     Description
  3318	-----------------------------------------------------------------------------
  3319	<parameter>   Number of specific PAD parameter setting to display. If no PAD
  3320	              parameters are specified, the settings for all 22 PAD parameters 
  3321	              are displayed. Enter a zero (0) to display the settings for all 
  3322	              of the National PAD parameters.
  3323	
  3324	Result Codes      Description
  3325	-----------------------------------------------------------------------------
  3326	ERR               Invalid command format
  3327	<parameter>:INV   Invalid parameter entered. For example, if PAR?40 were 
  3328	                  typed, PAR 40:INV would be displayed since 40 is out of the 
  3329	                  range 1-22
  3330	
  3331	For example, issuing PAR? 1,4,0,70,71 displays the current settings for the 
  3332	specified parameters (1,4,0,70, 71) of the local PAD: PAR 1:0, 4:0, 0:0, 70:1, 
  3333	71:0 
  3334	
  3335	If no parameters are specified: PAR? the settings for all twenty-two PAD 
  3336	parameters are displayed:
  3337	PAR 1:0, 2:0, 3:0, 4:0, 5:0, 6:5, 7:5, 8:0, 9:0, 10:0, 11:14,12:0, 13:0, 14:0, 
  3338	15:0, 16:8, 17:24, 18:18, 19:1, 20:65, 21:0,22:0
  3339	
  3340	PROF - PAD Profile Command
  3341	A "profile" is a predefined collection of PAD parameter settings used for a 
  3342	virtual connection, similar to the profiles that can be defined for the 
  3343	modem's general configuration. With the PROF command, one of four standard 
  3344	profiles can be selected, or a particular configuration can be defined and 
  3345	saved as a profile in nonvolatile memory.
  3346	
  3347	Example Format
  3348	PROF <identifier>
  3349	
  3350	
  3351	Parameter    Description
  3352	-----------------------------------------------------------------------------
  3353	<identifier> Enter the alphanumeric characters that specify the profile to 
  3354	             be recalled for the current channel. Possible identifiers are:
  3355	
  3356	DEF          Selects the factory default profile
  3357	
  3358	SIM	       Selects CCITT simple standard profile
  3359	
  3360	TRA	       Selects CCITT transparent standard profile
  3361	
  3362	VSM	       Selects V-series Error-Control/LAP-B emulation profile
  3363	NVM	       Selects the profile saved in nonvolatile memory
  3364	
  3365	SAV          Saves the current PAD configuration profile in nonvolatile
  3366	             memory
  3367	
  3368	
  3369	Result Codes:  Description
  3370	---------------------------------------
  3371	ERR            Invalid <identifier>
  3372	
  3373	The V-series Emulation Profile (VSM) is automatically set if feature 
  3374	negotiation results in an Error-Control/LAP-B connection on virtual channel 1 
  3375	(Error-Control/LAP-B connections always use virtual channel 1). The 
  3376	configuration profile is automatically restored to its factory setting when 
  3377	the the modem hangs up.
  3378	
  3379	To create a profile, use the CHAN command to move to the desired channel. For 
  3380	example, issue CHAN3 <CR> to move to channel 3. At the prompt, type in the PAD 
  3381	parameters you want to adjust and store, issuing them with <CR>. To save the 
  3382	settings as a profile, issue PROF SAV <CR>.
  3383	
  3384	RESET - PAD Reset Command
  3385	The RESET command resets the virtual channel. If your system locks up 
  3386	unexpectedly, or data transfer has stopped, or you are unable to reach the 
  3387	remote system, you may wish to reset the virtual channel and start over. 
  3388	Issuing the RESET command may result in lost data.
  3389	
  3390	Example Format
  3391	RESET [ <diagnostic> ]
  3392	
  3393	Parameter     Description
  3394	-----------------------------------------------------------------------------
  3395	<diagnostic>  String of up to three numeric digits from a range of 0-255 
  3396	              indicating an error has occurred
  3397	
  3398	Result Codes:   Description
  3399	-----------------------------------------------------------------------------
  3400	ERR             Virtual connection not established on this channel
  3401	
  3402	RPAR? - Read Remote PAD Parameter Command
  3403	To display the current settings of the remote system's PAD parameters, use the 
  3404	RPAR? command. If no parameters are specified, the settings for all of the 
  3405	remote system's PAD parameters are displayed.
  3406	
  3407	Example Format
  3408	RPAR? [<parameter>] [,<parameter>...]
  3409	
  3410	Parameter    Description
  3411	-----------------------------------------------------------------------------
  3412	<parameter>  Specifies the remote system's PAD parameter(s) to display
  3413	
  3414	Result Codes     Description
  3415	ERR              Invalid command format; or virtual connection not 
  3416	                 established on this channel
  3417	<parameter>:INV  Invalid parameter entered; or remote system does not support 
  3418	                 parameter specified
  3419	
  3420	For example, issuing RPAR? 1,4,0,70,71 <CR>
  3421	
  3422	displays the current settings for the specified parameters of the remote 
  3423	system's PAD. The string: RPAR 1:0, 4:0, 0:0, 70:1, 71:0 is displayed.
  3424	
  3425	If no parameters are specified: RPAR? the settings for all of the remote 
  3426	system's PAD parameters are displayed.
  3427	
  3428	RSET - Set Remote PAD Parameter Command
  3429	To set and display the remote system's PAD parameters, use the RSET command.
  3430	
  3431	Example Format
  3432	RSET [?] [<parameter>:<value>] [,<parameter>:<value>] [, ...]
  3433	
  3434	Parameter    Description
  3435	<parameter>  Specifies the number of the remote system's PAD parameter you
  3436	             want to set/display
  3437	<value>      Value that you want to set for the specified PAD parameter
  3438	
  3439	Result Codes     Description
  3440	-----------------------------------------------------------------------------
  3441	ERR              Invalid command format
  3442	<parameter>:INV  Invalid parameter or value
  3443	
  3444	For example, entering RSET 2:1 <CR> sets the remote system's PAD parameter 2 
  3445	to a value of 1.
  3446	
  3447	To display the setting, type: RSET? 2:1<CR>. The new parameter setting will be 
  3448	displayed: RPAR 2:1
  3449	
  3450	STAT - Status of Current Channel Command
  3451	The STAT command displays the current status of a virtual connection.
  3452	
  3453	Example Format
  3454	STAT
  3455	
  3456	Result Codes:  Description
  3457	------------------------------------
  3458	FREE           No call in progress
  3459	ENGAGED        Call in progress
  3460	
  3461	SET - Set PAD Parameter Command
  3462	To set (and display) the local PAD's parameters, use the SET command.
  3463	
  3464	Example Format
  3465	SET [?] [<parameter>:<value>] [,<parameter>:<value>] [, ...]
  3466	
  3467	Parameter    Description
  3468	-----------------------------------------------------------------------------
  3469	<parameter>  Specifies the number of the PAD parameter to set/display
  3470	<value>      Value that you want to set for the specified PAD parameter
  3471	
  3472	Result Codes     Description
  3473	-----------------------------------------------------------------------------
  3474	ERR              Invalid command format
  3475	<parameter>:INV  Invalid parameter or value
  3476	
  3477	For example, issuing SET 2:1 <CR> sets PAD parameter 2 to a value of 1.
  3478	
  3479	To display the setting, type: SET? 2:1 <CR>. The new parameter setting will be 
  3480	displayed: PAR 2:1
  3481	
  3482	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  3483	2.2.2 PAD Parameters
  3484	PAD parameters are used to control the display and transmission of data over 
  3485	the packet switched network.
  3486	
  3487	Parameters are of two types: PAD Parameters and National Parameters. Twenty-
  3488	two PAD parameters (1-22) and an additional set of "National Parameters" offer 
  3489	configuration options. National Parameters (numbers starting at 70) are used 
  3490	to support and control the enhanced functionality provided by the Hayes X.25 
  3491	feature. All parameters are set and read the same way.
  3492	
  3493	Values for some parameters are calculated by adding the bit values of the 
  3494	options you want active. For example, in PAD parameter 3, if you want the 
  3495	character set to include A-Z, a-z, 0-9 (bit value=1) and CR (bit value=2), you 
  3496	would set the PAD parameter 3 to 3.
  3497	
  3498	A marker (0:0), called a "National Marker," is used to separate the National 
  3499	PAD Parameters from the PAD parameters. For example, in the PAD command: SET 
  3500	1:1, 2:0, 0:0, 70:1, the characters to the right of the marker refer to 
  3501	National PAD parameters. Characters to the left of the National marker refer 
  3502	to PAD parameters.
  3503	
  3504	Parameter 1 - PAD Recall Using a Character
  3505	PAD recall defines the character that will force the PAD to escape from the 
  3506	PAD on-line state and return to the PAD command state. When the PAD receives 
  3507	this character, the PAD prompt (- or *) is displayed on the user's terminal 
  3508	monitor. 
  3509	
  3510	Values  Description
  3511	-----------------------------------------------------------------------------
  3512	0       PAD cannot be recalled using a character (factory setting)
  3513	32-126  ASCII graphic character
  3514	
  3515	To send the PAD recall character as data, enter it twice. The PAD will remain 
  3516	in the on-line state.
  3517	
  3518	Parameter 2 - Echo
  3519	When parameter 2 is set, all characters received from the terminal are echoed, 
  3520	excluding those specified by parameter 20 (echo mask), parameter 5 (ancillary 
  3521	device control), parameter 12 (flow control of the PAD by the terminal) and 
  3522	parameter 22 (page wait). Setting parameters 12 or 22 to non-zero values 
  3523	causes the echo of characters DC1 and DC3 (XON and XOFF) to be suppressed, 
  3524	even if parameter 2 is set to value 1.
  3525	
  3526	Values   Description
  3527	------------------------------------
  3528	0        No echo (factory setting)
  3529	1        Echo 
  3530	
  3531	Parameter 3 - Selection of Data Forwarding Signal
  3532	The value of parameter 3 is bit-mapped; the binary bit values represent the 
  3533	character sets listed below. If the character(s) set by the combination of 
  3534	binary bit values of this parameter is received from your terminal, the 
  3535	current packet (including this character) is forwarded.
  3536	
  3537	Values  Description
  3538	---------------------------------------------------
  3539	0-127   sum of bits for selected characters
  3540	0       No data forwarding signal (factory setting)
  3541	
  3542	Bit Value  Description
  3543	-----------------------------------------------------------------------------
  3544	1          A-Z, a-z, 0-9
  3545	2          CR
  3546	4          ESC, BEL, ENQ, ACK
  3547	8          DEL, CAN, DC2
  3548	16         ETX, EOT
  3549	32         HT, LF, VT, FF
  3550	64         NUL, SOH, STX, BS, SO, SI, DLE, DC1, DC3, DC4, NAK, 
  3551	           SYN, ETB, EM, SUB, FS, GS, RS, US, DEL
  3552	
  3553	Parameter 4 - Selection of Idle Timer Delay
  3554	In addition to character forwarding, this parameter provides the capability to 
  3555	forward data to the host based on an idle time. If data is in the buffer and 
  3556	no additional characters have been received for the specified period, the 
  3557	buffer contents are sent to the host. Parameter 4 is ignored if National 
  3558	Parameter 70 (streaming data forwarding) is set to 1, or if parameter 15 is 
  3559	set to 1.
  3560	
  3561	Values   Description
  3562	-----------------------------------------------------------------------------
  3563	0        No data forwarding on timeout
  3564	1 - 255  Data forwarding on timeout of <value> multiplied by 0.05 seconds
  3565	50       50 msec. timeout (factory setting)
  3566	
  3567	Parameter 5 - Ancillary Device Control
  3568	This parameter specifies whether or not the PAD transmits XON-XOFF characters 
  3569	to the DTE. If flow control is disabled, the user must be careful not to 
  3570	overflow the PAD's buffer in order to prevent data loss. Local flow control is 
  3571	also enabled by the &K command.
  3572	
  3573	Values  Description
  3574	-----------------------------------------------------------------------------
  3575	0       No XON/ XOFF flow control (factory setting)
  3576	1       XON/XOFF flow control in data transfer state
  3577	2       XON/XOFF flow control in both data transfer and PAD command states
  3578	
  3579	Parameter 6 - Control of PAD Result Codes
  3580	Parameter 6 controls how PAD result codes (those generated by the PAD) are to 
  3581	be transmitted to your terminal.
  3582	
  3583	Values  Description
  3584	-----------------------------------------------------------------------------
  3585	0       No PAD result codes are sent to your terminal
  3586	1       PAD result codes are sent in their standard formats. The prompt 
  3587	        PAD result code is not sent
  3588	4       Only the prompt PAD result code is sent
  3589	5       All PAD result codes, including the prompt PAD result code, are 
  3590	        sent in the standard format (factory setting)
  3591	
  3592	Parameter 7 - Action on Receipt of Break from Terminal
  3593	Parameter 7 is bit-mapped; binary bit values represent the following actions 
  3594	when the break signal is received by the PAD.
  3595	
  3596	Values            0-31
  3597	Factory Setting:  5 (send interrupt and indication of break)
  3598	
  3599	Bit Values  Description
  3600	-----------------------------------------------------------------------------
  3601	1           Send an X.25 interrupt packet to the remote system
  3602	2           Send an X.25 reset packet to the remote system
  3603	4           Send an X.25 indication of break packet to the remote system
  3604	8           Escape from the data transfer state to the PAD command state
  3605	16          Set PAD parameter 8 to 1 (discard output)
  3606	
  3607	Note: If bit 2 of S53 is set, escape from the data transfer state using the 
  3608	break signal is not possible.
  3609	
  3610	Parameter 8 - Discard Output
  3611	This parameter is set if the user wishes to abort a process running on the 
  3612	remote system by pressing the break key. When the break key is used, incoming 
  3613	data is discarded until the remote system reacts to the break signal, and sets 
  3614	parameter 8 back to 0. 
  3615	
  3616	Values  Description
  3617	-----------------------------------------------------------------------------
  3618	0       Normal data delivery to your terminal (factory setting)
  3619	1       Discard output destined to your terminal
  3620	
  3621	Note: Parameter 8 cannot be set using the SET command; only the remote PAD can 
  3622	set it.
  3623	
  3624	Parameter 9 - Padding after Carriage Return
  3625	Parameter 9 specifies the number of ASCII NUL characters to transmit after a 
  3626	carriage return. This may be necessary to allow time for mechanical devices to 
  3627	return to a home position after a carriage return has been sent.
  3628	
  3629	Values  Description
  3630	-----------------------------------------------------------------------------
  3631	0       No padding characters sent after carriage return (factory setting)
  3632	1       Number of padding characters (NUL) sent after carriage return
  3633	
  3634	Parameter 10 - Line Folding
  3635	This parameter specifies line length. When the specified number of displayable 
  3636	characters have been sent to the terminal, a carriage return/line feed 
  3637	sequence is transmitted. Normally, this function is disabled.
  3638	
  3639	Values   Description
  3640	-----------------------------------------------------------------------------
  3641	0        No line folding (factory setting)
  3642	1 -255   Number of graphic characters per line sent by the PAD before a CR/LF 
  3643	         is inserted. Special cases include the backspace character which 
  3644	         decreases the count of graphic characters, and HT that follows the 
  3645	         convention of tab stops every eighth column for display terminals, if 
  3646	         parameter 19 = 2
  3647	
  3648	Parameter 11 - Terminal Speed
  3649	This parameter reflects the current speed of the DTE. It is automatically set 
  3650	by the PAD using the last AT command and may not be updated by the user or 
  3651	remote system (read only).
  3652	
  3653	Values  READ ONLY; no factory setting
  3654	
  3655	Value   Bit Rate
  3656	----------------------------
  3657	0       110 bps
  3658	2       300 bps
  3659	3       1200 bps
  3660	4       600 bps
  3661	5       75 bps
  3662	12      2400 bps
  3663	13      4800 bps
  3664	14      7200 or 9600 bps
  3665	15      14400 or 19200 bps
  3666	16      38400 bps
  3667	
  3668	Parameter 12 - Flow Control of the PAD by Local Terminal
  3669	Parameter 12 determines whether or not the PAD recognizes flow control 
  3670	characters issued from the DTE. If the DTE transmits an XOFF (Ctrl-S), no 
  3671	further data is delivered to the DTE until the PAD receives an XON (Ctrl-Q). 
  3672	Flow control is also enabled by the &K command.
  3673	
  3674	Values  Description
  3675	-----------------------------------------------------------------------------
  3676	0       No XON / XOFF flow control (factory setting)
  3677	1       Use of XON / XOFF flow control
  3678	
  3679	Parameter 13 - Line Feed Insertion after Carriage Return
  3680	This parameter specifies whether or not the PAD will insert a line feed 
  3681	character after carriage returns. This function applies only in the PAD on-
  3682	line state.  
  3683	
  3684	Values  Description
  3685	-----------------------------------------------------------------------------
  3686	0     No line feed inserted (factory setting)
  3687	1     Insert line feed after carriage return in the incoming data stream
  3688	2     Insert line feed after carriage return in the outgoing data stream
  3689	3     Insert line feed after carriage return in the data stream
  3690	4     Insert line feed after echo of carriage return
  3691	5     Insert line feed after carriage return in incoming data stream and
  3692	      also after carriage return echo
  3693	6     Insert line feed after carriage return in the outgoing data stream and 
  3694	      also after carriage return echo; if editing enabled (parameter 15=1), 
  3695	      insert line feed in the next editing buffer and make available for 
  3696	      editing
  3697	7     Insert line feed after carriage return in the incoming and the outgoing 
  3698	      data stream, also after carriage return echo; if editing is enabled 
  3699	      (parameter 15=1), insert line feed in the next editing buffer and make 
  3700	      available for editing
  3701	
  3702	Parameter 14 - Line Feed Padding
  3703	In the on-line data transfer state only, parameter 14 specifies the number of 
  3704	ASCII NUL characters to transmit after a LINE FEED. This parameter is required 
  3705	by some devices to allow sufficient time to move the platen after receiving a 
  3706	line feed character.
  3707	
  3708	Values  Description
  3709	-----------------------------------------------------------------------------
  3710	0       No padding after line feed (factory setting)
  3711	1-255   Number of padding characters inserted after line feed
  3712	
  3713	Parameter 15 - Editing
  3714	Parameter 15 specifies whether or not editing is used in the PAD on-line 
  3715	state. Parameters 16, 17, 18, and 19 describe the available editing functions. 
  3716	If editing is enabled, parameter 4 (forward timing) and National Parameter 70 
  3717	are ignored.
  3718	
  3719	Values  Description
  3720	-----------------------------------------------------------------------------
  3721	0       Editing disabled (factory setting)
  3722	1       Editing enabled. Data forwarding is suspended until the editing buffer 
  3723	        is full, or until the character defined by parameter 3 is received
  3724	
  3725	Whenever more data is received than can be held by the editing buffer, one 
  3726	full packet will be forwarded. The remaining characters are placed in the 
  3727	beginning of the editing buffer, and can still be edited.
  3728	
  3729	Parameter 16 - Character Delete
  3730	The defined delete character deletes the last character in the editing buffer. 
  3731	After deleting the character, the PAD sends either a backslash (\) or <BS> 
  3732	<SP> <BS> to the DTE (depending on the setting of parameter 19. If the editing 
  3733	buffer is empty, then no response is sent.
  3734	
  3735	Values  Description
  3736	-----------------------------------------------------------------------------
  3737	0-127   Selects which ASCII value functions as the delete character
  3738	8       Backspace character (factory setting)
  3739	
  3740	Parameter 17 - Line Delete
  3741	This parameter defines the line delete function. When the line delete 
  3742	character is entered, the contents of the editing buffer are deleted. Unless 
  3743	the editing buffer is empty, the PAD sends a result code (XXX for printing 
  3744	terminals) to acknowledge the line delete function.
  3745	
  3746	Values  Description
  3747	-----------------------------------------------------------------------------
  3748	0-127   ASCII value for delete character
  3749	24      Control-X (factory setting)
  3750	
  3751	Parameter 18 - Line Display
  3752	This parameter defines the line display function. If the user enters the 
  3753	character specified by this parameter and editing is enabled, the contents of 
  3754	the editing buffer will be displayed. 
  3755	
  3756	Values  Description
  3757	-----------------------------------------------------------------------------
  3758	0       Line display disabled
  3759	1-127   ASCII value of line display character
  3760	18      Control-R (factory setting)
  3761	
  3762	Parameter 19 - Editing PAD result codes
  3763	Parameter 19 provides the PAD information about the attached DTE (terminal or 
  3764	printer). This ensures that the PAD sends the proper editing character 
  3765	sequences. For example, on a printer, the character delete function simply 
  3766	prints a backslash (\) for each printable character that is deleted, while a 
  3767	terminal is sent a BS-SP-BS sequence to backspace the cursor and erase the 
  3768	deleted character from the screen.
  3769	
  3770	The PAD uses editing PAD result codes for display terminals regardless of the 
  3771	value of parameter 19 when bit 2 of S53 is set.
  3772	
  3773	Values     Description
  3774	-----------------------------------------------------------------------------
  3775	0          Editing PAD result codes function disabled
  3776	1          Editing PAD result codes for printers
  3777	2          Editing PAD result codes for computers (factory setting)
  3778	8, 32-126  Editing PAD result codes using the character represented by the 
  3779	           ASCII value
  3780	
  3781	Parameter 20 - Echo Mask
  3782	Parameter 20 is bit-mapped and defines the set of characters that are to be 
  3783	excluded from the echo function. Characters specified by bit value 64 are 
  3784	masked only when editing is active.
  3785	
  3786	Values  Description
  3787	-----------------------------------------------------------------------------
  3788	64      all characters, except editing characters, are echoed 
  3789	        (factory setting)
  3790	0-255   sum of bits selecting characters to be echoed
  3791	
  3792	Bit Values  Description
  3793	-----------------------------------------------------------------------------
  3794	1           CR
  3795	2           LF
  3796	4           VT, HT, FF
  3797	8           BEL, BS
  3798	16          ESC, ENQ
  3799	32          ACK, NAK, STX, SOH, EOT, ETB, ETX
  3800	64          Parameters 16, 17, 18 (editing characters)
  3801	128         NUL, SO, SI, DLE, DC1, DC2, DC3, DC4, SYN, CAN, EM, SUB, FS, GS, 
  3802	            RS, US
  3803	
  3804	Parameter 21 - Parity Treatment
  3805	This parameter controls the parity and character format used by the terminal. 
  3806	
  3807	Values  Description
  3808	-----------------------------------------------------------------------------
  3809	0       No parity checking or generation (factory setting)
  3810	2       Parity is applied to data sent to the terminal according to the parity 
  3811	        specified by National parameter 71
  3812	
  3813	Parameter 22 - Page Wait
  3814	Parameter 22 defines the number of lines (text separated by line feeds) that 
  3815	are displayed before "PAGE" is displayed. No further data is transmitted to 
  3816	the terminal until the user sends an XON character, sets parameter 22 to zero, 
  3817	or escapes from the data transfer state (PAD recall).
  3818	
  3819	Values  Description
  3820	-----------------------------------------------------------------------------
  3821	0       Page wait disabled (factory setting)
  3822	1-255   Number of line feed characters sent to the terminal before the page 
  3823	        wait condition
  3824	
  3825	National Parameter 70 - Streaming Data Forwarding
  3826	National Parameter 70 affects PAD data forwarding timing. When set to value 0, 
  3827	the data forwarding timing is controlled by PAD parameter 4. When set to value 
  3828	1, "streaming mode" is set. This parameter, among others, may be set to 
  3829	configure a "streaming mode PAD" identical to that used in Error-Control/LAP-B 
  3830	connections.
  3831	
  3832	In streaming mode, a character received by the PAD is placed in a packet 
  3833	immediately, instead of being buffered until a timeout occurs. For example, 
  3834	assuming the modem transmitter is idle, a character received by the PAD is 
  3835	forwarded immediately. This packet remains "open" in case another character is 
  3836	received by the PAD. The additional character can be added while the packet is 
  3837	actually transmitting. 
  3838	
  3839	The result is "instantaneous" forwarding, which generally results in the best 
  3840	interactive performance. This may cause more packet traffic. This is no 
  3841	problem in point-to-point connections, but may be of some concern for networks 
  3842	that charge by the packet.
  3843	
  3844	Values  Description
  3845	-----------------------------------------------------------------------------
  3846	0       PAD Parameter 4 controls data forwarding timeout (factory setting)
  3847	1       Streaming data forwarding timeout
  3848	
  3849	National Parameter 71 - Character Format
  3850	This parameter specifies the character format (number of data bits and parity) 
  3851	required by the network for the PAD, and is used to generate the proper parity 
  3852	on all PAD result codes and data delivered to the terminal. 
  3853	
  3854	Individual networks specify particular settings for this parameter. Parameter 
  3855	71 also determines whether or not all 8 data bits or only 7 data bits are 
  3856	examined when testing characters for specific values (e.g., for CR or XOFF).
  3857	
  3858	Values  Description
  3859	-----------------------------------------------------------------------------
  3860	0       Format/parity used on last AT command (factory setting)
  3861	1       8 data bits, no parity
  3862	2       7 data bits, odd parity
  3863	3       7 data bits, even parity
  3864	4       7 data bits, mark parity
  3865	5       7 data bits, space parity
  3866	
  3867	National Parameter 72 - Break Signal Timing
  3868	National Parameter 72 is used to control whether or not break timing 
  3869	information via National Parameter 73 is sent with the indication of break PAD 
  3870	message. 
  3871	
  3872	In most PADs, when a break signal is received from the terminal, the PAD sends 
  3873	an X.25 interrupt packet, followed by an indication of break PAD message. The 
  3874	remote PAD will usually ignore the interrupt packet, and will transmit a break 
  3875	signal to the remote system when the indication of break PAD message is 
  3876	received. 
  3877	
  3878	The duration of the break signal is normally fixed. National Parameter 73 
  3879	specifies the duration of the break signal transmitted by the PAD. If National 
  3880	Parameter 72 is set to value 0, the indication of break PAD message is sent 
  3881	normally, and will be compatible with all networks.
  3882	
  3883	If National Parameter 72 is set to value 1, break timing information is sent 
  3884	along with the indication of break PAD message, by adding a parameter/value 
  3885	field to the indication of break PAD message. This sets the remote PAD's 
  3886	National Parameter 73 to a value that corresponds to the length of break as 
  3887	timed by the local PAD, so the break signal transmitted by the local PAD is 
  3888	very close to the length of the break signal received by the remote PAD.
  3889	
  3890	Setting National Parameter 72 to value 1 could possibly confuse some networks, 
  3891	and should be used only in cases where you know that the remote PAD supports 
  3892	National Parameter 73.
  3893	
  3894	Values  Description
  3895	-----------------------------------------------------------------------------
  3896	0       No break timing information sent with signal (factory setting)
  3897	1       Break timing information is sent with the break signal
  3898	
  3899	National Parameter 73 - Break Signal Duration
  3900	This parameter is used to set the duration of a break signal transmitted by 
  3901	the PAD in increments of 10 milliseconds. The factory setting is 18 (180 
  3902	msec.). National Parameter 73 is usually set by the remote PAD, if the remote 
  3903	PAD supports National Parameter 72. 
  3904	
  3905	Values:           0-255
  3906	----------------------------------
  3907	Factory Setting:  18 (180 msec)
  3908	
  3909	National Parameter 74 - Disable PAD Parameter Setting by the Remote PAD
  3910	The remote system may try to re-configure the parameter settings of the local 
  3911	PAD (capability also available to the local modem user with the RSET command) 
  3912	to facilitate communications. However, doing this may not be the best 
  3913	configuration for your terminal. Register S57 allows you to disable the remote 
  3914	PAD's ability to change your PAD parameter settings.
  3915	
  3916	Values  Description
  3917	-----------------------------------------------------------------------------
  3918	0       Remote PAD can reset your PAD parameters (factory setting)
  3919	1       All set or set and read PAD messages return the INV result code to 
  3920	        the remote system indicating that the parameter value cannot be 
  3921	        altered from the current setting.
  3922	
  3923	National Parameter 100 - Default Maximum Packet Size
  3924	This parameter sets the default maximum packet size according to the following 
  3925	parameter value-to-packet size (in bytes) conversions:
  3926	
  3927	Values  Description
  3928	------------------------------------
  3929	4       16 bytes
  3930	5       32 bytes
  3931	6       64 bytes
  3932	7       128 bytes (factory setting)
  3933	8       256 bytes
  3934	9       512 bytes
  3935	
  3936	National Parameter 101 - Default Maximum Window Size
  3937	This parameter sets the default maximum window size.
  3938	
  3939	Values:           2-7
  3940	Factory Setting:  2
  3941	
  3942	National Parameter 102 - Call Request Response Timer
  3943	This parameter sets the maximum amount of time the transmitter should wait for 
  3944	acknowledgment to a call request packet before initiating recovery procedure, 
  3945	in 10-second increments.
  3946	
  3947	Values:           1-255
  3948	Factory Setting:  20 (200 seconds)
  3949	
  3950	National Parameter 103 - Reset Request Response Timer
  3951	This parameter sets the maximum amount of time the transmitter should wait for 
  3952	acknowledgment to a reset request packet before initiating recovery procedure, 
  3953	in 10-second increments.
  3954	
  3955	Values:           1-255
  3956	Factory Setting:  18 (180 seconds)
  3957	
  3958	National Parameter 104 - Clear Request Response Timer
  3959	This parameter sets the maximum amount of time the transmitter should wait for 
  3960	acknowledgment to a clear request packet before initiating recovery procedure, 
  3961	in 10-second increments.
  3962	
  3963	Values:           1-255
  3964	Factory Setting:  18 (180 seconds)
  3965	
  3966	National Parameter 105 - Interrupt Response Time
  3967	This parameter sets the maximum amount of time the transmitter should wait for 
  3968	acknowledgment to an interrupt packet before initiating recovery procedure, in 
  3969	10-second increments.
  3970	
  3971	Values:           1-255
  3972	Factory Setting:  18 (180 seconds)
  3973	
  3974	National Parameter 106 - Reset Request Retransmission Counter
  3975	This parameter defines the maximum number of times a reset request packet 
  3976	should be retransmitted.
  3977	
  3978	Values:           0-255
  3979	Factory Setting:  1 retransmission
  3980	
  3981	National Parameter 107 - Clear Request Retransmission Counter
  3982	This parameter defines the maximum number of times a clear request packet 
  3983	should be retransmitted. 
  3984	
  3985	Values:           0-255
  3986	Factory Setting:  1 retransmission
  3987	
  3988	National Parameter 108 - Channel Allocation Parameter
  3989	This parameter is used to inform the PAD how the application software or user 
  3990	intends to use the current PAD channel. There are four possible settings.
  3991	
  3992	Values  Description
  3993	-----------------------------------------------------------------------------
  3994	0       Unavailable - the PAD channel will not be used; outgoing calls are not 
  3995	        allowed, and incoming calls will be directed to incoming or free 
  3996	        channels, or cleared
  3997	1       Outgoing - the PAD channel will be used for an outgoing call; incoming 
  3998	        calls will be directed to incoming or free channels, or cleared
  3999	2       Incoming - the PAD channel will be used for an incoming call; outgoing 
  4000	        calls are not allowed; the PAD will assign an incoming call to PAD 
  4001	        channels assigned as incoming before those assigned as bi-directional
  4002	3       Bi-directional - the PAD channel can be used for incoming or outgoing 
  4003	        calls; incoming calls will be directed to free channels if no incoming 
  4004	        channels are available (factory setting) 
  4005	
  4006	
  4007	*****************************************************************************
  4008	2.3  PAD Profiles
  4009	For many X.25 connections, the PAD can be used without any changes to its 
  4010	factory configuration. For information on creating, saving, and recalling PAD 
  4011	profiles, see the PROF command. The four standard profiles are listed below.
  4012	
  4013	Factory-Set Profile
  4014	
  4015	PAD   Values       Description                         Default
  4016	Param.
  4017	-----------------------------------------------------------------------------
  4018	1     0-126        PAD recall using a character        0 (disabled)
  4019	2     0,1          Echo                                0 (disabled)
  4020	3     0-127        Selection of data forwarding signal 0 (disabled)
  4021	4     0-255        Selection of idle timer delay       1 (50 msec timeout)
  4022	5     0,1,2        Ancillary device control            0 (XON/XOFF disabled)
  4023	6     0,1,4,5      Control of PAD result codes         5 (standard PAD result) 
  4024	7     1,2,4,8,16   Response to break from terminal     l5 (send interrupt and 
  4025	                                                       break indication)
  4026	8     0,1          Discard output                      0 (normal delivery)
  4027	9     0-255        Padding after carriage return       0 (disabled)
  4028	10    0-255        Line folding                        0 (disabled)
  4029	11    0,2-5,12-16  Terminal speed                      (speed of terminal 
  4030	                                                       indicated)
  4031	12    0,1          Flow control of PAD by terminal     0 (XON/XOFF disabled)
  4032	13    0-7          Linefeed insertion after CR         0 (disabled)
  4033	14    0-255        Linefeed padding                    0 (disabled)
  4034	15    0,1          Editing                             0 (disabled)
  4035	16    0-127        Character delete                    8 (BS)
  4036	17    0-127        Line delete                         24 (CAN, ^X)
  4037	18    0-127        Line display                        18 (DC2, ^R)
  4038	19    0,1,2,8,     
  4039	      32-126       Editing PAD result codes            2 (display terminals)
  4040	20    0-255        Echo mask                           64 (echo all characters 
  4041	                                                       except editing 
  4042	                                                       characters)
  4043	21    0,2          Parity treatment                    0 (disabled)
  4044	22    0-255        Page wait                           0 (disabled)
  4045	70*   0,1          Streaming data forwarding           0 (disabled)
  4046	71*   0,5          Character format                    0 (set by AT autobaud)
  4047	72*   0,1          Break signal timing                 0 (disabled)
  4048	73*   0-255        Break signal duration               18 (180 msec)
  4049	74*   0,1          Disable PAD parameter settings by   0 (parameters set 
  4050	                   remote PAD                          by remote PAD)
  4051	100*  4-9          Default packet size                 7 (128 bytes)
  4052	101*  2-7          Default window size                 2 (2 outstanding
  4053	                                                       packets)
  4054	102*  1-255        T21 call request response timer    20 (200 seconds)
  4055	103*  1-255        T22 reset request response timer   18 (180 seconds)
  4056	104*  1-255        T23 clear request response timer   18 (180 seconds)
  4057	105*  1-255        T26 interrupt response timer       18 (180 seconds)
  4058	106*  0-255        R22 reset request retransmission   1 retransmission
  4059	107*  0-255        R23 clear request retransmission   1 retransmission
  4060	108*  0-3          Channel allocation parameter       3 (normal channel
  4061	                                                      allocation)
  4062	
  4063	*National Parameters
  4064	
  4065	CCITT Simple Standard Profile
  4066	
  4067	PAD   Values       Description                       Default
  4068	Param.
  4069	-----------------------------------------------------------------------------
  4070	1     0-126        PAD recall using a character      1 (DLE character)
  4071	2     0,1          Echo                              1 (echo on)
  4072	3     0-127        Selection of data forwarding      126 (forward on control 
  4073	                                                     signal characters 
  4074	                                                     and DEL)
  4075	4     0-255        Selection of idle timer delay     0 (no timeout)
  4076	5     0,1,2        Ancillary device control          1 (XON/XOFF enabled)
  4077	6     0,1,4,5      Control of PAD result codes       1 (standard PAD result 
  4078	                                                     codes enabled, no prompt) 
  4079	7     1,2,4,8,16   Response to break from terminal   2 (send reset packet)
  4080	8     0,1          Discard output                    0 (normal delivery)
  4081	9     0-255        Padding after carriage return     0 (disabled)
  4082	10    0-255        Line folding                      0 (disabled)
  4083	11    0,2-5,12-16  Terminal speed                    (speed of terminal 
  4084	                                                     indicated)
  4085	12    0,1          Flow control of PAD by terminal   1 (XON/XOFF disabled)
  4086	13    0-7          Linefeed insertion after CR       0 (disabled)
  4087	14    0-255        Linefeed padding                  0 (disabled)
  4088	15    0,1          Editing                           0 (disabled)
  4089	16    0-127        Character delete                  127 (DEL character)
  4090	17    0-127        Line delete                       24 (CAN, ^X)
  4091	18    0-127        Line display                      18 (DC2, ^R)
  4092	19    0,1,2,8,     
  4093	      32-126       Editing PAD result codes          1 (printing terminals)
  4094	20    0-255        Echo mask                         0 (echo all characters)
  4095	21    0,2          Parity treatment                  0 (disabled)
  4096	22    0-255        Page wait                         0 (disabled)
  4097	70*   0,1          Streaming data forwarding         0 (disabled)
  4098	71*   0,5          Character format                  0 (set by AT autobaud)
  4099	72*   0,1          Break signal timing               0 (disabled)
  4100	73*   0-255        Break signal duration             18 (180 msec.)
  4101	74*   0,1          Disable PAD parameter settings    0 (parameters set by by 
  4102	                   remote PAD                        remote PAD)
  4103	100*  4-9          Default packet size               7 (128 bytes)
  4104	101*  2-7          Default window size               2 (2 outstanding packets)
  4105	102*  1-255        T21 call request response timer   20 (200 seconds)
  4106	103*  1-255        T22 reset request response timer  18 (180 seconds)
  4107	104*  1-255        T23 clear request response timer  18 (180 seconds)
  4108	105*  1-255        T26 interrupt response timer      18 (180 seconds)
  4109	106*  0-255        R22 reset request retransmission  1 retransmission
  4110	107*  0-255        R23 clear request retransmission  1 retransmission
  4111	108*  0-3          Channel allocation parameter      3 (normal channel 
  4112	                                                     allocation)
  4113	*National Parameters
  4114	
  4115	
  4116	CCITT Transparent Standard Profile
  4117	
  4118	PAD   Values       Description                          Default
  4119	Param.
  4120	-----------------------------------------------------------------------------
  4121	1     0-126        PAD recall using a character         0 (disabled)
  4122	2     0,1          Echo                                 0 (disabled)
  4123	3     0-127        Selection of data forwarding signal  0 (disabled)
  4124	4     0-255        Selection of idle timer delay        20 (1 sec.timeout)
  4125	5     0,1,2        Ancillary device control             0 (XON/XOFF disabled)
  4126	6     0,1,4,5      Control of PAD result codes          0 (disabled)
  4127	7     1,2,4,8,16   Response to break from terminal      2 (send reset packet)
  4128	8     0,1          Discard output                       0 (normal delivery)
  4129	9     0-255        Padding after carriage return        0 (disabled)
  4130	10    0-255        Line folding                         0 (disabled)
  4131	11    0,2-5,12-16  Terminal speed                       (speed of terminal
  4132	                                                        indicated)
  4133	12    0,1          Flow control of PAD by terminal      0 (XON/XOFF disabled)
  4134	13    0-7          Linefeed insertion after CR          0 (disabled)
  4135	14    0-255        Linefeed padding                     0 (disabled)
  4136	15    0,1          Editing                              0 (disabled)
  4137	16    0-127        Character delete                     127 (DEL)
  4138	17    0-127        Line delete                          24 (CAN, ^X)
  4139	18    0-127        Line display                         18 (DC2, ^R)
  4140	19    0,1,2,8,     
  4141	      32-126       Editing PAD result codes             1 (printing terminals)
  4142	20    0-255        Echo mask                            0 (echo all
  4143	                                                        characters)
  4144	21    0,2          Parity treatment                     0 (disabled)
  4145	22    0-255        Page wait                            0 (disabled)
  4146	70*   0,1          Streaming data forwarding            0 (disabled)
  4147	71*   0,5          Character format                     0 (set by AT autobaud)
  4148	72*   0,1          Break signal timing                  0 (disabled)
  4149	73*   0-255        Break signal duration                18 (180 msec.)
  4150	74*   0,1          Disable PAD parameter settings       0 (parameters set
  4151	                   by remote PAD                        by remote PAD)
  4152	100*  4-9          Default packet size                  7 (128 bytes)
  4153	101*  2-7          Default window size                  2 (2 outstanding
  4154	                                                        packets)
  4155	102*  1-255        T21 call request response timer      20 (200 seconds)
  4156	103*  1-255        T22 reset request response timer     18 (180 seconds)
  4157	104*  1-255        T23 clear request response timer     18 (180 seconds)
  4158	105*  1-255        T26 interrupt response timer         18 (180 seconds)
  4159	106*  0-255        R22 reset request retransmission     1 retransmission
  4160	107*  0-255        R23 clear request retransmission     1 retransmission
  4161	108*  0-3          Channel allocation parameter         3 (normal channel
  4162	                                                        allocation)
  4163	*National Parameters
  4164	
  4165	
  4166	Error-Control/LAP-B Profile
  4167	
  4168	PAD   Values       Description                          Default
  4169	Param.
  4170	-----------------------------------------------------------------------------
  4171	1     0-126        PAD recall using a character         0 (disabled)
  4172	2     0,1          Echo                                 0 (disabled)
  4173	3     0-127        Selection of data forwarding signal  0 (disabled)
  4174	4     0-255        Selection of idle timer delay        0 (no timeout)
  4175	5     0,1,2        Ancillary device control             0 (XON/XOFF disabled)
  4176	6     0,1,4,5      Control of PAD result codes          0 (no PAD result
  4177	                                                        codes)
  4178	7     1,2,4,8,16   Response to break from terminal      5 (send interrupt and
  4179	                                                        break indication)
  4180	8     0,1          Discard output                       0 (normal delivery)
  4181	9     0-255        Padding after carriage return        0 (disabled)
  4182	10    0-255        Line folding                         0 (disabled)
  4183	11    0,2-5,12-16  Terminal speed                       Ð (speed of terminal
  4184	                                                        indicated)
  4185	12    0,1          Flow control of PAD by terminal      0 (XON/XOFF disabled)
  4186	13    0-7          Linefeed insertion after CR          0 (disabled)
  4187	14    0-255        Linefeed padding                     0 (disabled)
  4188	15    0,1          Editing                              0 (disabled)
  4189	16    0-127        Character delete                     8 (BS)
  4190	17    0-127        Line delete                          24 (CAN, ^X)
  4191	18    0-127        Line display                         18 (DC2, ^R)
  4192	19    0,1,2,8,
  4193	      32-126       Editing PAD result codes             2 (display terminals)
  4194	20    0-255        Echo mask                            64 (echo all
  4195	                                                        characters except
  4196	                                                        editing characters)
  4197	21    0,2          Parity treatment                     0 (disabled)
  4198	22    0-255        Page wait                            0 (disabled)
  4199	70*   0,1          Streaming data forwarding            1 (streaming mode
  4200	                                                        selected)
  4201	71*   0,5          Character format                     0 (set by AT autobaud)
  4202	72*   0,1          Break signal timing                  1 (time break signal)
  4203	73*   0-255        Break signal duration                18 (180 msec)
  4204	74*   0,1          Disable PAD parameter settings       0 (parameters set
  4205	                   by remote PAD                        by remote PAD)
  4206	100*  4-9          Default packet size                  7 (128 bytes)
  4207	101*  2-7          Default window size                  2 (2 outstanding 
  4208	                                                        packets)
  4209	102*  1-255        T21 call request response timer      20 (200 seconds)
  4210	103*  1-255        T22 reset request response timer     18 (180 seconds)
  4211	104*  1-255        T23 clear request response timer     18 (180 seconds)
  4212	105*  1-255        T26 interrupt response timer         18 (180 seconds)
  4213	106*  0-255        R22 reset request retransmission     1 retransmission
  4214	107*  0-255        R23 clear request retransmission     1 retransmission
  4215	108*  0-3          Channel allocation parameter         3 (normal channel
  4216	                                                        allocation)
  4217	*National Parameters
  4218	
  4219	
  4220	*****************************************************************************
  4221	2.4 Typical X.25 Scenarios 
  4222	The examples below provide scenarios of typical activities you might perform 
  4223	and/or experience with X.25 connections. Each one provides the "Activity," a 
  4224	reference to a command description within this document for further 
  4225	discussion, the "Result" of the "Activity," and an "Example Log-on" when 
  4226	applicable. These examples may be helpful as reference when you are writing 
  4227	sequences for users, or when developing software.
  4228	
  4229	Synopsis of a Communication Session with a Packet Switched Network
  4230	The events in a typical X.25 communication session are detailed below.
  4231	
  4232	Establishing a Network Connection...
  4233	X.25 connections begin the same as point-to-point connections - with a modem 
  4234	call to a remote system. Once connected to the network, however, you use the 
  4235	PAD to make one or more virtual connections to other nodes on the network.
  4236	
  4237	Making a Virtual Connection...
  4238	The following procedure explains the steps for the major activities in X.25 
  4239	communications.
  4240	
  4241	Step 1: Configuring the modem for X.25.
  4242	Before placing a call to the network, you must configure the modem to make an 
  4243	X.25 connection. First, enter the modem's command state 
  4244	
  4245	Issue AT&Q5S44=3S46=6S48=0 <CR>. This command string verifies that the modem 
  4246	is in the error-control mode (&Q5) and sets the values of three S-Registers 
  4247	that control the modem's feature negotiation. S48=0 controls the negotiation 
  4248	process; S46=6 stipulates an X.25 connection. Now, instead of negotiating a 
  4249	V.42 connection, the modem attempts connections using the X.25 protocol.
  4250	
  4251	Step 2: Calling the network.
  4252	Next, dial the number of the network to which you subscribe. This is a 
  4253	standard modem call made with the D command: ATDT9,555-1234 <CR> (for 
  4254	example). If the call is successful, the modem will connect and issue a result 
  4255	code sequence. The carrier and connect messages you receive depend on the 
  4256	connection. If you want to see the extended messages, you must issue the W1 
  4257	command. With this feature enabled, for a 2400 bps connection, the messages 
  4258	will be CARRIER 2400 PROTOCOL: X.25/LAP-B CONNECT 4800. The PAD automatically 
  4259	enters the command state for channel 1.
  4260	
  4261	Step 3: Making a virtual connection to the remote system.
  4262	To establish a virtual call to a user on the network, you must have the 
  4263	network address of the other node to which you wish to connect and any other 
  4264	information required by the network. For example, to connect to a service on 
  4265	the network, you would issue: CALL R-3110 20200202 <CR> - CALL is the command 
  4266	for initiating connections with a remote system. The (R) command permits 
  4267	reverse charging if the user at the other end of the virtual connection 
  4268	requests it. 3110 is a network ID code and 20200202 is the destination 
  4269	address. If the call is accepted by the remote system, the network will return 
  4270	the result code sequence: CON COM: W2:2,P7:7,X0277 COM. The PAD then enters 
  4271	the data transfer state. If the call is not accepted, the network returns a 
  4272	response such as CLR DTE 157 FAC: (followed by network information as 
  4273	alphanumeric characters X000...). The PAD remains in the PAD command state.
  4274	
  4275	Step 4: Performing on-line activities
  4276	Once connected, you can perform desired communications - file transfers, 
  4277	interactive typing, etc.
  4278	
  4279	Step 5: Clearing the call
  4280	When ready to end the session, issue CTRL-P to return to the channel's command 
  4281	state. Then issue CLR <CR>. This clears the current virtual connection. The 
  4282	network responds with CLR CONF FAC: (followed by network information as 
  4283	alphanumeric characters X000...).
  4284	
  4285	Note: All virtual calls should be cleared before returning to the AT command 
  4286	state.
  4287	
  4288	Step 6: Exiting the PAD
  4289	EXIT <CR> - Leaves PAD command state and enters the AT command state.
  4290	
  4291	Step 7: Terminating the network connection
  4292	ATH0 <CR> - Breaks the physical connection to the network node. This action 
  4293	hangs up the telephone, in the same way other communication sessions are 
  4294	terminated.
  4295	
  4296	Establishing a Virtual Connection
  4297	The example log-on and results below illustrate a successful attempt to 
  4298	establish a virtual connection.
  4299	
  4300	Activity:     User dials CompuServe(TM), connects, then issues CALL command to
  4301	              establish a virtual connection. Call is accepted
  4302	Refer to:     CALL command description
  4303	Result:       Call is accepted. Depending on the network requirements, the
  4304	              modem sends back the following:
  4305	              CON <address> <facility_codes> COM <user_data>
  4306	
  4307	              Note: The data in capital letters is sent to you; the data in
  4308	              angle brackets may or may not be sent to you.
  4309	
  4310	Example Log-on:  User calls Telenet(TM) and issues CALL command to go on-line
  4311	                 with CompuServe:
  4312	
  4313	                 Enter    AT&Q5 S44=3 S46=6 S48=0 W1 DT 9,5550123 <CR>
  4314	                 Result   CARRIER 2400 
  4315	                          PROTOCOL: X.25/LAP-B
  4316	                          CONNECT 2400
  4317	
  4318	                 Enter    CALL R-311020200202 <CR>
  4319	                 Result   CON COM: W2:2,P7:7,X 0277 COM
  4320	
  4321	Attempting a Virtual Connection that is not Accepted
  4322	This scenario depicts an unsuccessful attempt at establishing a virtual 
  4323	connection. For various reasons, the connection may not be completed. The 
  4324	reason(s) will be provided in result codes generated by the PAD.
  4325	
  4326	Activity:    User dials packet-switched network, connects, then issues CALL
  4327	             command to establish a virtual connection, but call is not
  4328	             accepted.
  4329	Refer to:    CALL command description.
  4330	Result:      Call is not accepted. Depending on the network requirements,
  4331	             the modem returns the following result codes: 
  4332	             CLR <clear_cause_codes> <diagnostic_codes> <address> 
  4333	             <facility_codes>
  4334	Example Log-on:  User calls Telenet and issues CALL command to go on-line
  4335	                 with CompuServe:
  4336	
  4337	                 Enter   AT&Q5 S44=3 S46=6 S48=0 W1 DT 9,5550123 <CR>
  4338	                 Result  CARRIER 2400 
  4339	                         PROTOCOL: X.25/LAP-B
  4340	                         CONNECT 2400
  4341	
  4342	                 Enter   CALL R-311020200202 <CR>
  4343	                 Result  CLR DTE 157 FAC:
  4344	                         X0000C10400000000C208080000000100000062
  4345	
  4346	Resetting a Virtual Channel
  4347	While on-line to another user on the network, if the escape sequence is used 
  4348	to return to the PAD command state, the channel will be reset.
  4349	
  4350	Activity:    User is connected to an packet-switched network, has established 
  4351	             a virtual connection, then escapes to the PAD command state and 
  4352	             resets the virtual channel
  4353	Refer to:    RESET command description
  4354	Result:      The PAD resets the virtual channel and returns the following 
  4355	             information to the user: 
  4356	             RESET <reset_cause_codes>
  4357	
  4358	Example Log-on:   n/a
  4359	
  4360	
  4361	Resetting a Virtual Channel a by Remote PAD
  4362	As a result of network activity, the remote PAD may reset a virtual channel. 
  4363	If this occurs, data may be lost. The call must also be re-established.
  4364	
  4365	Activity:    User is connected to a packet-switched network, has established a
  4366	             virtual connection, and the network resets the virtual channel
  4367	Refer to:    RESET command description
  4368	Result:      The PAD resets the virtual channel and returns the following 
  4369	             information to the user: 
  4370	             RESET <reset_cause_codes> <diagnostic_codes>
  4371	
  4372	Example Log-on:   n/a
  4373	
  4374	
  4375	Clearing a Virtual Channel
  4376	This scenario is the typical way to end a virtual call following a session. 
  4377	This is also the process to use when other calls are to be maintained.
  4378	
  4379	Activity:    User is connected to a packet-switched network, has established a
  4380	             virtual connection, escapes to PAD command state, and clears the 
  4381	             call.
  4382	Refer to:    CLR command description.
  4383	Result:      The PAD clears the call, sets all PAD parameters back to their
  4384	             values prior to establishing the virtual connection, and returns 
  4385	             the following result codes: 
  4386	             CLR CONF FAC: X 00 00 C1 04 00 00 01 03 C2 08 00 00 00 
  4387	             08 80 00 00 04 
  4388	
  4389	Example Log-on:   User calls Telenet and issues CALL command to go on-line 
  4390	                  with CompuServe:
  4391	
  4392	                  Enter     AT&Q5 S44=3 S46=6 S48=0 W1 DT 9,5550123 <CR>
  4393	                  Result    CARRIER 2400 
  4394	                  PROTOCOL: /X.25
  4395	                  CONNECT 2400
  4396	
  4397	                  Enter     CALL R-311020200202 <CR>
  4398	                  Result    CON W2:2,P7:7,X 0277, COM
  4399	
  4400	                  Enter     User ID: <CR>
  4401	                  Result    *
  4402	
  4403	                  Enter     Ctrl-P to return to the PAD command state 
  4404	                  Result    CLR CONF FAC:
  4405	                            X0000C104000000103C208000000008800000004
  4406	
  4407	Accepting a Request from Remote PAD to Establish Virtual Connection
  4408	A request from a remote PAD to establish a virtual connection will be received 
  4409	when another network user is attempting to make a connection with you. 
  4410	Although the standard response is to accept, be aware that accepting the 
  4411	request, you may be accepting certain network charges other than packet 
  4412	transmission fees.
  4413	
  4414	Activity:    User using modem and receives request from remote unit to 
  4415	             establish a virtual connection
  4416	Refer to:    ACC command description 
  4417	Result:      The remote PAD sends the following result code to the user
  4418	             IC <facility_codes> COM <user_data> 
  4419	
  4420	Example Log-on:   n/a
  4421	
  4422	
  4423	Clear Command Failed
  4424	This scenario describes a request to clear a channel denied by the PAD. This 
  4425	may occur because the modem is transferring data.
  4426	
  4427	Activity:    User is connected to a packet-switched network, has established a 
  4428	             virtual connection, escapes to PAD command state, but call fails 
  4429	             to be cleared
  4430	Refer to:    CLR command description
  4431	Result:      The PAD sends the following result code: CLR FAILED 
  4432	
  4433	Example Log-on:   n/a
  4434	
  4435	
  4436	Link Restart Occurs
  4437	The example result code below indicates that the virtual links have been 
  4438	dropped. The connections must be re-established.
  4439	
  4440	Activity:    A "link restart" is a major error condition in which all  virtual
  4441	             calls are disconnected and the virtual channels return to "start" 
  4442	             mode
  4443	Example:     LINK RESTARTED <restart_cause_codes> 
  4444	
  4445	
  4446	==============================================================================
  4447	Appendix A:
  4448	Communication Options
  4449	This appendix describes the various methods of communication supported by 
  4450	Hayes modems. Set up recommendations for each of these modes are provided. 
  4451	Flow diagrams illustrate the states and conditions through which the modem 
  4452	passes in each mode. Setup examples and environment descriptions are also 
  4453	included.
  4454	
  4455	
  4456	*****************************************************************************
  4457	A.1 Transmission and DTE Types
  4458	Modems communicate over the telephone line by converting data from analog to 
  4459	digital form and vice versa. The techniques used are fundamentally the same 
  4460	whether the data transmission mode is synchronous or asynchronous. 
  4461	
  4462	In most cases, communications over the telephone lines will be synchronous, 
  4463	regardless of the mode selected. The interface between the modem and the DTE 
  4464	will depend on the mode selected. 300 bps communications (for example when on-
  4465	line with a Smartmodem 300) are always asynchronous between modems. At speeds 
  4466	of 1200 bps and higher, the modem-to-modem links are always synchronous.
  4467	
  4468	However, between the DTE and the modem, synchronous and asynchronous 
  4469	communication differ significantly. The DTE hardware and software are usually 
  4470	different as well. A modem operating with a synchronous DTE could connect to 
  4471	another modem operating with an asynchronous DTE, as the carrier signals are 
  4472	no different. But the data passed over the link might not be intelligible to 
  4473	their respective computers. 
  4474	
  4475	The interface between the modem and the DTE is generally asynchronous for all 
  4476	personal computer-to-modem communications. When the modem-to-DTE link is 
  4477	synchronous, the DTE must be a synchronous device such as a synchronous 
  4478	adapter card installed within the computer. The two types of transmission 
  4479	differ in the techniques used to separate the characters that are transmitted. 
  4480	Asynchronous transmissions use bits to indicate the start and stop of the 
  4481	character. Synchronous transmissions use clocking signals.
  4482	
  4483	Hayes modems provide several communication modes to adapt to a variety of 
  4484	environments and operating demands. When a communications mode is selected 
  4485	that supports an asynchronous DTE at 1200 bps or greater, the modem converts 
  4486	the asynchronous data into synchronous data that is compatible with the modem-
  4487	to-modem carrier signals. In some of the communications modes that support 
  4488	asynchronous DTEs, the start and stop bits are also converted to synchronous 
  4489	data over the modem-to-modem link. Naturally, the modems on both ends of the 
  4490	link must be in a compatible communications mode if the data is to be restored 
  4491	at the receiving DTE. For this reason, communications modes that support 
  4492	asynchronous DTEs and which actually send the start and stop bits over the 
  4493	modem-to-modem link are often referred to as asynchronous connections.
  4494	
  4495	The communications mode is controlled by the &Q command, except for Smartmodem 
  4496	300 and those Smartmodem 1200s that support only asynchronous mode. This 
  4497	command is discussed fully in the next section.
  4498	
  4499	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4500	A.1.1 Asynchronous Transmissions
  4501	Most communications between PCs are asynchronous. Asynchronous transmissions 
  4502	pass data between the modems as characters. Data is then transmitted as 
  4503	character bits framed by start, stop, and parity bits to mark the beginning 
  4504	and end of character units.
  4505	
  4506	The use of parity bits is optional depending on the asynchronous character 
  4507	format selected. 
  4508	
  4509	When sending and receiving data, the modem supports the following asynchronous 
  4510	character formats:
  4511	
  4512	Start Bits  Data Bits   Parity      Stop Bits
  4513	-----------------------------------------------
  4514	1           7           even/odd    1 or more
  4515	1           7           none        2
  4516	1           7           mark/space  1 or more
  4517	1           8           none        1 or more
  4518	
  4519	At speeds of 1200 bps or higher, the modem always generates data in a 10-bit 
  4520	format, including the start bit. In the modem command state, information 
  4521	exchanged between the DTE and modem consists of commands and responses that 
  4522	are not transmitted or received over the phone line. The character formats 
  4523	supported by a particular modem are provided in the Installation Guide 
  4524	accompanying the modem, under the feature list.
  4525	
  4526	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4527	A.1.2 Synchronous Transmissions
  4528	Synchronous communication is a specialized form of data transmission and 
  4529	generally requires special hardware and software combinations. When operating 
  4530	in a synchronous mode, the modem functions as a pipeline, sending bits across 
  4531	the link between modems according to uniform blocks of time. 
  4532	
  4533	Communication is managed through special protocols. Though techniques differ 
  4534	slightly, synchronous protocols assemble data in frames prior to transmission 
  4535	and disassemble the frames on arrival. If the communication environment 
  4536	supports synchronous communication, the framing - data formatting - is 
  4537	performed by the communications software. No data format selection is required 
  4538	of the modem for synchronous operation.
  4539	
  4540	Synchronous modes 1, 2, 3, and 4 are supported by standalone (external) 
  4541	modems. Hayes boardlevel (internal) modems support synchronous communications 
  4542	with mode 4, Hayes AutoSync. The only exceptions are the modems designed for 
  4543	the Apple(TM) Macintosh(TM) II family: Smartmodem 2400M and V-series 
  4544	Smartmodem 2400M. The Macintosh II, unlike other personal computers, supports 
  4545	both asynchronous and synchronous communications without an adapter card. If a 
  4546	personal computer (an IBM(TM) PC XT(TM), for example) has a synchronous 
  4547	adapter card installed, then a Hayes standalone Smartmodem or V-series System 
  4548	Products that support modes 1, 2, or 3, may be used for synchronous 
  4549	communications.
  4550	
  4551	
  4552	*****************************************************************************
  4553	A.2 Communication Modes - &Q
  4554	The requirements of the communication link - including the software that 
  4555	addresses the modem and the capabilities of the local and remote modems - 
  4556	determine the mode to be used. For example, there are three modes for 
  4557	asynchronous DTEs (&Q0, &Q5, and &Q6) and three modes for synchronous DTEs 
  4558	(&Q1, &Q2, and &Q3). Most PC communications are performed in the asynchronous 
  4559	mode. Unless the modem is installed on a terminal, or computer with 
  4560	synchronous capability, or connected to a mainframe, communication will most 
  4561	likely be asynchronous. 
  4562	
  4563	For those situations such as mainframe connections, the modem can be 
  4564	configured for synchronous modes. Synchronous communication requires special 
  4565	hardware in all but Mode 4. In all synchronous modes, special software that 
  4566	provides the necessary protocol is required. Synchronous communication 
  4567	requires that the DTE (either the personal computer/data terminal or the port 
  4568	on the host computer) be able to exercise some degree of control over DTR. 
  4569	When the modem is operating in synchronous modes 1, 2, or 3, the modem's 
  4570	response to DTR transitions as specified by the &D command are significantly 
  4571	different than responses to changes in DTR when the modem is in asynchronous 
  4572	modes 0, 5, or 6. Modes 1, 2, and 3 are based on the 108.1 application of the 
  4573	CCITT Recommendation V.24 that specifies series interchange circuit 
  4574	designations. This alternative, "Connect Data Set (modem) To Line," is very 
  4575	similar to EIA/TIA-232-D (a revised version of RS 232-C).
  4576	
  4577	Mode 4: AutoSync is the Hayes alternative for synchronous communication from a 
  4578	personal computer. Originally developed to afford Hayes internal modems for 
  4579	IBM PC XTs a means of communicating with synchronous computers (mainframes 
  4580	such as IBM 3090 models), this feature was added to standalone modems as well. 
  4581	Using a personal computer and software incorporating the Hayes Synchronous 
  4582	Interface (HSI) software, the modem can be used synchronously from most 
  4583	asynchronous serial computer ports.
  4584	
  4585	The factory default setting is &Q0 (asynchronous mode) for Smartmodem 
  4586	Products, and &Q5 (error-control mode) for V-series System Products. When a 
  4587	Hayes V-series System Product attempts an error-control connection with a 
  4588	remote modem that cannot perform error-control, the V-series System Product 
  4589	can either fall back to a connection supported by the other modem or hangup, 
  4590	depending on the value of S36. When the use of &Q5 results in an error-control 
  4591	connection, the DTE asynchronous data is converted to synchronous data. The 
  4592	start and stop bits are discarded over the modem-to-modem link where the data 
  4593	is encapsulated by a synchronous framing protocol that the DTE cannot see. The 
  4594	specific type of synchronous framing (error-control protocol) that is used is 
  4595	determined by registers S36, S46, and S48. When a V-series System Product 
  4596	connects to a Smartmodem 1200 attached to a V-series Modem Enhancer, a special 
  4597	Asynchronous Framing Technique (AFT) is used when an error-control link is 
  4598	established (AFT preserves the start and stop bits in the modem-to-modem 
  4599	link.)
  4600	
  4601	The &Q0 and &Q6 modes also convert the asynchronous DTE's start and stop bits 
  4602	to synchronous data in the modem-to-modem link, so that those modes are 
  4603	compatible at each end of the same modem connection. The &Q6 mode, however, 
  4604	permits the DTE to operate at a faster speed than the modem link by using 
  4605	buffers in the modem and bi-directional local flow control between the modem 
  4606	and the DTE. The &Q0 mode utilizes the CCITT V.14 standard stop bit 
  4607	manipulation feature to accommodate the slight speed discrepancies that can 
  4608	occur between a modem and a DTE that are operating at the same nominal speed.
  4609	
  4610	The chart below lists the &Q command options currently defined for selection 
  4611	of communication mode. Details on these modes are provided in subsequent 
  4612	sections.
  4613	
  4614	Command  Definition
  4615	-----------------------------------------------------------------------------
  4616	&Q0   Asynchronous mode - standard personal computer connection; call
  4617	      placement and connection are both asynchronous. Basic setup
  4618	      permitting interaction with the modem in either the command or the
  4619	      on-line states.
  4620	
  4621	&Q1   Synchronous Mode 1 - call placement takes place using asynchronous
  4622	      DTE, then modem switches to synchronous DTE when the connection is 
  4623	      fully established. The switchover time is controlled by register S25.
  4624	
  4625	&Q2   Synchronous Mode 2 - dial stored number under control of the DTR
  4626	      interface circuit of a synchronous DTE. The use of an asynchronous 
  4627	      DTE in command state is optional.
  4628	
  4629	&Q3   Synchronous Mode 3 - dial manually using the DTR (V.24 108.2) 
  4630	      interchange circuit to switch between voice and data modes.
  4631	      Requires telephone to dial while in the voice mode. The use of an 
  4632	      asynchronous DTE in command state is optional.
  4633	
  4634	&Q4   Hayes AutoSync - call placement takes place using asynchronous DTE, 
  4635	      then modem switches to a special mode that makes an asynchronous port 
  4636	      appear to operate synchronously after the connection is established.
  4637	      This mode requires software addressing the Hayes Synchronous Interface
  4638	      (HSI).
  4639	
  4640	&Q5   Error-control mode - call  establishment and data transfer use an 
  4641	      asynchronous DTE. Negotiation of error-control and compression 
  4642	      features with other modem is controlled by registers S36, S46, and
  4643	      S48. With factory default settings, modem in &Q5 mode attempts the 
  4644	      most compressed error-free connection features that the other modem
  4645	      will support. Modem may "fall back" to &Q6 or to &Q0 modes during
  4646	      the connection negotiation if the remote modem does not support an 
  4647	      error-control protocol.
  4648	
  4649	&Q6   Asynchronous mode with speed buffering enabled. In addition to the 
  4650	      features provided by &Q0, this mode allows for a DTE speed that is 
  4651	      faster than the modem-to-modem link. Modem buffers and local flow 
  4652	      control are used.
  4653	
  4654	Note: In addition to the modes selected and initiated with AT commands, some 
  4655	V-series System Products capable of 9600 bps line speeds (ULTRA(TM) 96, for 
  4656	example) also support CCITT V.25bis as an alternate method of controlling the 
  4657	modem. This method of modem control is discussed following the descriptions of 
  4658	the individual communication modes.
  4659	
  4660	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4661	A.2.1 Asynchronous Mode - &Q0
  4662	In this mode, the modem transmits and receives characters asynchronously to 
  4663	and from the local data terminal at the same nominal speed as the modem 
  4664	connection. Asynchronous mode can be selected with the &Q0 command option.
  4665	
  4666	The asynchronous mode supports both the on-line and the "on-line" command 
  4667	states. When connected to an asynchronous data terminal, the modem can be 
  4668	configured, used as a dialer, and placed on-line for data communications. A 
  4669	complete explanation of communications in this mode is provided in both the 
  4670	Smartmodem Product User's Reference and the V-series System Product User's 
  4671	Reference.
  4672	
  4673	If the modem receives a character while dialing the telephone number, it 
  4674	aborts the call and sends the OK result code; if a character is received after 
  4675	dialing but prior to the completion of the connection, it aborts the call and 
  4676	sends the NO CARRIER result code.
  4677	
  4678	The modem exits the on-line state and returns to the command state when a loss 
  4679	of carrier exceeding the time interval stored in S10 is detected. For the 
  4680	responses associated with transitions of the DTR signal for this mode, refer 
  4681	to the discussions of the &D command in Chapter One.
  4682	
  4683	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4684	A.2.2 Synchronous Mode 1: sync/async - &Q1
  4685	Synchronous mode 1 is intended to support terminals capable of communicating 
  4686	both synchronously and asynchronously over the same V.24/EIA 232-D port. In 
  4687	synchronous mode 1, a call may be completed using asynchronous methods from 
  4688	the command state with the D or A command. The modem automatically switches to 
  4689	the synchronous on-line state when the CONNECT XXXXX result code is delivered 
  4690	to the terminal. Because call establishment in this mode is initiated from the 
  4691	asynchronous command state, the modem must be attached to a computer port with 
  4692	both synchronous and asynchronous capabilities.
  4693	
  4694	If the modem receives a character while dialing the telephone number, it 
  4695	aborts the call and sends the OK result code; if a character is received after 
  4696	dialing but prior to the completion of the connection, it aborts the call and 
  4697	sends the NO CARRIER result code.
  4698	
  4699	The data terminal must apply an ON condition to DTR before on-line data 
  4700	transfer can begin. Once the CONNECT XXXXX result code is received, the modem 
  4701	delays a period of time determined by S25 before examining the condition of 
  4702	the DTR signal. If DTR is ON, the modem enters the synchronous on-line state. 
  4703	If DTR is OFF, the modem hangs up and returns to the asynchronous command 
  4704	state. For the responses associated with transitions of the DTR signal for 
  4705	this mode, refer to the discussions of the &D command in Chapter One.
  4706	
  4707	The modem exits the synchronous on-line state and returns to the asynchronous 
  4708	command state when a loss of carrier exceeding the time interval stored in S10 
  4709	is detected.
  4710	
  4711	If DTR is OFF and &D2 is selected, the auto-answer feature is disabled 
  4712	regardless of the value of register S0.
  4713	
  4714	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4715	A.2.3 Synchronous Mode 2: stored number dial - &Q2
  4716	In this mode, the modem supports a synchronous-only data terminal or a 
  4717	computer with a synchronous adapter card. In synchronous mode 2, the modem 
  4718	automatically dials a number stored in location 0 (see the &Zn=x command) when 
  4719	the modem detects an off-to-on transition on DTR (when it is turned on). When 
  4720	configuring the modem for this mode, result codes should usually be turned off 
  4721	(the Q1 command option) as some computers do not interpret responses from the 
  4722	modem correctly. The modem can be configured in the asynchronous command state 
  4723	while &Q2 is in effect, but the D and A commands are disabled.
  4724	
  4725	The modem exits the synchronous on-line state and returns to the asynchronous 
  4726	command state when a loss of carrier exceeding the time interval stored in S10 
  4727	is detected. An on-to-off transition of DTR causes the modem to hang up and 
  4728	return to the asynchronous command state. For the responses associated with 
  4729	transitions of the DTR signal for this mode, refer to the discussions of the 
  4730	&D command in Chapter One.
  4731	
  4732	Synchronous mode 2 is similar to the CCITT Recommendation V.25bis ("Direct 
  4733	call and/or answer controlled by the DTE").
  4734	
  4735	Once this mode has been selected, the modem may go off-hook and begin dialing 
  4736	the stored number as soon as the modem is connected to the terminal. To delay 
  4737	this transition, turn the modem off (place the power switch in the down 
  4738	position) before connecting the devices. When the connection is completed, 
  4739	turn the modem back on. Note that when DTR is off, auto-answer is disabled - 
  4740	regardless of the &D option selected.
  4741	
  4742	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4743	A.2.4 Synchronous Mode 3: manual dial with data/talk switch - &Q3
  4744	In synchronous mode 3, the DTR interchange circuit serves as a data/talk 
  4745	switch. This mode supports a synchronous-only data terminal or a personal 
  4746	computer with a synchronous adapter card installed. A telephone set must be 
  4747	attached to the PHONE connector on the rear of the modem or directly to the 
  4748	telephone line. This mode permits the data terminal operator to initiate a 
  4749	call using the telephone with the modem in "talk mode," and to complete the 
  4750	call by switching the modem to the "data mode" by turning on the DTR 
  4751	interchange circuit. When configuring the modem for this mode, result codes 
  4752	should be turned off using the Q1 command option. The modem can be configured 
  4753	in the asynchronous command state while &Q3 is in effect, but the D and A 
  4754	commands are disabled.
  4755	
  4756	To originate a call in synchronous mode 3, the DTR interchange circuit must be 
  4757	off. This places the modem in talk mode. When the modem has been configured 
  4758	for this mode with the &Q3 command, the terminal operator can lift the 
  4759	receiver and dial the number. When the last character of the dial string has 
  4760	been dialed, the modem can be switched to data mode by causing the data 
  4761	terminal equipment to turn on the DTR signal. The operator should then hang up 
  4762	the receiver. When the data terminal equipment turns on DTR, the TR indicator 
  4763	(on the front panel of external Smartmodem and V-series System Products) 
  4764	lights up. For the responses associated with transitions of the DTR signal for 
  4765	this mode, refer to the discussions of the &D command in Chapter One.
  4766	
  4767	The modem exits the synchronous on-line state and returns to the asynchronous 
  4768	command state when a loss of carrier exceeding the time interval stored in S10 
  4769	is detected.
  4770	
  4771	If the connection fails, the modem automatically hangs up and switches from 
  4772	data to talk mode. To re-initiate the call, DTR must again be turned off.
  4773	
  4774	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4775	A.2.5 Synchronous Mode 4: Hayes AutoSync - &Q4
  4776	With communication software incorporating the Hayes Synchronous Interface 
  4777	(HSI), the modem can communicate synchronously without a synchronous interface 
  4778	adapter card. In AutoSync mode, the modem places the call asynchronously then 
  4779	automatically switches to synchronous operation once the telephone connection 
  4780	is fully established. 
  4781	
  4782	If the modem receives a character while dialing the telephone number, the 
  4783	modem aborts the call and sends the OK result code; if a character is received 
  4784	after dialing but prior to the completion of the connection, it aborts the 
  4785	call and sends the NO CARRIER result code.
  4786	
  4787	The data terminal must apply an ON condition to DTR before data transfer can 
  4788	begin. Once the CONNECT XXXXX result code is received by the DTE, the modem 
  4789	delays for a period of time determined by S25 before examining the condition 
  4790	of the DTR signal. If DTR is ON, the modem enters the synchronous operation 
  4791	state. If DTR is OFF, the modem hangs up and returns to the asynchronous 
  4792	command state.
  4793	
  4794	The modem exits the synchronous on-line state and returns to the asynchronous 
  4795	command state when a loss of carrier exceeding the time interval stored in S10 
  4796	is detected. For the responses associated with transitions of the DTR signal 
  4797	for this mode, refer to the discussions of the &D command in Chapter One.
  4798	
  4799	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4800	A.2.6 Error-Control Mode - &Q5
  4801	The error-control mode is a feature available only between Hayes V-series 
  4802	System Products, and other modems supporting particular protocols (e.g., CCITT 
  4803	V.42). This mode provides a means of controlling errors that may occur during 
  4804	transmission. When operating in this mode, the modem implements one of the 
  4805	error-control protocols that can be negotiated with the remote modem.
  4806	
  4807	If the modem receives a character while dialing the telephone number, it 
  4808	aborts the call and sends the OK result code; if a character is received after 
  4809	dialing but prior to the completion of the connection, it aborts the call and 
  4810	sends the NO CARRIER result code. For the responses associated with 
  4811	transitions of the DTR signal for this mode, refer to the discussions of the 
  4812	&D command in Chapter One.
  4813	
  4814	Error-control mode is automatically selected in &Q5 communication mode 
  4815	(factory setting) for V-series System Products.
  4816	
  4817	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4818	A.2.7 Asynchronous Mode with Automatic Speed Buffering - &Q6
  4819	Automatic Speed Buffering (ASB) is useful for computers and communication 
  4820	programs that do not automatically adjust to changing transmission speeds. ASB 
  4821	enables computer equipment to send and receive data to and from the attached 
  4822	modem at one particular transmission speed, regardless of the speed of the 
  4823	modem-to-modem connection. (If using a Hayes Smartcom Product, ASB is 
  4824	unnecessary; Hayes communications software adjusts to changing speeds and 
  4825	connection types.)
  4826	
  4827	When a V-series System Product cannot complete an eror-control connection, it 
  4828	attempts to establish an asynchronous connection (if in factory 
  4829	configuration). When this occurs, the modem-to-computer (DTE) transmission 
  4830	speed may change, however. To accommodate computers or computers running 
  4831	software that cannot adjust to such a change, the local V-series System 
  4832	Product can be configured to enable Automatic Speed Buffering  when it has to 
  4833	fall back to asynchronous communication. For negotiation failure treatments, 
  4834	see the description of S36 in Chapter One, and the modem's Installation Guide 
  4835	for the options available to the specific modem.
  4836	
  4837	ASB buffers (stores) data temporarily, using local flow-control to parcel it 
  4838	from the computer as the modem is ready to receive it. The modem must be set 
  4839	with the &K command to use the appropriate DTE flow-control method. When using 
  4840	ASB, the modem signals the local computer when to start and stop sending data, 
  4841	depending on how full the modem's 256-byte buffer is. The factory setting for 
  4842	flow-control is appropriate for most computers. However, in rare instances, 
  4843	you may need to select another flow-control method. For example, if using 
  4844	XON/XOFF flow control (&K4 setting) results in undesirable interactions with 
  4845	the user's application software, then RTS/CTS (&K3) or transparentized 
  4846	XON/XOFF (&K5) are available.
  4847	
  4848	To increase buffer size, change its "upper limit" by changing the setting of 
  4849	S50 from its factory setting of 16 bytes to a higher number in its range of 2-
  4850	250 bytes. The value of the register reflects the number of bytes that can be 
  4851	stored in the buffer before the modem signals the computer to stop sending 
  4852	data. It is unlikely that the buffer's "lower limit," the level at which the 
  4853	modem signals the local computer to resume sending data, would ever need to be 
  4854	changed. However, this setting can be changed by writing to S49. The factory 
  4855	setting is 8 bytes with a range of 1-249 bytes. If these register values are 
  4856	set incorrectly or outside the acceptable range, they are automatically 
  4857	adjusted by the modem for ASB to work.
  4858	
  4859	If the modem receives a character while dialing the telephone number, it 
  4860	aborts the call and sends the OK result code; if a character is received after 
  4861	dialing but prior to the completion of the connection, it aborts the call and 
  4862	sends the NO CARRIER result code.
  4863	
  4864	For the responses associated with transitions of the DTR signal for this mode, 
  4865	refer to the discussions of the &D command in Chapter One.
  4866	
  4867	
  4868	==============================================================================
  4869	Appendix B:
  4870	Troubleshooting Tips
  4871	
  4872	This appendix offers suggestions for remedying problems in modem 
  4873	communications. The first sections discuss setup and configuration issues. The 
  4874	last sections describe the tests that can be run using AT commands.
  4875	
  4876	When problems first occur, the natural response is to question the operation 
  4877	of the modem on one end or the other. However, as well as the modem, problems 
  4878	might involve cabling (where appropriate), the computer, the communications 
  4879	software, and the telephone lines. All of these components are potential 
  4880	problem areas that should be considered before assuming the difficulty lies 
  4881	with the modem.
  4882	
  4883	The first section of the appendix covers the following topics:
  4884	
  4885	*  Problems in Getting Started - the computer cannot communicate with the 
  4886	modem, or the connection is inconsistent or otherwise substandard
  4887	
  4888	*  Problems in Establishing Communications - DTE can communicate with the 
  4889	modem, but cannot make the connection with the remote system
  4890	
  4891	*  Problems Encountered while On-line - high error rate, dropped connections, 
  4892	scrambled data, and locked systems are among the difficulties that may be 
  4893	experienced
  4894	
  4895	The discussions on these areas will help in setting up and maintaining 
  4896	communications. In addition, the test procedures outlined in this section are 
  4897	useful in determining the source of a problem with modem use.
  4898	
  4899	The second part of the appendix describes testing that can be performed using 
  4900	AT commands.
  4901	
  4902	
  4903	*****************************************************************************
  4904	B.1 The Communication Link
  4905	Because there is more to the connection than the modem, all of the components 
  4906	should be verified. The diagram below depicts the components in a 
  4907	communication link with two computers, two modems, and a dial-up telephone 
  4908	circuit. The installation may include a dedicated leased line rather than a 
  4909	switched central-office connection, or a mainframe host with an asynchronous 
  4910	or synchronous front-end processor at one end or the other. The general 
  4911	principles, however, are the same.
  4912	
  4913	The configuration above is the context of modem use in which the communication 
  4914	link is discussed in this section. Although your modem may be an internal one, 
  4915	that is, installed inside the computer, the operational concepts are still the 
  4916	same.
  4917	
  4918	The suggestions provided in the user documentation accompanying each Hayes 
  4919	modem will clear up the majority of problems in an installation. Most 
  4920	difficulties arise from simple causes - improper or loose connections or 
  4921	software incompatibility. Be sure to review the scenarios and tips before 
  4922	assuming the problem is something more. The suggestions in this section 
  4923	require some familiarity with the AT Command Set, DTE requirements, EIA 232-
  4924	D/CCITT V.24 signals, and the telephone system.
  4925	
  4926	A communication link problem may simply be due to a bad switchboard 
  4927	connection. Before calling the local telephone system, however, you should 
  4928	make sure the problem is not being caused by faulty or improperly connected 
  4929	equipment at either end. Telephone service can be very expensive, especially 
  4930	if the problem is not really with the phone lines.
  4931	
  4932	
  4933	*****************************************************************************
  4934	B.2  Troubleshooting the Process
  4935	Troubleshooting the communications is best handled by analyzing the entire 
  4936	process. The failure is typically in only one area. This section looks at the 
  4937	causes and solutions to problems in the three main areas: getting started with 
  4938	the modem, making the connection, and the on-line connection.
  4939	
  4940	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4941	B.2.1 Problems in Getting Started
  4942	If a newly-installed modem does not work properly, here some likely causes:
  4943	
  4944	*  Improper physical connection (data cables not plugged in, etc.)
  4945	
  4946	*  Power supply not plugged into receptacle and modem therefore not powered up
  4947	
  4948	*  Parameters set for the DTE or software preventing communication between the
  4949	   DTE and modem
  4950	
  4951	It is uncommon for the modem itself to fail, although this does occur. 
  4952	Checking modem operation is fairly simple when the modem is an external 
  4953	device. Generally, if the modem failed its self tests on powerup, the front 
  4954	panel lights will indicate a problem. For example, if the MR (modem ready) 
  4955	light does not come on, the modem may have a problem. Or if the HS light 
  4956	(external Smartmodem and V-series System Products) does not come on, the modem 
  4957	may be improperly configured.
  4958	
  4959	Some cases of apparent modem failure may be caused by a power surge; changed 
  4960	parameters in your software that prevent it from finding the modem; an 
  4961	incompatible component in the communication link; an improper connection; or 
  4962	simply a device that is not plugged in or turned on. Before initiating the 
  4963	V.54 tests described in this chapter, re-examine the communications equipment 
  4964	to make sure none of the above conditions could be causing the difficulty.
  4965	
  4966	............................................................................
  4967	B.2.1.1 Verifying the DTE-to-Modem Connection
  4968	The first interface to verify is the one between the DTE and the modem. This 
  4969	involves the cable, the modem, the software, and the DTE.
  4970	
  4971	Cable Requirements
  4972	When a cable is used to carry signals between the DTE and the modem (external 
  4973	modem) any cable with transmit, receive, and ground will support standard 
  4974	asynchronous communications. To make sure that communications are performed 
  4975	properly, all other transmission modes require additional signals. For 
  4976	example, synchronous communication requires timing signals. Error-control 
  4977	communication with hardware local flow control requires RTS and CTS signals. 
  4978	For pinouts and descriptions of these signals, see the end of this chapter. To 
  4979	determine the signal capabilities of a cable, you can issue the &T19 command 
  4980	(supported only by V-series System Products). The &T19 command is discussed 
  4981	later in this section.
  4982	
  4983	Another cabling factor that can influence communications is shielding. If any 
  4984	of the cables that are connected to the DTE (not just the one connecting the 
  4985	modem to the computer) is not shielded, interference can occur that may result 
  4986	in data errors. In all cases, the connector and the cable wires themselves 
  4987	should be shielded to reduce the possibility of interference.
  4988	
  4989	DTE Port or Slot
  4990	Although it may seem obvious, not every computer has a serial port (the kind 
  4991	necessary for modem communications). Also, that port may already be taken up 
  4992	by a printer. Some computers support a parallel printer, instead. If the modem 
  4993	is an internal modem, and it has been installed correctly, this should not be 
  4994	a problem. However, selection of the port is important, no matter whether it 
  4995	is an internal or external modem. In fact, improper port selection is one of 
  4996	the most frequently diagnosed problems discovered by Hayes Customer Service.
  4997	
  4998	Modem's Command Processor and the Software
  4999	The process below may be useful for troubleshooting an unfamiliar 
  5000	modem/software combination. This could be either for a new program or the 
  5001	addition of a new modem to an existing installation. The process is oriented 
  5002	toward asynchronous operation. However, if troubleshooting a synchronous 
  5003	connection, you will need to verify the asynchronous portion of the modem's 
  5004	operation anyway. The steps below help verify that command information is 
  5005	getting from the DTE to the modem and that its command processor is operating 
  5006	properly.
  5007	
  5008	Process: If using communications software (and not a terminal), consult its 
  5009	user's guide for suggestions and the proper procedure for issuing command 
  5010	interface with the modem. It is essential that you be able to establish a 
  5011	direct connection between the DTE and the  modem, so that what you type is 
  5012	transmitted through the computer  directly to the modem.
  5013	
  5014	Step 1: Try issuing AT<CR>. The OK result code should be returned by the 
  5015	modem. The modem should be receiving your commands and be responding with a 
  5016	result code. If commands don't seem to be reaching the modem, check the cable 
  5017	connection. Make sure you are addressing the desired communication port (COM1 
  5018	or COM2). This option is set either with a software option or with an 
  5019	operating system command. For example, the Chooser is used to select the COM 
  5020	port for the Macintosh. The DOS SET command is used for IBM PCs and 
  5021	compatibles. The physical connection of the modem to a terminal determines the 
  5022	port.
  5023	
  5024	Step 2: If you can't see anything you type, or if for any other reason, you 
  5025	suspect that the modem's settings may be preventing the connection, issue 
  5026	AT&F<CR> to restore the modem's factory configuration. If the modem is a V-
  5027	series System Product, try issuing AT&Q0<CR> to put it into normal 
  5028	asynchronous mode. In this mode, any software should talk to the modem. For 
  5029	example, local flow control will not be an issue if it is configured for 
  5030	standard asynchronous mode.
  5031	
  5032	Step 3: Try issuing commands to the modem. For example, try the I commands 
  5033	used to identify the modem. If OK or the expected results (see the I command 
  5034	descriptions in Chapter Five) are returned, the modem is operating as it 
  5035	should. Try changing a few configuration settings, then resetting the modem 
  5036	with ATZ<CR>. If OK is returned, this part of the modem's command processor is 
  5037	functioning properly. If no responses are returned from the modem, try issuing 
  5038	ATE1<CR> to enable command state echo. If characters are double, issue 
  5039	ATE0<CR> to disable command state echo, as the software is providing that echo 
  5040	already. Then try issuing some commands or reading some S-Registers.
  5041	
  5042	Analysis:	If using different communications software before running this 
  5043	procedure, either that software is not compatible with the modem, or an 
  5044	incorrect setting (e.g., communication port) that prevented the connection was 
  5045	corrected with the software used to make the direct connection. This setting 
  5046	should be changed in the original software.
  5047	
  5048	If the connection were made with the same software that previously exhibited a 
  5049	problem, but no problem occurred when in direct connect mode, check the 
  5050	settings used in the command-oriented process above to make sure that the 
  5051	standard software interface (probably menu-driven) is storing settings such as 
  5052	COM port selection, speed, and character format. This may all seem too 
  5053	rudimentary, but a simple conflict of modem and software settings typically 
  5054	causes the problem.
  5055	
  5056	If the process works in asynchronous mode, but does not in error-control or 
  5057	ASB mode, you may have cabling and/or local flow control problems.
  5058	
  5059	............................................................................
  5060	B.2.1.2 Checking the Dialer and the Telephone Lines
  5061	Once you are certain that the modem is receiving and responding to commands 
  5062	from the DTE, you can verify the modem's dialing capabilities by attempting a 
  5063	call. This will also test the telephone lines. 
  5064	
  5065	Process: As described in the previous section, check your communications 
  5066	software for the procedure to issue commands directly to the modem. The steps 
  5067	below explain how to place a call using the D command and various dialing 
  5068	modifiers. 
  5069	
  5070	Step 1: If you receive an OK result code, instruct the modem to dial an actual 
  5071	telephone number (using the D command). If calling out of a PBX, remember to 
  5072	include the 9 or other outside access code in the phone number. Listen for a 
  5073	dial tone, followed by the tone dialing beeps. When these occur, they ensure 
  5074	you've entered the phone number correctly, and the local phone line is 
  5075	responding properly. If there is no dial tone, check the phone line by dialing 
  5076	with an ordinary phone. Note that some PBX systems must be modified to produce 
  5077	at least 48 volts DC for the modem to work. 
  5078	
  5079	Step 2: If you hear the phone on the other end ringing, then the remote phone 
  5080	is responding properly. Press any key to hang up. 
  5081	
  5082	Step 3: Try dialing another modem to see if you make a connection. A 
  5083	connection is indicated by two whistling sounds of different tones (the 
  5084	carriers), followed by a hissing sound. The modem should respond with a 
  5085	CONNECT XXXXX result code.
  5086	
  5087	Analysis: When you have reached this point successfully, both modems are 
  5088	performing correctly. If no errors occurred with these steps, the problem is 
  5089	related to software, user error, or improper modem installation/setup. If this 
  5090	procedure indicated a problem with the modems or the communication link, go on 
  5091	to the next section. A common setting that might need to be changed is the 
  5092	software's or modem's response to the DTR signal (controlled by &D options).
  5093	
  5094	You can check the modem's answer capabilities (or when serving as the remote 
  5095	modem in the process above) by issuing the A command when the phone rings. The 
  5096	incoming call must be from a modem, however, not a voice call. The same 
  5097	sequence of carrier exchange will be made.
  5098	
  5099	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5100	B.2.2 Problems Encountered During Communications
  5101	Another set of problems can follow establishment of a data connection. These 
  5102	may range from loss of carrier to data loss. The sections below discuss these 
  5103	situations.
  5104	
  5105	............................................................................
  5106	B.2.2.1 Data Loss or Corruption
  5107	A typical complaint regarding connections is that of lost or corrupted data. A 
  5108	number of factors can affect the transmission of data.
  5109	
  5110	Modem Settings
  5111	"Garbled," or otherwise faulty data can occur from the time the connection is 
  5112	made or just a momentary problem. If all the data that comes across is 
  5113	incorrect, or if the modems handshake with each other successfully but not 
  5114	data can be transferred, suspect an error in the setting of some 
  5115	communications parameter. For example, both systems must use the same 
  5116	asynchronous character format or synchronous framing and clocking scheme. Even 
  5117	if the local system is operating properly, if the remote system uses a 
  5118	different format, the garbled data may be exactly what is sent and not the 
  5119	result of any modem or transmission error. 
  5120	
  5121	Line Noise
  5122	Occasional garbling or loss may be the result of noise or otherwise poor 
  5123	quality of the telephone line. If a dial-up connection is too noisy, the 
  5124	connection should be broken, and the connection re-attempted; you get a 
  5125	different circuit each time. One that is acceptable for voice may not be for 
  5126	data. With a leased line, the circuit is always the same. If you experience 
  5127	line noise or line drops, you should contact (or the software should recommend 
  5128	that the user contact) the vendor of the leased line.
  5129	
  5130	Transmit and Receive Levels
  5131	Other factors that affect both leased and dial-up lines are the transmit and 
  5132	receive levels. These settings determine the signal levels used by the modem 
  5133	in each direction. Some Hayes modems permit these levels to be adjusted. The 
  5134	range and availability of these adjustments is in large part controlled by the 
  5135	local telephone system. For example, the recommended settings and ranges are 
  5136	different for modems sold in the U.K. than for those sold in the U.S. See the 
  5137	documentation accompanying the modem to determine whether this capability is 
  5138	supported.
  5139	
  5140	DTE Processor Restrictions
  5141	Some multi-tasking operating systems can occasionally lose small amounts of 
  5142	data if the computer is heavily loaded and cannot allocate processing time to 
  5143	the communications task frequently enough. In this case, the data is corrupted 
  5144	by the DTE itself. This could also cause incomplete data transmission to the 
  5145	remote system. DTE processor capabilities should be a concern when developing 
  5146	software for data communications when the line speed is greater than 9600 bps 
  5147	and the modem-to-DTE connection is 19200 bps or higher (for example, when data 
  5148	compression is used). The modem will provide exact transmission of the data it 
  5149	receives, but if the DTE cannot "keep up" with the modem because of other 
  5150	tasks or speed restrictions, precautions should be taken when writing software 
  5151	or when adding modems with extra high speed capabilities into a link.
  5152	
  5153	One way to avoid the problem of data loss caused by the DTE is the use of an 
  5154	upgraded serial port such as Hayes Enhanced Serial Port(TM) (ESP(TM)) card. 
  5155	This card replaces the existing serial card, providing two ports, data 
  5156	buffering, and a communications co-processor to take some of the load off of 
  5157	the DTE processor. For information regarding this product line, contact Hayes 
  5158	Customer Service.
  5159	
  5160	Buffer Overflow
  5161	Hayes V-series System Products provide a data buffer for overflow when the 
  5162	modem is transmitting data to the DTE faster than it can process it, or vice 
  5163	versa. The upper and lower limits of the buffer can be adjusted with S-
  5164	Registers 49 and 50, although the factory settings suit most situations.
  5165	
  5166	............................................................................
  5167	B.2.2.2 Dropped or Lost Connections
  5168	Phone line quality or features such as call waiting can cause lost 
  5169	connections. As described above, if the connection keeps dropping, you might 
  5170	want to contact the telephone company. However, you may first want to try a 
  5171	connection with another remote system and/or try using the modem from a 
  5172	different phone connection altogether. In addition to phone line problems, two 
  5173	other things might cause loss of connection.
  5174	
  5175	Call Waiting
  5176	The call waiting feature available on some dial-up lines momentarily 
  5177	interrupts a call, causing a click, to inform voice call users that another 
  5178	call is coming through. This process effectively interrupts the carrier signal 
  5179	and may cause some modems to drop the connection.
  5180	
  5181	One way around this is to set S10 to a higher value so the modem tolerates a 
  5182	fairly long loss of carrier signal. Data loss may still occur, but the 
  5183	connection will not drop. Of course, the remote modem must be similarly 
  5184	configured. When originating the call, a special prefix can be issued as part 
  5185	of the dialing string to disable call waiting for the duration of the call. 
  5186	The exact procedure varies from area to area; contact the local telephone 
  5187	system for details.
  5188	 
  5189	Automatic Timeout
  5190	Some Hayes modems offer an automatic timeout feature, to prevent an inactive 
  5191	connection from being maintained. This inactivity delay can be set or disabled 
  5192	with S30. This "watchdog" feature prevents occurrences such as undesired long 
  5193	distance charges for a connection that was unintentionally maintained.
  5194	
  5195	System Lock up
  5196	There are situations in which systems do lock up, but in many cases it is 
  5197	simply that one or the other of the DTEs has been "flowed off," that is, the 
  5198	character that stops data transfer has been inadvertently sent. This can 
  5199	happen during error-control connections if the wrong kind of local flow 
  5200	control has been selected. For an explanation of local flow control options, 
  5201	see the &K command definition in Chapter One. In addition, the problem could 
  5202	be the result of incompatible EIA 232-D/CCITT V.24 signaling. The section 
  5203	below provides some situations and tips that will help if the communication 
  5204	link seems to lock up.
  5205	
  5206	
  5207	*****************************************************************************
  5208	B.3 Special Environment Considerations
  5209	The charts below provide some hints for custom setups to remedy problems for 
  5210	DTE and telephone line peculiarities. Because Hayes modems can be configured 
  5211	to suit almost any combination of components in a communication link, you can 
  5212	adjust to compensate for limitations in almost any computer or telephone 
  5213	system (within the limits imposed by the local telephone authorities).
  5214	
  5215	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5216	B.3.1 Custom Modem Setup for Mainframe or Minicomputer Host
  5217	Check the following host symptom/limitation situations for a solution 
  5218	involving modem re-configuration.
  5219	
  5220	Host Limitation                       Hayes Solution
  5221	-----------------------------------------------------------------------------
  5222	Can't control DTR or issue            Select &D0 : Modem ignores changes in
  5223	escape sequence                       DTR status (factory setting)
  5224	
  5225	Can reset itself but not the modem    Select &D1 : Modem enters command state
  5226	                                      when on-to-off transition of DTR is 
  5227	                                      detected.
  5228	
  5229	DTR timing is not adjustable          Adjust register S25 delay time
  5230	
  5231	Unable to monitor carrier             Select &S1: Handshake asserted prior to 
  5232	(older IBM Hosts)                     handshake negotiation
  5233	
  5234	Must see DSR at all times             Select &S0: DSR always asserted
  5235	(VAX systems)
  5236	
  5237	Timing will not support lengthy       Select &S2: DSR asserted after handshake 
  5238	handshakes (re-associated with        negotiation, but before CONNECT result 
  5239	some high-speed modems)               code is sent to DTE. Also select a 
  5240	                                      specific negotiation handshake option 
  5241	                                      (N command option.) which specifically 
  5242	                                      matches the modem combinations.
  5243	
  5244	Must see CTS to be able to            Select &R: ignore RTS; always assume
  5245	talk to modem                         presence of CTS.
  5246	
  5247	RTS/CTS timing not adjustable         Adjust S26 RTS-to-CTS delay time
  5248	
  5249	Not able to recognize FDX modem on    Adjust S26 RTS-to-CTS delay time
  5250	2-wire telephone line
  5251	
  5252	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5253	B.3.2 Custom Modem Setup for Telephone System Requirements
  5254	Check the following telephone system symptom/limitation situations for a 
  5255	solution involving modem re-configuration.
  5256	
  5257	Telephone System Limitation or Problem         Hayes Solution
  5258	-----------------------------------------------------------------------------
  5259	Noise on telephone line causes modem to        Increase S9 setting: Carrier
  5260	falsely detect carrier on line                 Recovery Time
  5261	
  5262	Modem connection broken due to noise spikes    Increase S10 setting: Lost
  5263	on the telephone line                          Carrier-to-Hang-UP Delay
  5264	
  5265	Security problems with incoming calls          Decrease S10 setting; if S10
  5266	connecting onto prior host sessions -          is set to 255, the modem will
  5267	indicating that host can't reset soon enough   not hang up when carrier is 
  5268	                                               lost.
  5269	
  5270	System needs to be able to originate calls     Issue the R command within a
  5271	in answer mode for call-back security          dial string (Reverse mode)
  5272	
  5273	Telephone system is too slow to be able to     Increase register S11 setting:
  5274	 respond to auto-dial DTMF (tone dialing)      Tone dialing speed
  5275	pulses
  5276	
  5277	Business telephones (multi-line key systems)   Check setting of &J command;
  5278	exhibit false "busy" light indications         use the &J1 setting with RJ-12
  5279	                                               and RJ13 type phone jacks.
  5280	
  5281	System must be able to call past               After accessing the PBX, issue
  5282	unattended operator positions                  the following dialing command 
  5283	                                               modifiers: !(*;#)
  5284	
  5285	
  5286	*****************************************************************************
  5287	B.4 Using AT Commands to Test Modem Circuits
  5288	In addition to the powerup tests the modem performs, you can also use AT 
  5289	commands to check the modem's functions. This section describes the tests that 
  5290	can be performed, provides a procedure for each test, and the explains the 
  5291	results that can be expected.
  5292	
  5293	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5294	B.4.1 Available Tests
  5295	As part of the modem's operation, it can be placed in several loopback 
  5296	conditions. These conditions are primarily for the purpose of testing the 
  5297	digital and analog capabilities of the modem by simulating the activities 
  5298	performed by these functions during the communication process.
  5299	
  5300	These loopback patterns can serve as diagnostics to help in determining 
  5301	whether the source of a communication problem is a local modem, a remote 
  5302	modem, or connections in between. Although these tests are oriented toward 
  5303	problems in a new installation, they are also useful if a previously working 
  5304	modem suddenly fails. Refer to the troubleshooting information provided in the 
  5305	documentation accompanying the modem(s) for suggestions on remedying a 
  5306	communications problem.
  5307	
  5308	Failures in a point-to-point communication link, usually characterized by 
  5309	unacceptably high error rates or total inability to communicate, may be the 
  5310	fault of either the local or remote computer, the local or remote modem, or 
  5311	the telephone company circuit. The modem's diagnostic and test facilities 
  5312	enable you to determine the source of the problem:
  5313	
  5314	*  Local Analog Loopback: Tests the path that includes the local modem and 
  5315	local computer
  5316	
  5317	*  Local Analog Loopback with Self Test: Checks the operation of the local 
  5318	modem with an internally generated test pattern
  5319	
  5320	*  Remote Digital Loopback: Verifies the path that includes the local 
  5321	computer, local modem, remote modem, and telephone circuit
  5322	
  5323	*  Remote Digital Loopback with Self Test: Tests the path that includes the 
  5324	local modem, remote modem, and telephone circuit with an internally generated 
  5325	test pattern. This test requires a CCITT compatible modem.
  5326	
  5327	*  Local Digital Loopback: Tests the communication link, the local modem, and 
  5328	the remote modem (permits a non-CCITT compatible, remote modem to engage in a 
  5329	digital loopback test with the local modem)
  5330	
  5331	All digital loopback tests must be performed while the modem is configured for 
  5332	asynchronous operation. Before beginning, place the modem in the asynchronous 
  5333	mode with the &Q0 command.
  5334	
  5335	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5336	B.4.2.Performing a Test
  5337	Tests are performed by issuing AT commands to the modem. Some tests require a 
  5338	connection be established. Others, like the internal memory diagnostics and 
  5339	analogue loopback tests, check the local modem only and therefore do not 
  5340	require a link with a remote modem. The procedures below explain how to 
  5341	initiate and terminate tests.
  5342	
  5343	............................................................................
  5344	B.4.2.1.Initiating a Test
  5345	All of the diagnostic tests must be initiated from the asynchronous command 
  5346	state (&Q0). To use the loopback tests:
  5347	
  5348	*  establish a connection (except when running Analog Loopback L3 test)), and 
  5349	return to the command state by issuing the escape sequence (+++), or if the 
  5350	&D1 DTR option is selected, by generating an on-to-off transition on DTR
  5351	
  5352	*  issue the appropriate &T command once in the command state.
  5353	
  5354	These tests are performed from the asynchronous command state. The results of 
  5355	these tests may be will help check out the modem's function and the quality of 
  5356	the communications link.
  5357	
  5358	............................................................................
  5359	B.4.2.2 Terminating a Test in Progress - &T0
  5360	A test may be terminated from the command state at any time by issuing the &T0 
  5361	command to the modem. If the local analogue loopback or remote digital 
  5362	loopback tests are being performed, it is necessary to issue the escape 
  5363	sequence to return to the command state before sending the &T0 command. 
  5364	Commands that follow &T0 in a command line are ignored.
  5365	
  5366	Entering the H0 command will terminate a test, leaving the value of S18 at its 
  5367	current value; resetting with the Z command terminates the test, resetting the 
  5368	value of S18 to 0. A soft reset with the Z command re-configures the modem 
  5369	with the selected user profile. Both techniques break the connection.
  5370	
  5371	............................................................................
  5372	B.4.2.3 Setting the Test Timer - S18=
  5373	The test timer determines the duration of a test. S18, when set to a non-zero 
  5374	value, establishes the duration of the modem's diagnostic tests. When a test 
  5375	has been active for a period equal to the value chosen for this register (from 
  5376	1 to 255 seconds), the modem will automatically stop the test and return to 
  5377	the command state.
  5378	
  5379	For example, if the register is set to 10 (ATS18=10<CR>), a test, when 
  5380	initiated, will continue for 10 seconds. Setting S18 to zero (ATS18=0<CR>) 
  5381	disables the test timer (factory setting). Tests are then terminated with the 
  5382	&T0 command or by resetting the modem.
  5383	
  5384	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5385	B.4.3.Testing with Analog Loopback
  5386	Use the analog loopback tests if you suspect the modem is causing errors in 
  5387	data transmission. The local analog loopback test will verify both the local 
  5388	modem and the local data terminal equipment. If this test fails, the data 
  5389	terminal equipment rather than the modem may be at fault. The local analog 
  5390	loopback with self test will verify the integrity of the local modem only. If 
  5391	this test fails, the local modem is at fault. If the modem passes both of 
  5392	these tests, attempt the remote digital loopback with self test to verify the 
  5393	modem-to-modem communication path.
  5394	
  5395	............................................................................
  5396	B.4.3.1.Local Analog Loopback L3 - &T1
  5397	Use the analog loopback test if you suspect the modem is causing errors in 
  5398	data transmission. The local analog loopback test will verify both the modem 
  5399	and the local computer. If the local analog loopback test fails, the local 
  5400	computer may be at fault. 
  5401	
  5402	Note: This test may be performed with a V.21, V.22, V.22bis, or V.23 
  5403	connection.
  5404	
  5405	Set the local computer to echo characters and the local modem to echo commands 
  5406	received from the local computer (the E1 option selected). Initiate the test 
  5407	with &T1. Type a few sentences; they will be looped back to the local 
  5408	computer.
  5409	
  5410	If the modem echoes your keyboard input to the screen as you typed it, the 
  5411	modem is operating correctly. If not, the modem may be faulty. To end the 
  5412	test, enter the command state (+++) and issue the &T0 command.
  5413	
  5414	............................................................................
  5415	B.4.3.2 Local Analog Loopback with Self Test - &T8
  5416	This test is used to verify the integrity of the local modem's transmit and 
  5417	receive circuits. During this test, an internally generated test pattern is 
  5418	transmitted from the modem, looped back into the receiver circuit, and 
  5419	compared with the original pattern for any errors. 
  5420	
  5421	Note: This test may be performed with a V.22 or V.22bis connection (&Q0 and B0 
  5422	selected).
  5423	
  5424	Set the computer to echo characters and the local modem to echo commands 
  5425	received from the computer (the E1 command selected). Initiate the test with 
  5426	&T8. When the test is terminated, with the &T0 command, the modem will return 
  5427	a three-digit test result (e.g., 000=no errors, 012=12 errors). If the error 
  5428	count reported is 000, the local modem passed the test. An error count of 255 
  5429	indicates that 255 or more errors were detected.
  5430	
  5431	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5432	B.4.4 Testing with Digital Loopback
  5433	Local digital loopback and remote digital loopback together test all of the 
  5434	components in the communication link, including the modems. Data sent from one 
  5435	modem is looped back to it by the other modem without going through the other 
  5436	modem's computer. Local digital loopback tests the communication link from the 
  5437	remote modem; remote digital loopback tests the communication link from the 
  5438	local modem.
  5439	
  5440	When local and remote digital loopback indicate a modem problem rather than a 
  5441	communication link problem, both parties should run local analogue loopback to 
  5442	test the modems. If both modems test good but problems persist, disconnect and 
  5443	place another call. If the problem still exists, the phone line or another 
  5444	component in the communication link is faulty.
  5445	
  5446	............................................................................
  5447	B.4.4.1 Remote Digital Loopback L2 - &T6
  5448	Remote digital loopback verifies the operation of both modems, the local 
  5449	computer, and the telephone circuit, by commanding the remote modem to loop 
  5450	data sent to the remote system back to the local modem. 
  5451	
  5452	Note: This test may be performed with a V.22 or V.22bis connection and &Q0 
  5453	mode selected.
  5454	
  5455	Before initiating remote digital loopback, establish a connection with a 
  5456	remote modem. Then, enter the command state and issue the &T6 command to begin 
  5457	the test.
  5458	
  5459	Type a few sentences; they will be looped back to the local computer without 
  5460	appearing on the remote screen. If the modem echoes your keyboard input to the 
  5461	screen as you typed it, the modem is operating correctly. If the received data 
  5462	does not match what you typed, one of the modems or the local communication 
  5463	link is not functioning properly. To end the test, enter the command state and 
  5464	issue the &T0 command.
  5465	
  5466	Note: The local modem requests a digital loopback with the remote modem 
  5467	through a special CCITT standard handshake sequence. The remote modem 
  5468	automatically acknowledges the request if it has been conditioned to do so 
  5469	with the &T4 command. (See the discussions on the &T4 and &T5 commands.) If 
  5470	the remote modem is not Hayes-compatible, it may not permit this test to be 
  5471	executed from the local modem (response will be ERROR). However, if the remote 
  5472	user can put the modem into local digital loopback or an equivalent state, the 
  5473	test can be performed from the local modem.
  5474	
  5475	............................................................................
  5476	B.4.4.2 Remote Digital Loopback with Self Test - &T7
  5477	This test verifies operation of the local modem, the remote modem, and the 
  5478	telephone circuit. The local modem sends a self test pattern to the remote 
  5479	station. The remote modem, when configured to grant remote digital loopback 
  5480	(with &T4), loops its receive data stream back to the local system. The local 
  5481	modem examines the receive pattern and increments an internal error counter 
  5482	each time an error is detected.
  5483	
  5484	Note: This test may be performed with a V.22 or V.22bis connection and &Q0 
  5485	mode selected.
  5486	
  5487	Before beginning the test, establish a connection with a remote modem. Then, 
  5488	enter the command state and initiate the remote digital loopback by issuing 
  5489	&T7. When the test is terminated with the &T0 command, the modem will return a 
  5490	three-digit test result (e.g., 000=no errors; 012=12 errors). If the error 
  5491	count reported is 000, the local and remote modems and the telephone circuit 
  5492	passed the test. If errors were encountered, initiating a local analogue 
  5493	loopback test will further isolate the source of the problem. An error count 
  5494	of 255 indicates that 255 errors or more errors were detected.
  5495	
  5496	............................................................................
  5497	B.4.4.3 Local Digital Loopback - &T3
  5498	Local digital loopback tests the communication link and the remote modem. 
  5499	During this test, the local modem loops incoming data directly back to the 
  5500	remote modem.
  5501	
  5502	To begin local digital loopback, establish a connection with a remote modem, 
  5503	then enter the command state and issue the &T3 command.
  5504	
  5505	The operator at the remote system should type in a few sentences. They will be 
  5506	looped back to the remote computer. When the operator at the remote system 
  5507	indicates that the test is complete, issue the &T0 command to end the test. If 
  5508	the operator at the remote system reports that the data came back without 
  5509	errors, the remote modem and the communication link are functioning properly.
  5510	
  5511	............................................................................
  5512	B.4.4.4 Grant RDL Request from Remote System - &T4
  5513	This command configures the local modem to grant a request from the remote 
  5514	modem for a remote digital loopback test (factory setting).
  5515	
  5516	............................................................................
  5517	B.4.4.5 Deny RDL Request from Remote System - &T5
  5518	This command prohibits the local modem from granting a request from the remote 
  5519	modem for a remote digital loopback test.  
  5520	
  5521	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5522	B.4.5 Testing the Tone Dialer - &T2
  5523	This command allows testing of the modem's multi-frequency tone dialer by 
  5524	sending out continuous tones of the keypad characters (0-9, A-D, *, #).
  5525	
  5526	To generate any tone combination, type:
  5527	
  5528	AT X1 &T2 DT (followed by one of the keypad characters: 0-9, A-D) <CR>
  5529	
  5530	The modem will transmit a continuous tone pair until the <CR> key is pressed 
  5531	or &T0 is entered to terminate the test.
  5532	
  5533	
  5534	*****************************************************************************
  5535	B.5 Testing the Cable
  5536	The cable (If used to connect the modem to the DTE, rather than through an 
  5537	internal slot) is an integral part of the communication link. Even if the DTE, 
  5538	serial card, and modem support all of the signals necessary for full 
  5539	communications, if the cable supports only transmit and receive signals, 
  5540	communication may be limited.
  5541	
  5542	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5543	B.5.1 Cable Quality
  5544	High-speed and lengthy distances between the modem and the DTE are two reasons 
  5545	to make sure of characteristics like shielding that quality of the cable is 
  5546	full pinning should be used according to the EIA232-D/CCITT V.24 standards 
  5547	descriptions at the end of this chapter.
  5548	
  5549	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5550	B.5.2 Checking Cable Signals - &T19
  5551	The &T19 command was created to provide a way for software to test the 
  5552	capabilities of the cable between the DTE and the modem, instead of assuming 
  5553	that the RTS/CTS lines (used for hardware local flow control) were supported 
  5554	in a cable. This command is implemented in Hayes Smartcom Products; when 
  5555	setting up the modem, one of its initial operations is issuing this command. 
  5556	The command is fully documented in Chapter One. The signals tested by this 
  5557	command are according to the EIA 232-D/CCITT V.24 standards described in the 
  5558	next section.
  5559	
  5560	
  5561	*****************************************************************************
  5562	B.6 Testing Internal Memory
  5563	The various forms of the I command instruct the modem to query its memory for 
  5564	information about itself. Although the results of these test are most 
  5565	frequently used by Hayes Customer Service, some software also uses the 
  5566	responses when determining how to set up the modem prior to communication. 
  5567	These tests request information about the modem's firmware; therefore, it is 
  5568	unnecessary to connect with a remote system before issuing the I command. The 
  5569	various options for this command are explained fully in Chapter One.
  5570	
  5571	
  5572	
  5573	==============================================================================
  5574	Appendix C:
  5575	Modem-to-DTE Interface
  5576	
  5577	
  5578	This appendix discusses the requirements and capabilities of the modem's 
  5579	interfaces to the DTE line. External modems interface to the DTE according to 
  5580	the EIA 232-D standard. The particulars of this interface for Smartmodem 300, 
  5581	Smartmodem 1200, Smartmodem 2400, Smartmodem 9600, V-series Smartmodem 2400, 
  5582	and V-series Smartmodem 9600 are described. Hayes internal modems use the EIA 
  5583	232-D signals, although the specific use of these circuits is determined by 
  5584	the bus interface of the computer.
  5585	
  5586	*****************************************************************************
  5587	C.1 EIA 232-D/CCITT V.24 Interfaces
  5588	EIA 232-D is the EIA (Electronic Industries Association) definition of the 
  5589	electrical interface used for connections of data terminal equipment (DTE) to 
  5590	data circuit terminating equipment (DCE). This standard has typically been 
  5591	referred to as RS 232-C; however, when it became an accepted standard (EIA) 
  5592	rather than a recommended standard (RS), the Association revised the version 
  5593	"D."
  5594	
  5595	Although not exactly the same, EIA 232-D is compatible with CCITT V.24, V.28, 
  5596	and ISO IS2110 standards. This standard prescribes the interface to the local 
  5597	DTE and normally uses a DB-25 connector with 13 pins in one row and 12 in the 
  5598	other. EIA 232-D supports speeds up to 20 Kbps at a distance of 50 feet. EIA 
  5599	232-D falls under layer one (physical layer) of the OSI (Open Systems 
  5600	Interconnection) model.
  5601	
  5602	Hayes modems support the electrical portion of the EIA 232-D standard 
  5603	completely. However, signal definition varies from modem to modem.
  5604	
  5605	
  5606	*****************************************************************************
  5607	C.2 Signals Used in the EIA 232-D Interface
  5608	
  5609	The following signal types are used in the EIA 232-D interface. All of these 
  5610	types are not required for all communications. Their corresponding CCITT V.24 
  5611	equivalents are also provided.
  5612	
  5613	Ground signals are present for protection and signal reference. These signals 
  5614	are present on pins 1 and 7 of the interface. (7 always needed)
  5615	
  5616	Data signals are used to transmit and receive data across the interface. The 
  5617	pins used are 2 for transmit and 3 for receive. (always needed)
  5618	
  5619	Control signals are used to ensure that both the DTE and DCE are ready before 
  5620	any information is transmitted. These signals are also used for flow control 
  5621	during the transfer of data. Pins 4, 5, 6, 8, 20, and 22 are control signals. 
  5622	(need depends on the application)
  5623	
  5624	Timing signals control the rate at which data is transmitted and received 
  5625	across the interface. These signals are only used for synchronous transmission 
  5626	and are located on pins 15, 17, and 24.
  5627	
  5628	The EIA 232-D signals and their CCITT equivalents are outlined below:
  5629	
  5630	Inter-    CCITT   Description                Pin   To     To 
  5631	change    equiva-                                  DTE    DCE
  5632	circuit   lent
  5633	--------------------------------------------------------------------
  5634	AA        101     Protective Ground            1
  5635	AB        102     Signal Ground                7
  5636	
  5637	BA        103     Transmitted Data             2            *
  5638	BB        104     Received Data                3     *
  5639	
  5640	CA        105     Request to Send (RTS)        4            *
  5641	CB        106     Clear to Send (CTS)          5     *
  5642	
  5643	CC        107     Data Set Ready (DSR)         6     *
  5644	CD        108.2   Data Terminal Ready (DTR)   20            *
  5645	CE        125     Ring Indicator (RI)         22     *
  5646	
  5647	CF        109     RLSD (DCD)                   8     *
  5648	CG        110     Signal Quality Detector     21     *
  5649	
  5650	CH        111     Data Signal Rate Detect DTE 23            *
  5651	CI        112     Data Signal Rate Detect DCE 12     *
  5652	
  5653	DA        113     Transmitter Signal Element  24            *
  5654	DB        114     Transmitter Signal Element  15     *
  5655	
  5656	DD        115     Receiver Signal Timing      17     *
  5657	SBA       118     Secondary Transmit          14            *
  5658	
  5659	SBB       119     Secondary Receive           16     *
  5660	SCA       120     Secondary RTS               19            *
  5661	
  5662	SCB       121     Secondary CTS               13     *
  5663	SCF       122     Secondary DCD               12     *
  5664	
  5665	
  5666	*****************************************************************************
  5667	C.3 EIA 232-D Signal Definitions
  5668	This section provides definitions of the signals used for modem operation. The 
  5669	circuit is first defined according to EIA 232-D, then its use explained 
  5670	according to the way it is used by Hayes modems.
  5671	
  5672	Protective Ground (pin 1) is connected to the equipment frame. The ground pin 
  5673	is electronically bonded to the the modem case for external Smartmodem and V-
  5674	series System Products, and to the computer's housing through the particular 
  5675	bus for internal modems. Hayes Personal Modem Products do not use this signal. 
  5676	
  5677	Transmit Data (pin 2) is data that is transmitted from the DTE to the DCE 
  5678	device. Data should not be placed on this pin unless the RTS, CTS, DSR, and 
  5679	DTR signals are on. This is the circuit that carries the data from the 
  5680	attached computer or terminal to the modem for transmission across the 
  5681	telephone lines.
  5682	
  5683	Receive Data (pin 3) is data that is transmitted from the DCE to DTE. This 
  5684	circuit carries the data from the modem to the attached computer or terminal.
  5685	
  5686	Request To Send (pin 4) requests the channel for data transmission and is 
  5687	usually ignored during asynchronous operation. It is also used to control the 
  5688	direction of transmission on a half-duplex link. This signal indicates whether 
  5689	the attached DTE is ready to receive data. When the modem is operating 
  5690	asynchronously, this signal is always on, indicating that the modem can send 
  5691	at any time. The circuit functions the same way in error-control mode, unless 
  5692	the RTS/CTS local flow control method has been selected. In this case, the 
  5693	modem uses this signal to determine when the DTE is ready to receive data. In 
  5694	synchronous, on-line operation, the modem can be configured to ignore RTS or 
  5695	respond to RTS by turning on CTS after the delay specified by S26. The modem's 
  5696	use of this signal is controlled by the &R command. When in command state, the 
  5697	modem always ignores RTS.
  5698	
  5699	Clear To Send (pin 5) An ON condition of this signal indicates that the modem 
  5700	is ready to transmit data. This signal comes high after both DSR and DCD go 
  5701	high. This signal indicates whether the modem is ready to accept data, from 
  5702	the attached DTE for transmission. When the modem is operating asynchronously, 
  5703	this signal is always on, indicating that the modem can receive data at any 
  5704	time. In error-control mode, the signal is maintained on unless RTS/CTS local 
  5705	flow control has been selected. In this case, the modem uses this signal to 
  5706	indicate to the DTE that the modem is ready to receive data. When operating 
  5707	synchronously, but in the asynchronous command state, the modem also maintains 
  5708	the CTS signal on. The modem turns CTS off immediately upon going off-hook, 
  5709	and maintains CTS off until both DSR and DCD are on and the modem is fully 
  5710	prepared to transmit and receive synchronous data. The modem can also be 
  5711	configured to turn CTS on in response to an off-to-on transition of RTS (see 
  5712	discussion of &R command).
  5713	
  5714	Data Set Ready (pin 6) An ON condition indicates that the modem is off hook 
  5715	and is not in test mode. The signal normally goes high as soon as a remote 
  5716	carrier is detected. This signal indicates whether the modem is connected to a 
  5717	communication channel and is ready to exchange control characters to initiate 
  5718	data transmission. In asynchronous or error-control mode, the modem can be 
  5719	configured to maintain this signal on at all times or have it reflect the 
  5720	actual state of the DSR circuit.
  5721	
  5722	Signal Ground (pin 7) establishes a common ground reference potential for all 
  5723	signal circuits.
  5724	
  5725	Data Carrier Detect - RLSD (pin 8) is turned on when the modem receives a 
  5726	signal from the remote modem that meets the criteria for demodulation. This 
  5727	signal indicates whether the receiver section of the modem is or is not 
  5728	accepting transmitted data. In asynchronous or error-control mode, the modem 
  5729	can be configured to maintain this circuit on at all times, or to track the 
  5730	presence of a data carrier from the remote modem. In synchronous mode, this 
  5731	circuit always tracks the presence of data carrier. See the discussion of the 
  5732	&C command.
  5733	
  5734	Transmitter Clock (pin 15) provides the DTE with bit timing clock in 
  5735	synchronous mode of operation. This signal synchronizes the local modem 
  5736	transmitter with the receiver of the remote modem receiver. The clocking for 
  5737	this signal can be sourced from the local modem, the receive carrier, or the 
  5738	attached computer (from pin 24). Selection is made with the &X command. 
  5739	Regardless of the source of this clock, this signal is applied by the modem to 
  5740	pin 15 of the RS-232 connector and is used by the DTE to time the transmission 
  5741	of serial data on the TD circuit (pin 2). This signal pertains to synchronous 
  5742	communications only.
  5743	
  5744	Receive Clock (pin 17) provides the DTE with receive bit timing clock in 
  5745	synchronous mode of operation. This signal provides the receiver section of 
  5746	the modem with timing information. The modem always derives this signal from 
  5747	the receive carrier, and applies it to pin 17. This signal is used by the data 
  5748	terminal to time the incoming bit stream from the local modem (RD - pin 3). 
  5749	This signal pertains to synchronous communications only.
  5750	
  5751	Data Terminal Ready (pin 20) indicates to the DCE that the DTE is ready for 
  5752	transmission. It may also be used for call termination. This signal prepares 
  5753	and maintains the connection to a remote system. The modem can be configured 
  5754	for a variety of responses to the DTR signal, as required for the 
  5755	communication mode (asynchronous versus synchronous) or communication 
  5756	environment (attached DTE or software). See the &D command discussion.
  5757	
  5758	Ring Indicator (pin 22) gives an indication of a ring being received on the 
  5759	telephone line. This circuit carriers signal information to indicate the modem 
  5760	is receiving call signals (ring/tones). The modem turns on this signal 
  5761	whenever an incoming ring is detected. When the modem is configured for 
  5762	AutoSync, this pin carries a signal to indicate the end of a synchronous 
  5763	frame, and does not monitor incoming rings.
  5764	
  5765	Transmitter Clock (pin 24) provides the modem with transmit signal element 
  5766	timing information (optional). If the DTE sources the transmit signal element 
  5767	timing on this pin, the modem can be configured to use this clock signal 
  5768	rather than its own internal clock. This signal pertains to synchronous 
  5769	communications only.
  5770	
  5771	Alternate Rate Select (pins 12 and 23) The modem turns on this signal on 
  5772	either of these pins to indicate the selection of the current line speed. 
  5773	
  5774	*****************************************************************************
  5775	C.4 Modem Interface Connector
  5776	External modems typically interface to the attached computer or other DTE 
  5777	through a serial port connector. The connector used on external Smartmodem 
  5778	Products and V-series System Products as the modem-to-DTE interface, is a  
  5779	male DB-25 connector. Personal Modem Products use an eight-pin DIN connector. 
  5780	Internal modems interface according to the bus structure of the computer in 
  5781	which the modem is installed. For specific information on a particular bus 
  5782	structure, see the owner's manual or reference guides for that computer.
  5783	
  5784	The table below indicates the way Hayes modems with this type of connector use 
  5785	the pins to carry EIA 232-D and CCITT V.24 signals. The DTE may use certain 
  5786	signals differently, or may not use them at all.
  5787	
  5788	
  5789	Pin  Signal Name
  5790	-------------------------------------------------------------------
  5791	1    Protective Ground - PG
  5792	2    Send Data - SD
  5793	3    Receive Data - RD
  5794	4    Request to Send - RTS
  5795	5    Clear to Send - CTS
  5796	6    Data Set Readey - DSR
  5797	7    Signal Ground - SG
  5798	8    Carrier Detect - CD
  5799	9    Reserved for Test
  5800	10   Reserved for Test
  5801	11   Unassigned
  5802	12   Secondary Carrier Detect
  5803	13   Secondary Clear to Send
  5804	14   Secondary Transmitted Data
  5805	15   Transmit Timing - TT
  5806	16   Secondary Received Data 
  5807	17   Receiver Timing - RT
  5808	18   Unassigned
  5809	19   Secondary Request to Send
  5810	20   Data Termfifnal Ready - DTR
  5811	21   Signal Quality Detect 
  5812	22   Ring Indicate - RI
  5813	23   Data Signal Rate Select
  5814	24   Transmit Timing TT
  5815	25   Unassigned
  5816	
  5817	The physical connector as well as the pin numbers of the end of the cable on 
  5818	the DTE side will vary according to the DTE's serial port.
  5819	
  5820	
  5821	
  5822	=============================================================
  5823	Appendix D:
  5824	Modem Application Development
  5825	
  5826	
  5827	This appendix offers suggestions for developing applications software using 
  5828	the AT command set. The techniques described apply to Hayes modems in general 
  5829	except where specifically indicated. Although provided here, this information 
  5830	is intended for experienced programmers who want assistance in modem 
  5831	application development.
  5832	
  5833	
  5834	*****************************************************************************
  5835	D.1 Modem Identification
  5836	The initial concern for most communications software is modem identification. 
  5837	Before the software determines the type of modem (e.g., is it a Hayes modem, a 
  5838	high-speed modem, what features does it support - error-control or 
  5839	compression?). If the AT command controller portion of the software will be 
  5840	designed to work with a known set of modems, the controller can be much 
  5841	simpler as the variables it must address are fewer as the predictable behavior 
  5842	of the modems within the given feature set that will be addressed by the 
  5843	software.
  5844	
  5845	Because the type of modem that will be present, certain assumptions can be 
  5846	made regarding modem characteristics, such as maximum transmission rate, 
  5847	support of V-series AT commands or specific commands such as L or X. If a more 
  5848	general application is being designed for an environment about which 
  5849	assumptions cannot be made regarding type or brand of modem that might be 
  5850	used, the software's first task should be to identify the modem.
  5851	
  5852	The I0 and I4 command options make this process simple. In the initial 
  5853	versions of Smartmodem 1200, I0 returned the three digit response: 120. Since 
  5854	then, responses have been extended for several groups identifying modem 
  5855	supporting 2400 bps, 9600 bps, and other products. The I0 response simply 
  5856	indicates the speed category of the modem.
  5857	
  5858	The result of the I0 command is a three digit number which identifies the 
  5859	category of modem product. Some unique I0 values can be used to identify a 
  5860	unique product which has specific behaviors. 960, for example, identifies a V-
  5861	series System Product capable of 9600 bps, which has additional commands and 
  5862	behaviors.
  5863	
  5864	The I4 command option was added when the V-series System Products were 
  5865	introduced. This option provides a reliable means of communicating specific 
  5866	features and modulation protocols to software. The responses to the I4 command 
  5867	are strings delimited by <CR> and beginning with a lowercase letter and 
  5868	typically followed by a hex-character bit-map. The I0 and I4 responses 
  5869	currently defined are detailed in the description of the I4 command in Chapter 
  5870	One.  The tables show the decoding of the hex-map returned in the "a" 
  5871	(Smartmodem features), and "b" (V-series features) bit-mapped strings. If I4 
  5872	is used to identify features of the modem, consider that new result strings 
  5873	are periodically defined that may be returned in addition to those expected. 
  5874	Fields once designated as "reserved" that held a zero may now have values 
  5875	assigned. The strings themselves may also be different of lengths than 
  5876	previously implemented.
  5877	
  5878	In spite of the modifications to this command necessary to maintain currency 
  5879	with new modems, the I4 command is the best way for software to determine the 
  5880	modem type and capability, if the guidelines below are considered:
  5881	
  5882	*  I0 or I4 commands should be issued at 1200 bps. All Hayes products 
  5883	(including the Smartmodem 300) respond to AT commands at 1200 bps. Most other 
  5884	brands also respond at 1200 bps. You can switch to a higher transmission rate 
  5885	once the modem has been identified.
  5886	
  5887	*  Result codes should be parsed as strings surrounded by <CR><LF>. The string 
  5888	will begin with a lower-case letter followed by up to 39 additional 
  5889	characters.
  5890	
  5891	-------------------------------------------------------------------
  5892	*  After all result strings have been sent, an OK result is returned that 
  5893	obeys the V and Q command settings.
  5894	
  5895	*  ERROR, OK, or a three digit result in response to the I4 command should be 
  5896	expected. These results may be returned by products shipped before the I4 
  5897	command was introduced, or by non-Hayes products.
  5898	
  5899	*  The length of the strings may be different than anticipated If shorter than 
  5900	expected, empty positions should be presumed zeros. If longer than expected, 
  5901	extra characters should be ignored.
  5902	
  5903	*  Some non-Hayes brand modems return unpredictable results in response to I0 
  5904	or I4 commands. One brand of modem actually responds with its configuration 
  5905	when the I4 command is sent.
  5906	
  5907	An example I4 command and response is shown below:
  5908	
  5909	AT E0 V1 Q0 S0=0 I4 <CR> 
  5910	
  5911	response:
  5912	
  5913	<CR><LF>a087840C004424<CR><LF> 
  5914	<CR><LF>bF60410000<CR><LF> 
  5915	<CR><LF>cUS<CR><LF>  
  5916	<CR><LF>m0000000001001FFFF<CR><LF> 
  5917	<CR><LF>OK<CR><LF> 
  5918	
  5919	Note: each I4 result is surrounded by <CR><LF>, not all responses are hex-
  5920	strings, and some responses may not be expected at all.
  5921	
  5922	
  5923	*****************************************************************************
  5924	D.2 Result Code Recognition
  5925	Hayes-compatible modems support verbose and numeric forms of result codes. 
  5926	Unless echo may be a problem and will be installing the controller in a 
  5927	limited-growth environment, verbose results rather than numeric results are 
  5928	preferable. Numeric result codes were originally intended to make it easier 
  5929	for software to control the modem, but there are two primary reasons they 
  5930	should not be used:
  5931	
  5932	Software can be confused by a command echo. For example, if the following 
  5933	command were sent with echo on (E1) and numeric results (V0):
  5934	
  5935	AT ... S9=20 <CR>
  5936	
  5937	The resulting data, echoed by the modem, would be followed by the numeric 
  5938	result code zero, meaning OK:
  5939	
  5940	AT ... S9=20<CR>0 <CR>
  5941	
  5942	Software may become confused by seeing a 0<CR> result which is actually part 
  5943	of the command echo, then another 0<CR> which is the numeric result. A program 
  5944	can become out of synchronization with the command processor in the modem.
  5945	
  5946	Turning off echo mode (E0) in the initial setup string would solve this 
  5947	problem; however, do not end that command with any digits (simply E).
  5948	
  5949	Another shortcoming of numeric results is that the software must anticipate 
  5950	all possible responses. This requires updating of controller software whenever 
  5951	new result codes are added. For example, suppose a CONNECT 115200 result were 
  5952	added with a numeric value of 31. If verbose results were used instead, and 
  5953	the controller directed to interpret the number after the CONNECT result as 
  5954	simply the connection speed in bits per second, no changes to the driver are 
  5955	necessitated by the new result code. If, however, numeric result codes were 
  5956	used, the result code 31 must be added to the table, and the controller 
  5957	modified to interpret it appropriately.
  5958	
  5959	As characters are received, they should be processed through a state machine 
  5960	providing the functionality of the one outlined below. This state machine 
  5961	recognizes strings surrounded by <CR><LF> characters and store the string in a 
  5962	character array. <CR><LF> are defined by the S3 and S4 registers.
  5963	
  5964	Sample State Machine
  5965	
  5966	Initialize with: state = 1 ;
  5967	
  5968	ch = <next character from the input>
  5969	switch( state )
  5970	{
  5971	case 1:     /*-- Scanning for leading CR --*/
  5972	               if( ch == CR ) state = 2 ;
  5973	               i = 0 ;
  5974	               break ;
  5975	case 2:     /*-- Scanning for leading LF --*/
  5976	               if( ch == LF ) state = 3 ;
  5977	               else if( ch == CR ) state = 2 ;
  5978	               else state = 1 ;
  5979	               break ;
  5980	case 3:     /*-- Buffer result, watch for trailing CR --*/
  5981	               if( ch == CR ) state = 4 ;
  5982	               else buf[ i++ ] = ch ;
  5983	               if( i > LIMIT ) state = 1 ;
  5984	               break ;
  5985	case 4:     /*-- Scanning for trailing LF --*/
  5986	               if( ch == LF ) state = 5 ;
  5987	               else if( ch == CR ) state = 2 ;
  5988	               else state = 1 ;
  5989	               break ;
  5990	}
  5991	if( state == 5 )
  5992	{
  5993	     buf[ i ] = 0 ; /* Null terminate buffer */
  5994	     <process result in 'buf'>
  5995	     state = 1 ;
  5996	}
  5997	
  5998	This state machine can be imbedded within a loop that reads all received data 
  5999	one character at a time, checks for a timeout, and also checks for user abort. 
  6000	Once a result is recognized, that loop can be exited or continued if 
  6001	additional results are expected.
  6002	
  6003	Once a result code string is returned, it can be compared against the known 
  6004	result code strings. Some strings may incorporate wild-card suffixes. For 
  6005	example CONNECT followed by any numeric value indicates a successful 
  6006	connection at the indicated transmission rate. Even if a result such as 
  6007	CONNECT 38400 is not anticipated, if the controller has been coded for wild-
  6008	card recognition, the controller will be capable of interpreting such 
  6009	responses correctly. This practice also facilitates interpretation of 
  6010	connection failed messages that are preceded by NO followed by any other 
  6011	character string such as DIALTONE, CARRIER, or ANSWER.
  6012	
  6013	
  6014	*****************************************************************************
  6015	D.3 Modem Preparation
  6016	Once the modem has been identified, the controller can continue to program any 
  6017	registers or user-defined values into the modem necessary prior to initiating 
  6018	the connection process. Typically, the setup operation is separated from the 
  6019	connection processing because it is performed independently of whether the 
  6020	call establishment will be in the originating or answering mode.
  6021	
  6022	Setup commands can be issued at the highest transmission rate the modem 
  6023	supports as determined from the identification process or it may be fixed at a 
  6024	certain value if the modem is not identified.
  6025	
  6026	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6027	D.3.1 Reset
  6028	Before issuing any other commands to the modem, it is advisable to issue a Z 
  6029	or &F command to the modem before the identification or setup process. No 
  6030	specific response should be anticipated. The modem may be setup to return 
  6031	numeric, or no result codes. If a reset will be used, the following points 
  6032	should be considered:
  6033	
  6034	*  Even if a recognizable result within 2.6 seconds, the program should 
  6035	continue. (Some modems do a lengthy reset process before responding with a 
  6036	result; others may be in Q1 or V0 mode).
  6037	
  6038	*  Following an OK result, an additional 600ms delay should be imposed. Some 
  6039	modems will respond with an OK then do lengthy reset processing, in which case 
  6040	they are unable to accept additional commands.
  6041	
  6042	After the modem is reset, the first setup string (e.g., verbose rather than 
  6043	numeric result codes) should be issued, then the identification command.
  6044	
  6045	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6046	D.3.2 Setup
  6047	Software should generally provide some modem setup. However, the software can 
  6048	be written to rely on modem configuration via a stored profile recalled on 
  6049	reset, or  by DIP switches set depending on the product. In this case, any 
  6050	unique settings must have been setup prior to running the software, and all 
  6051	the program does is send the Z command to recall the the desired profile. Even 
  6052	more basically, software can assume the is in the power-up state. However, 
  6053	unless the software will be used within a very predictable environment, these 
  6054	assumptions may result in failures with the controller software.
  6055	
  6056	Some commands will always be overridden by the controller in order to ensure 
  6057	its proper functioning. Other commands options should either default to the 
  6058	factory setting, or simply act as the "transfer agent" for the commands 
  6059	specified by the user. Menus and dialogs can be provided to prompt the user 
  6060	for specific activities; the program can then interpret these requests and 
  6061	configure the modem accordingly, as Hayes Smartcom Products do, or provide the 
  6062	user opportunity to enter AT command strings.
  6063	
  6064	Commands frequently set by a modem controller:
  6065	
  6066	E0 - Turn off echo mode to avoid having command echoes pass through the result 
  6067	code scanner
  6068	
  6069	Q1 - Enable result codes to ensure that commands are being processed, and to 
  6070	synchronize with the modem command processor (except for synchronous 
  6071	communications where result codes may cause the DTE confusion)
  6072	
  6073	V0 or V1 - Use either verbose (recommended) or numeric result codes
  6074	
  6075	S0=0 Disable auto-answer during the setup process to avoid inadvertent 
  6076	disruption by an incoming call
  6077	
  6078	H0 - Ensure modem is on hook before continuing to the answer or originate step
  6079	
  6080	S12=10 Set the escape guard time to 200ms to hasten the escape for hang-up 
  6081	process. Also reduces the probability of inadvertent user escapes
  6082	
  6083	S2=* Change the escape character for two reasons: To avoid inadvertent user 
  6084	escapes, and to provide different escape characters for answer and originate 
  6085	sides. This prevents inadvertent escaping when data is echoed
  6086	
  6087	S4=* Modify the linefeed character to make the <CR><LF>NO CARRIER<CR><LF> 
  6088	result code more unique if you scan for it to detect carrier loss
  6089	
  6090	A typical setup sequence using these recommendations is shown below:
  6091	
  6092	AT E Q V S0=0 H S12=10 S2=28 S4=31 <CR>
  6093	
  6094	Note that where the zero suffix is used, it is omitted. Spaces are shown above 
  6095	for readability, but the use of spaces between commands is not recommended. 
  6096	
  6097	Once this setup command has been sent, and the OK response returned, the 
  6098	controller can continue to the originate or answer processing.
  6099	
  6100	If user-programmed settings are included in additional setup strings, or the 
  6101	user is permitted to enter AT setup strings, the software should anticipate 
  6102	ERROR result codes. If an ERROR is returned in response to such a command, the 
  6103	result does not have to be reported to the user, but the controller should not 
  6104	be prevented from continuing in either case. Many times a connection can be 
  6105	made even though some setting is in error or is inappropriate for the class of 
  6106	modem being addressed.
  6107	
  6108	
  6109	*****************************************************************************
  6110	D.4 Connect Processing
  6111	Once the setup operation has been completed , the commands to establish the 
  6112	connection can be issued. The instruction can be either to originate (using 
  6113	the D command), or to answer (using the A or S0 commands).
  6114	
  6115	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6116	D.4.1 Originating a Call
  6117	If the D command is issued with the desired phone number, several possible 
  6118	result codes can be returned. The list below outlines some results to expect:
  6119	
  6120	Result Code         Meaning
  6121	-----------------------------------------------------------------------------
  6122	NO CARRIER          Connection failed
  6123	NO ANSWER           No response to '@' dial modifier
  6124	NO DIALTONE         No dial tone in X4 mode
  6125	NO ____             Connection failed for some other reason
  6126	BUSY                Busy signal detected
  6127	CONNECT ____        Connection successful, change DTE speed to the indicated 
  6128	baud rate.
  6129	CARRIER ____        * DCE carrier speed (information only)
  6130	PROTOCOL: ____      * V-Series protocol being used
  6131	
  6132	Ignore other responses, but continue to wait for CONNECT ___ or NO ___ 
  6133	responses.
  6134	
  6135	The CARRIER and PROTOCOL results are intermediate results and precede either a 
  6136	CONNECT ____ or NO ____ result. These results are only returned by V-series 
  6137	modems when configured to use an error-correcting protocol.
  6138	
  6139	If you recognize any numeric value for the baud rate after the CONNECT result, 
  6140	you will have a much more robust controller able to handle many situations.
  6141	
  6142	You can use the PROTOCOL result to determine if the flow control requested by 
  6143	the &K command is in effect for V-Series System Products.
  6144	
  6145	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6146	D.4.2 Answering a Call
  6147	The simplest technique for answering an incoming call is to set S0 and wait 
  6148	for a CONNECT ___ result. You may get several RING results, and possibly a NO 
  6149	CARRIER result if the caller hangs up before connecting. These results should 
  6150	not cause your controller to abort. Continue to wait for a CONNECT result 
  6151	code.
  6152	
  6153	If you set S0, you may want to set it back to zero after your controller 
  6154	finishes the call to prevent inadvertent answering when your software is not 
  6155	running.By setting S0 to the number of rings you desire before the modem 
  6156	answers, you utilize the ring detection technology already built-in to the 
  6157	modem.
  6158	
  6159	You should not use the A command to answer after counting RING results because 
  6160	the command may collide with another RING result from the modem and be missed. 
  6161	The RING results may be generated in pairs depending on the ringing cadence of 
  6162	the phone system.
  6163	
  6164	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6165	D.4.3 Using the CD Line
  6166	Monitoring the Carrier Detect (CD) line of the EIA 232-D interface is another 
  6167	technique for carrier detection in answer or originate mode. This assumes that 
  6168	&C1 or the corresponding DIP-switch has been set and the cable is wired 
  6169	properly. Both are risky assumptions. You will have a more robust controller 
  6170	if you use result code scanning rather than the EIA 232-D lines.
  6171	
  6172	If you use CD, you do not know when the modem has given up waiting for the 
  6173	carrier, or why. If the line is busy, you may want to re-try the dial 
  6174	operation. If there is no dial tone, the user needs to know this.
  6175	
  6176	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6177	D.4.4 Aborting a Connect Request
  6178	Once the D or S0 command has been issued, the modem goes off hook (or may be 
  6179	off hook for S0) and it must be put back on hook (hangÐup) before the abort is 
  6180	completed. To abort an in-progress connect command, send any character to the 
  6181	modem. This will typically result in a NO CARRIER response. The result code 
  6182	scanner should be called after the abort character is sent to prevent 
  6183	additional commands from being sent before the controller and the modem are 
  6184	again in sync.
  6185	
  6186	Smartcom products send AT<CR> to abort an in-progress connect command. This 
  6187	elicits a result code regardless of whether the modem were off-hook or not. If 
  6188	the modem was off-hook attempting to connect, this will abort the connect 
  6189	operation and return NO CARRIER. If the modem was on-hook in command mode, 
  6190	this simply returns <CR><LF>OK<CR><LF>.
  6191	
  6192	
  6193	*****************************************************************************
  6194	D.5 Carrier Loss Detection
  6195	You want your application to be able to detect when the carrier has been lost 
  6196	so you can determine when the connection is complete. You might be unable to 
  6197	put this part of the code in your controller software, since the controller is 
  6198	typically running only during the connect or hang-up process. Once the 
  6199	application has detected the carrier loss event, it can call the modem 
  6200	controller to clean-up.
  6201	
  6202	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6203	D.5.1 Using the CD line
  6204	If you can be confident of the environment and cabling, and have access to the 
  6205	EIA 232-D signal status, then monitoring the CD line is the easiest carrier 
  6206	loss detection method to implement. This requires &C1 to be programmed at 
  6207	setup time, or be stored in the modem as the value recalled on reset or 
  6208	powerup. 
  6209	
  6210	However, this is the most restrictive and risky choice. It requires a properly 
  6211	wired cable and support of &C1 by the modem's command set or proper DIP-switch 
  6212	settings.
  6213	
  6214	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6215	D.5.2 Scanning the Incoming Data Stream
  6216	In cases where you  cannot depend on 100% Hayes compatibility or want to be 
  6217	independent from the cable wiring, then scanning for the NO CARRIER result is 
  6218	more reliable. It is also more complex to implement.  
  6219	
  6220	Typically, at the low-level of the program all received data is retrieved 
  6221	through one subroutine. This subroutine can be augmented or layered to provide 
  6222	the service needed. As data passes through, the last fourteen characters are 
  6223	buffered, typically in a circular buffer. If more data passes in each call, 
  6224	only the last fourteen need to be copied. At a time when the processor is free 
  6225	such as after 100 ms of idle time or the receive routine has returned no data 
  6226	for 30 to 100 calls, then the buffer is compared against the <CR><LF>NO 
  6227	CARRIER<CR><LF> result code. If a match is found, the carrier lost event is 
  6228	triggered.
  6229	
  6230	By only checking when there is idle time, or after no data has been received 
  6231	for a while, you reduce the CPU overhead and ensure that the modem is not 
  6232	falsely triggered when the string is imbedded in an actual data stream.  
  6233	
  6234	You can also modify the linefeed character by using S4 to a different value 
  6235	such as S4=31 to make the result code sequence more unique. This action, 
  6236	however, affects other result codes generated by the modem.
  6237	
  6238	
  6239	*****************************************************************************
  6240	D.6 Escape and Hang Up
  6241	When your controller has been instructed to terminate the connection, you must 
  6242	put the modem back in command state and issue the hang-up (H) command. In 
  6243	addition to hanging-up, you will also want to restore settings you changed to 
  6244	their factory-set values, or issue an ATZ<CR> to undo the effects of your 
  6245	changes. In any case, clean up is necessary even if the connection were 
  6246	terminated due to loss of carrier.
  6247	
  6248	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6249	D.6.1 Escaping the Modem to Command State
  6250	To escape the modem, the controller must first delay the escape guard time 
  6251	(specified by S12), then issue the escape character three times (specified by 
  6252	S2). then wait for an OK result. Waiting for the result also enforces the 
  6253	required guard time after the escape sequence. Once the OK result is received, 
  6254	the modem has entered command state. The controller can then hang-up and 
  6255	restore the modem.
  6256	
  6257	The controller software must be sure to wait the required guard time before 
  6258	sending the escape characters. Your controller may have been called just after 
  6259	data was transmitted and, without the delay, your characters will just be sent 
  6260	without triggering the escape recognition process. It is important that the 
  6261	serial transmitter be permitted to be idle for the escape guard time, plus a 
  6262	few extra milliseconds to allow for error, before sending characters.
  6263	
  6264	For example, if  S12=10 a delay of at least 200 milliseconds is required 
  6265	before sending the escape characters. After sending the escape characters, the 
  6266	OK result will be received after another 200 millisecond wait. This completes 
  6267	the escape process in slightly over 400 milliseconds. If S12=50 (factory 
  6268	setting) is used, one full second must pass before the characters can be sent, 
  6269	then another second delay must transpire prior to the OK result. This 
  6270	completes the process in slightly over two seconds. For this reason, it is 
  6271	recommended that S12=10 be issued to speed up this process.
  6272	
  6273	A delay slightly longer than that stored in S12 should be used to allow for 
  6274	errors in the system clock as well as in the modem clock. 100ms is an adequate 
  6275	safety margin.
  6276	
  6277	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6278	D.6.2 Using DTR to Escape or Hang Up
  6279	The DTR EIA-232-D signal can be used to escape the modem to command state, or 
  6280	to reset the modem depending on the &D command set or DIP-switch settings last 
  6281	set. This also requires the cable to be properly wired. Unless the software 
  6282	will operate in a highly-controlled environment, this technique is discouraged 
  6283	over the escape process because of the requirements to make it function 
  6284	properly. Leaving a call connected simply because the cable was not properly 
  6285	wired can be potentially expensive. The escape sequence is reliably in all 
  6286	environments if it is properly utilized.
  6287	
  6288	
  6289	*****************************************************************************
  6290	D.7 Modem Re-configuration
  6291	When the call has been completed, a "clean-up" command should be issued to 
  6292	return the modem a more known configuration. For example, if verbose result 
  6293	codes were selected when the modem was reset, and the controller selected 
  6294	numeric result codes, on completing the session, the controller should reset 
  6295	the modem to re-select verbose result codes. In the same way, if the linefeed 
  6296	character were changed to suit the software or environment, the character 
  6297	should be set to its former value. Any other command options that were 
  6298	modified, should be restored to their factory-set values.
  6299	
  6300	The minimum the controller should do when through with the modem is issuing a 
  6301	Z command option to ensure the modem is restored to its powerup state.
  6302	
  6303	
  6304	*****************************************************************************
  6305	D.8 Timing Considerations
  6306	A modem controller inherently has a sense of time. Usually all that is needed 
  6307	to utilize the timing part of the controller is access to a time reference. 
  6308	For example, the number of milliseconds since powerup or program launch, or a 
  6309	"system tick" value can be used. 
  6310	
  6311	Under DOS, the INT 1C timer tick produces an interrupt every 55 milliseconds. 
  6312	An ISR can be installed on this interrupt to add 55 to a long integer every 
  6313	time it is called. This will provide a millisecond counter.
  6314	
  6315	On the Macintosh, the "TickCount" function will return the number of vertical-
  6316	retrace ticks since computer power up. Each tick represents one sixtieth of a 
  6317	second.
  6318	
  6319	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6320	D.8.1 Programming for Time
  6321	The time value is used to determine relative time. For example, if a loop 
  6322	should be executed for only 2 seconds it could be coded as:
  6323	
  6324	timeout = TickCount() + 120 ; /* 60 tics per second = 2 seconds */
  6325	do
  6326	{
  6327	        got_one = Check_Result( ) ;
  6328	}
  6329	while( ( ! got_one ) && ( SystemTick() < timeout ) ) ;
  6330	
  6331	This code fragment continues to call the Check_Result function until it 
  6332	returns a true value, or until two seconds have elapsed.
  6333	
  6334	This technique is independent of processor speed. A faster processor may make 
  6335	thousands of trips through the loop, where a slower one would only make a few 
  6336	hundred. Any anticipated result code would arrive within that two-second real-
  6337	time window.
  6338	
  6339	Care should be given to considering when to start the timing loop. If an AT 
  6340	command string is sent, then a loop executed, the time interval may also 
  6341	include the time required to send the AT command (if data is buffered and sent 
  6342	by an interrupt service routine).
  6343	
  6344	At 300 bps, where each character takes 33ms just to transmit (10/300), a 40 
  6345	character AT command would take over a second to transmit. This means a two 
  6346	second loop spends more than half of its time waiting for the AT command 
  6347	process to complete, leaving only a fraction of a second for the modem to 
  6348	respond with the result (again at 33ms per character).
  6349	
  6350	One way to avoid this is to wait until all data has been transmitted by an ISR 
  6351	before entering the result code scan loop. Alternatively, more time can be 
  6352	provided for loops to process results. Another option is to measure idle time 
  6353	rather then elapsed time.
  6354	
  6355	
  6356	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6357	D.8.2 When to Consider Time
  6358	The use of timing varies from command to command and operation to operation. 
  6359	Some commands take longer to execute. The guidelines below can be used to 
  6360	determine the best amount of time to wait.
  6361	
  6362	*  For the Z command, wait two seconds for a response, then wait an additional 
  6363	600 ms, whether a response were received or not.
  6364	
  6365	*  For general setup commands, wait two seconds for the response.
  6366	
  6367	*  For the hang-up command (H), wait up to 20 seconds for a response. V-Series 
  6368	modems may take longer to hang-up if data buffered within the modem is still 
  6369	waiting to be transmitted and acknowledged. This time is controlled by S38.
  6370	
  6371	*  For dial commands (D or O) wait at least one minute or more. Values set for 
  6372	carrier detect time, tone versus pulse dialing, commas in the phone number, 
  6373	all can take additional time.  
  6374	
  6375	If the software times out, the modem may, in fact, not be connected to the 
  6376	computer, disconnected, or turned off. If this is the case, enforce a 
  6377	reasonable timeout to the first setup or identification command. That will 
  6378	determine whether a modem is attached and functioning.
  6379	
  6380	A timeout may also occur when the software receives a result code it does not 
  6381	recognize. The software may continue to wait until it receives a code it does 
  6382	recognize. If this is the case, the controller should proceed as if an ERROR 
  6383	response were received. The only instance in which it is not prudent to 
  6384	continue is when a connect (D, A, or S0) command was issued.
  6385	
  6386	Before implementing a timeout, the advantages, if any, to this level of 
  6387	program interruption should be considered. For example, if the program times 
  6388	out from a dial command in one minute when it may take two minutes to complete 
  6389	the call, the timeout defeats the purpose of the command. The modem always 
  6390	responds with a result code, whether BUSY, NO CARRIER, or CONNECT, after some 
  6391	length of time.
  6392	
  6393	Idle time is the time since data was received. Elapsed time is the time since 
  6394	the software started looking for the result. Idle time can be measured by 
  6395	resetting the timeout clock each time the software receives a character. 
  6396	Rather than exiting the loop after two seconds of elapsed time, the logic 
  6397	changes to exit after no further data has been received for two seconds.
  6398	
  6399	+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6400	D.8.3 Recovering when "Out Of Sync"
  6401	Another disadvantage of timing out is that an early time out can put the 
  6402	software out of sync with the modem command processor. The controller may be 
  6403	interpreting results sent in response to previous commands as the response to 
  6404	later commands. To avoid this condition, any pending receive data should be 
  6405	flushed before the next command is issued.
  6406	
  6407	
  6408	D.9 General Tips and Techniques
  6409	The following are tips and techniques that may help in the exchange of 
  6410	information between the software controller and the modem command processor.
  6411	
  6412	Commands in the command line should be ordered starting with the safest and 
  6413	ending with the most risky. Risk is defined as the potential to generate an 
  6414	ERROR, causing the remainder of the command line to be ignored.
  6415	
  6416	Any command that may return ERROR should be anticipated. This or other 
  6417	unexpected results can be ignored unless the command is critical 
  6418	(configuration or call placement).
  6419	
  6420	Send I0 or I4 at 1200 bps, which is supported by the majority of modem 
  6421	products. A modem reset (&F or Z) should be performed at 1200 bps before 
  6422	sending the identification commands.
  6423	
  6424	Setup processing can be speeded by sending all but the last D or S0 command at 
  6425	the highest DTE rate supported by the modem. The last command must be sent at 
  6426	the speed at which the connection should be made (except V-Series System 
  6427	Products which specify this with S37).
  6428	
  6429	Any dependency on proper cabling can be eliminated by avoiding techniques that 
  6430	depend on EIA 232-D signals:
  6431	
  6432	*  Have the software scan for result codes, rather than depending on the 
  6433	condition of the CD line
  6434	
  6435	*  Transparent flow control should be used with V-Series System Products 
  6436	rather than with RTS/CTS signals
  6437	
  6438	*  The escape process and H command should be used to hang-up instead of 
  6439	terminating a connection by dropping DTR
  6440	
  6441	*  Any unexpected RING result codes may indicate the last command may not have 
  6442	been processed correctly. The command should be-issued
  6443	
  6444	
  6445	Sample Controller/Modem Exchange
  6446	
  6447	Clock   Controller                 Speed         Modem
  6448	--------------------------------------------------------------------------
  6449	                                   (1200 bps)
  6450	00000   ATZ<CR>		
  6451	00034                                            ATZ<CR>
  6452	00068                                            (one second to do reset)
  6453	01068                                            0<CR> (V0 stored as 
  6454	                                                 default)
  6455	01084   (delay additional 600ms)
  6456	01684   ATEQV1S0=0S12=10S4=3HI<CR>
  6457	01884                                            ATEQV1S0=0S12=10S4=3HI<CR>
  6458	                                                 (echo)
  6459	02084                                           <CR><LF>960<CR><LF>
  6460	02142                                           <CR><LF>OK<CR><LF>
  6461	                                  (19200 bps)
  6462	02192   ATM0X4L1S12=10S2=1&Q5W1S36
  6463	        =7S37=9&K5<CR>
  6464	02206                                           <CR><LF>OK<CR><LF>
  6465	02209   ATDT9W14045551212<CR>
  6466	38000                                           <CR><LF>CARRIER 2400<CR><LF>
  6467	45000                                           <CR><LF>PROTOCOL: NONE<CR><LF>
  6468	45010                                           <CR><LF>CONNECT 2400<CR><LF>
  6469	                                   (2400 bps)
  6470	                     (Connection Established)
  6471	                                   (2400 bps)
  6472	00000   (delay 300ms, need 200,
  6473	        add 100 for safety)
  6474	00300   (escape char is ^A, S2=1) 
  6475	00313                                           (waits 200ms)
  6476	00513                                           <CR><LF>OK<CR><LF>
  6477	00538   ATHE1S2=43S12=50W0&Q0<CR> 
  6478	00630                                           <CR><LF>OK<CR><LF> 
  6479	------------------------------------------------------------------------
  6480	
  6481	END