     1	      == == == From - lae@mullauna.cs.mu.oz.au (Lewin EDWARDS) == == ==
     2	    -= A DIY Guide to Computer Repair & Modification (PC and Amiga 500) =-
     3	   [Note : To people who saved my earlier post re: installation of the 1Mb
     4	       Agnus, discard it and get a copy of this instead; the 1Mb Agnus
     5	                   installation procedure is included here]
     6	
     7	                  -=<* About This Document - Disclaimer *>=-
     8	
     9	This document is intended to provide electronics hobbyists with some useful
    10	notes the author has gathered whilst working on various systems. It is not
    11	intended to train or encourage novices to attempt service or modifications
    12	to expensive appliances. It is especially not intended to encourage
    13	unqualified personnel to tamper with dangerous appliances such as monitors,
    14	power supplies and other devices which contain vacuum tubes, live mains or
    15	high-tension rails, or other hazardous areas. Any such work carried out is
    16	done at the reader's own risk and the author accepts no reponsibility for
    17	damage to property or person which occurs as a result of attempting any of
    18	the procedures described herein.
    19	        Having said that, I can vouch for the workability of the
    20	modifications listed here. I have personally performed them all myself on my
    21	own machines (this is, after all, a chronicle of my own experiences, chopped
    22	up under suitable headings for your convenience). With regards to the service
    23	information, whilst I have described problems and the solution(s) I found,
    24	keep in mind that this is rather like a doctor prescribing medication over
    25	the telephone or from an encyclopaedia. What I mean by this statement is that
    26	different problems may well cause the same symptoms; to take a trivial
    27	example, if you turn your monitor on and nothing happens, perhaps the fuse is
    28	blown, but on the other hand, perhaps it is not plugged in, or perhaps there
    29	is a more sinister fault in the power supply section. For this reason, I
    30	suggest you use the service information as a very vague guide ONLY. Remember;
    31	it is very rare to find two machines which are exactly the same inside, and
    32	so what I have found to be a suitable solution to a given fault may be
    33	totally inappropriate to your situation.
    34	
    35	                      -=<* The Commodore Amiga 500 *>=-
    36	
    37	i. Serial Killer
    38	----------------
    39	Problems with Amiga serial ports generally fall into three categories; problems
    40	with the flow control lines, problems with the actual data transmission lines,
    41	and problems with the line level (caused by faulty line driver chips). The
    42	first two can be relatively costly to repair, due to Commodore's monopoly on
    43	the CIA and Paula chips, so I advise exploring the line driver section of the
    44	circuit before rushing out to buy new Paulas or CIAs.
    45	        Faults in the line driver chips (MC1488 and MC1489, U38 and U39
    46	respectively in the schematic on page F-7 of the book 'Introduction to the
    47	Commodore Amiga 500') are typified by either total loss of transmission, total
    48	loss of reception, or both. If you look at the flow control lines, (CTS and
    49	RTS), you usually see that these lines are behaving normally (exactly why
    50	these lines are rarely affected is a mystery to me); if not, then you probably
    51	have a faulty CIA. Since the 1488 and 1489 only cost around A$1.00 each,
    52	depending on your source, it is well worth replacing these chips before you
    53	investigate Paula. Unfortunately, they are not socketed so you will have to
    54	desolder them (see "Desoldering Small IC's" below). When you have the chips
    55	out, put in a couple of sockets to facilitate later repairs.
    56	        If, after replacing the 148x's, you still experience problems, it is
    57	time to look further. If you have suitable software, you can check whether the
    58	problem lies in the flow control lines (in which case you have a damaged even
    59	CIA, U8) or in the data lines (in which case you have a damaged Paula). If you
    60	do not have, or are unable to interpret the results of, this software, you can
    61	make use of an old Amiga-tech wrinkle; exchange the CIA chips and see if your
    62	fault clears up. If it does, then ten to one the problem is in the CIA which
    63	started out as U8; if the problem persists, then it is most likely a Paula
    64	fault.
    65	
    66	ii. Floppy Hassles
    67	------------------
    68	In my life I have opened at least 40 Amiga 500's and have NEVER seen two which
    69	have the same make and model of internal floppy. It seems that Commodore
    70	change their suppliers (and also the colors of the LEDs on the keyboard) on a
    71	weekly basis. Let's see.. three possible LED colors (red, green, yellow),
    72	three LEDs on the keyboard, four floppy manufacturers (Sankyo, Chinon,
    73	Panasonic, Sony), two different styles of head connector (one film connector
    74	per head or one wide film connector servicing both heads), helical screw or
    75	belt-drive head carriage mechanisms.. that makes 144 possible configurations
    76	already. For this reason it is not possible to give specific "look-to-the-left-
    77	of-the-large-chip" directions, and I can only state a couple of possible faults
    78	and their possible causes :
    79	
    80	* Floppy refuses to acknowledge disk insert
    81	Probably caused by a defective odd CIA (U7). Try switching the CIAs over. Also
    82	check that the switches at the front of the drive travel freely up and down.
    83	Verify that the pads to which the switch assembly is connected have not flaked
    84	off the board (this can be caused by rough disk insertion).
    85	
    86	* Floppy will not read disks formatted in other drives
    87	The head alignment is faulty. There is a method of adjusting it without
    88	special tools and measurement devices, but it requires considerable patience
    89	and one of the X-Copy series of programs. The method is as follows :
    90	- Format a disk in a working drive.
    91	- Open your machine (or external drive). Remove the cover from the drive unit
    92	(it is usually held on by one screw on either side and another on top at the
    93	back). Locate the track zero sensor and loosen the screw which holds it in
    94	position. Load X-Copy and select the Toolkit option CHECKDISK.
    95	- You must now align the lower head. This can be accomplished by moving the
    96	track zero sensor a little, then checking the disk, and repeating this until
    97	you find a position in which the drive will read the lower side of the disk.
    98	When this is done, tighten the screw which holds the track zero sensor, to
    99	stop it shifting. If you have any Lok-Tite, a drop of that on the screw is
   100	advisable.
   101	- You must now align the upper head. Loosen the two screws which hold it to
   102	the head carriage assembly (Do NOT remove these screws, unless you relish the
   103	idea of going over the floor with a metal detector looking for small springs).
   104	Adjust the upper head by eye until it appears to be exactly over the lower
   105	head. Now repeat the above trial-and-error process, tweaking the upper head
   106	around until you find a workable position. Tighten the screws, replace the
   107	cover and reassemble.
   108	        If the above procedure sounds rigmarolish and uncertain, it is ! But
   109	I have successfully performed it on a number of Amiga and PC 3.5" drives. And
   110	I have never had a failure with it.
   111	
   112	iii. Caps Lock Chaos
   113	--------------------
   114	Many Amiga owners will know, to their detriment, that occasionally the Caps
   115	Lock light will start blinking and the keyboard will lock up. This is caused
   116	by the microprocessor in the keyboard detecting a keyboard fault. I first
   117	noticed this fault when our school Amiga room (two rev. 5a A500's) acquired an
   118	autofire joystick, a Quickshot IIb I think. When switched to autofire mode,
   119	this joystick would periodically jam the keyboard. If you have recently
   120	acquired an autofire joystick, you should investigate whether turning it off
   121	during boot fixes the problem. Otherwise, you can try the old "Atari Twist",
   122	ie pick up your machine in both hands and twist it. This is basically
   123	equivalent to reseating the chips on the motherboard; if you have a spare
   124	moment, I suggest you actually open the machine up and manually reseat them.
   125	
   126	iv. Bulimia of the Agnus
   127	------------------------
   128	iv-1. What is the 1Mb Agnus ?
   129	-----------------------------
   130	The 1Mb Agnus (variously known as the Obese Agnus or Fatter Agnus), Commodore
   131	part 8372a or 318069-02, is the relatively new Agnus which is capable of
   132	addressing 1Mb of chip-RAM. This allows you to have twice the amount of
   133	sampled music, screens, and other custom-chip data in memory simultaneously.
   134	It also has the desirable effect of letting you run things like Deluxe Paint
   135	in 16-color 640x512 (or 640x400, NTSC users) mode, without having to
   136	disconnect external drives, close down WorkBench screens and the like. For
   137	A-Max users, installing the new Agnus and configuring it to 1Mb chip-RAM mode
   138	will also increase A-Max compatibility. If you have more than 1Mb of RAM, then
   139	it will make A-Max virtually 100% identical to a Mac Plus, memory-map-wise.
   140	NOTE WELL : This modification requires 1Mb of RAM to be visible !
   141	
   142	Commodore, not wishing to make two chips where one will do, is now shipping
   143	the 8372a in most (nearly all Rev. 6a) A500's, without telling anybody. In
   144	these machines, the extra chip-RAM capability has been disabled so that if you
   145	connect an A501, it will still think it is "slow" [see below] RAM.
   146	
   147	iv-2. An Aside on Memory Speeds
   148	-------------------------------
   149	The Amiga has *three* types of RAM. Chip-RAM, Fast-RAM and "Slow"-RAM.
   150	Contrary to what many people assert, RAM at $C00000 (the default location of
   151	the A501 expander, and the second 512K of RAM in A2000's) is NOT fast-RAM,
   152	even though the system reports it as such. Because this RAM is refreshed and
   153	accessed via Agnus, it is affected by buss contention in just the same way as
   154	chip-RAM. It is simply a dead area in RAM which is not accessed by the custom
   155	chips and which is not faster than chip-RAM. Moving this RAM to $80000 (which
   156	is what you do to enable 1Mb chip-RAM) will have no effect on machine speed at
   157	all.
   158	
   159	iv-3. Compatibility
   160	-------------------
   161	To date (20-Oct-91, 18:11EST) I have personally tested at least 400 pieces of
   162	software with the new Agnus. I have found three programs which do not work :
   163	* Double Dragon II (Completely screwed up)
   164	* VideoFX 3D (Again, completely useless)
   165	* Impossible Mission II (This game requires memory at $C00000. It does not
   166	mind the Agnus, but if you want to run it you must drop back to
   167	512K chip/512K slow mode. Lousy AllocAbs() programmer !)
   168	In addition, Dragon Ninja thinks you are running on a 512K machine and will
   169	not play in-game music. Again, this can be rectified by switching into 512K
   170	chip/512K slow mode. Some other games also think they are running on a 512K
   171	machine, notably TechnoCop and R-Type, but this is of no real consequence.
   172	
   173	iv-4. Identifying the Version of your A500
   174	------------------------------------------
   175	There are several versions of the A500 out there. I have only tried fitting
   176	the new Agnus to the following :
   177	 a. The Revision 5 board shipped until early 1989
   178	 b. The new Revision 6a board supplied from May (?) 1989 onwards
   179	The way to identify your machine type is to check the expansion port which
   180	lurks under a plastic cover on the left-hand side of the computer. The Rev. 5
   181	machine has a very fat strip (double width) at the back of the connector; the
   182	Rev. 6a board has two normal-width strips instead.
   183	
   184	iv-5. Installing the 8372a to Revision 5 A500's
   185	-----------------------------------------------
   186	1. Remove the 8371 from its socket. If you are an NTSC user who does not wish
   187	to use the PAL mode, go to step 3.
   188	2. Pin 41 of the new Agnus controls whether the machine starts up in PAL or
   189	NTSC modes. When it is tied low (to ground), the machine boots in NTSC mode.
   190	When the line is tied high or left floating (ie unconnected), it boots into
   191	PAL mode. On the Rev. 5 board, pin 41 is connected to ground by tracks on BOTH
   192	sides of the board, making it virtually impossible to cut the track without
   193	desoldering the socket. This means if you just plug in the new Agnus, you will
   194	be locked in NTSC mode !! There are a couple of ways to go about circumventing
   195	this problem; I will detail here the one I undertook on my own Rev. 5 board. I
   196	will assume you want to install some sort of switch to toggle PAL/NTSC mode.
   197	If you only want to run in PAL mode, you can simply bend out pin 41 of the
   198	Agnus socket (don't bend the pin on the chip) to prevent it from making
   199	contact with Agnus. If you do this, proceed to step 3. Otherwise, get yourself
   200	an SPDT or SPST toggle switch and two lengths of telephone (or other thin,
   201	stiff single-core wire). Solder wires to the switch :
   202	
   203	                            +---+
   204	    To a convenient ground--+-o |  BACK VIEW OF SWITCH
   205	                   +--------+-o |  When held as shown, UP=PAL, DOWN=NTSC.
   206	                   |        | o |
   207	                   |        +---+
   208	 Uninsulated --> | | <-- This side is insulated
   209	                 \-/ <-- Fold the wire thru 180 degrees
   210	
   211	3. Insert the new Agnus. If installing the switch, you should now poke the
   212	loose end of wire (see above) from the switch into pin 41 of the socket so
   213	that the bare copper side touches the pin on the chip and the insulated side
   214	touches the pin on the socket. In order to fit the wire down the hole you may
   215	find it necessary to bend out or remove entirely [Not recommended !] the pin
   216	on the socket. Secure the wire with a tiny drop of cyanoacrylate adhesive.
   217	
   218	4. If you wish to install a memory mode switch, go to step 5. Otherwise,
   219	locate JP2 (between 68000 and ROM). This consists of three pads. The center
   220	and lower pads are joined by a thin track. Cut this track and place a drop of
   221	solder between the center and upper pads. Now locate the _EXRAM line coming
   222	from the A501 port (it comes from pin #32 and runs on the upper side of the
   223	motherboard parallel to the A501 connector). Cut this line. You have now
   224	completed the installation procedure.
   225	
   226	5. Complicated. Locate JP2 and cut the track which joins the center and lower
   227	pads. Locate the _EXRAM line from the A501 port (see step 4) and cut the
   228	track. Solder wires to all three pads of JP2 and one wire to either side of
   229	the gap you cut in the _EXRAM track. Wire a DPDT switch as follows :
   230	
   231	                   +-----+  BACK VIEW OF SWITCH
   232	Upper pad of JP2 --+-o o |  When held as shown, UP=512K CHIP, DOWN=1M CHIP
   233	Center pad of JP2 -+-o o-+- To one side of the gap in the _EXRAM track
   234	Lower pad of JP2 --+-o o-+- To the other side of the gap
   235	                   +-----+
   236	You have now completed the installation procedure.
   237	
   238	iv-6. Installing the 8372a to Revision 6a A500's
   239	------------------------------------------------
   240	1. Remove the 8371 from its socket. Insert the new 8372a. NTSC users who do
   241	not wish to use the PAL mode should go to step 3. When installing the new
   242	Agnus, note that on the 6a board, the Agnus socket has been rotated 90 degrees
   243	anti-clockwise from the orientation on the revision 5 board. For this reason,
   244	plugging in the Agnus correctly is no longer an intuitive operation !
   245	2. JP4 controls PAL/NTSC video mode. If you are in North America or Hong Kong
   246	or anywhere else the National Television Standards Committee TV format is
   247	used, this should be bridged by a track or a blob of solder. If you are in
   248	Australia, Europe or anywhere else the Phase-Alternated Linescan TV format is
   249	used, this jumper should be cut open. If you wish to install a switch, then
   250	simply connect it across the two pads of the jumper.
   251	3. Cut the track joining the center and upper pads of JP2, and the track
   252	joining the center and upper pads of JP7a. (JP2 is between the CPU and the ROM
   253	and JP7a is just to the left of the A501 connector). If you wish to install a
   254	memory switch, proceed to step 4 otherwise solder the center and lower pads of
   255	JP2 together. You have now completed the installation procedure.
   256	4. Connect a DPDT switch as follows :
   257	
   258	                   +-----+  BACK VIEW OF SWITCH
   259	Upper pad of JP2 --+-o o |  When held as shown, UP=512K CHIP, DOWN=1M CHIP
   260	Center pad of JP2 -+-o o-+-- Center pad of JP7a
   261	Lower pad of JP2 --+-o o-+-- Upper pad of JP7a
   262	                   +-----+
   263	You have now completed the installation procedure.
   264	
   265	v.  Is My Jumper On The Line ?
   266	------------------------------
   267	Number  Rev5 ?  Rev6a ? Function
   268	-------------------------------------------------------------------------------
   269	JP1     yes     yes     Connects reset timer (NE555) to main reset
   270	JP2     yes     yes     Maps A501 at $C00000 or $80000
   271	JP3     yes     yes     Swaps _CAS of RAM banks (of use for test purposes)
   272	JP4     no      yes     8371  Agnus : TEST line [solder closed !!]
   273	                        8372a Agnus : PAL/NTSC video mode select
   274	JP5     no      yes     28MHz base clock to Agnus
   275	JP6     no      yes     7MHz clock on pin 7 of expansion connector
   276	JP7a    no      yes     Controls _EXRAM to Gary
   277	JP7b    no      yes     CIA tick from VSYNC or pin 32 of A501 (default VSYNC)
   278	JP8     no      yes     LPEN from FIRE0 or FIRE1
   279	JP9     no      no      ??? A non-existent jumper. Future Rev. 7 ???
   280	JP10a   no      yes     Connects AUDIN to pin 18 of serial port
   281	JP10b   no      yes     Connects AUDOUT to pin 11 of RS232 port
   282	JP11    no      yes     Connects CSYNC to BCSYNC or video hybrid
   283	-------------------------------------------------------------------------------
   284	NB: These are A500 jumpers only. A2000, 2500, 3000 have different jumper
   285	assignments. The 1000 *may* have similar settings but I cannot guarantee this.
   286	
   287	vi. Hol(e)y, Hol(e)y, Hol(e)y
   288	-----------------------------
   289	Owners of Rev. 6a A500's will notice that they only have 4 RAM chips as
   290	opposed to the 16 in the Rev. 5 and earlier machines. They will also note that
   291	in between the RAM chips are empty sets of holes which look like something
   292	ought to go into them.
   293	        Firstly, fear not - the reason you have a quarter the number of RAM
   294	chips as older machines is that the 6a uses 44256 4-bit x 256K chips which are
   295	four times as large as the 41256 1-bit x 256K chips used in the 5 and earlier
   296	revisions. All the modern Amiga memory hardware (except possibly the A501)
   297	uses these larger chips because they are slightly cheaper on a dollar-per-
   298	megabyte basis. For example, the older Series I A590 hard drives use the
   299	41256, and they will accept up to 2Mb. The new Series II A590's use the 44256
   300	(and consequently have enough space to fit 8Mb of RAM).
   301	        But, back to those extra holes. They are indeed designed to accept
   302	something; viz, another set of four 44256's to take your machine up to 1Mb
   303	without having to buy an A501 or other expander (this is particularly useful
   304	if you have a memory expansion which uses the A501 slot, and you want to have
   305	1Mb chip-RAM). If you want to install your own RAM there, you should do as
   306	follows : Purchase four 20-pin IC sockets (preferably machined-pin). Make sure
   307	you have a solder-sniffer. Now look at those holes and you will see that they
   308	are clogged by solder (this is due to the way the boards are soldered; the
   309	process covers all exposed copper areas with solder). You must clean this
   310	solder out by heating the board from one side and sniffing the solder out on
   311	the other (or blowing the solder through; if you choose this method, make sure
   312	to remove all the little splashes of solder from the board and your lap). When
   313	you have cleaned out all the holes, solder in the sockets. Now plug in four
   314	44256 chips and you have 1Mb of memory for slightly less than the cost of an
   315	A501 (in Australia, the difference is roughly A$20).
   316	        With respect to the speed of RAM chips required, I use 150ns chips
   317	with no problems at all; however, I suspect that Commodore would recommend
   318	100ns devices. The price difference is minimal so you may as well buy 100ns
   319	chips so that if you ever buy a series II A590, you can shift the chips over
   320	and have 100%-guaranteed-not-to-overheat fast-RAM.
   321	
   322	vii. 1Mb of Motherboard Memory on the Rev. 5
   323	--------------------------------------------
   324	It is possible to install 1Mb of RAM onto the revision 5 motherboard. However,
   325	this modification is flaky at best and I cannot recommend it (having tried it
   326	in a moment of sheer boredom). Also note that I could *not* get this extra
   327	memory to be mapped at $C00000 (the computer would only recognise it if I had
   328	JP2 set to map the A501 at $80000); which means that it is only of potential
   329	interest to owners of the 1MB Agnus. (This failure to work as $C0 RAM may well
   330	have been due to some stupid omission on my part).
   331	        I will deliberately be vague because this is not a trivial
   332	modification. If you are unable to work out what to do with confidence, you do
   333	not have enough knowledge to perform the mod.
   334	        The procedure can be summarised as follows: Take sixteen 41256 RAM
   335	chips (for speed information, see the end of subsection vi. above). Bend the
   336	refresh address strobe pins (_RAS, pin 4) on all the chips up and over so that
   337	it is well clear of the other pins and easily accessible from the top of the
   338	chip. Bend in all the other pins a little. Now, piggyback the new chips on top
   339	of the existing RAM, making sure to install them in the same orientation as
   340	the original chips. It is not possible to reach all the pins to solder them,
   341	so you will have to content yourself with only soldering the corner pins.
   342	Solder wires from the bent-up _RAS pins to pin #38 of the A501 port (or any
   343	convenient take-off point of this signal). You should now have 1Mb of RAM. (If
   344	you want to try using it as $C00000 RAM, you should ground the _EXRAM pin, pin
   345	#32, of the A501 port. I had no success with this). This mod sounds all very
   346	well, but in the current climate it may be slightly cheaper to buy a
   347	secondhand A501 than to buy 41256 chips. In addition, due to the precarious
   348	hold the piggybacked chips have on the originals (because there isn't enough
   349	room to solder all of the pins down), the mod is sensitive to shock; if you
   350	tap the table, you can sometimes guru the machine. For this reason, this is a
   351	"possible but ill-advised" modification.
   352	
   353	viii. Double Trouble
   354	--------------------
   355	The hack to accelerate your Amiga to 14MHz has been published in countless
   356	articles, but I may as well include a brief description of it here. The hack
   357	involves removing the original 68000 from your Amiga and substituting a
   358	version rated at 16MHz (confusingly called the 68000P-12; the Motorola chips
   359	have "16MHz" stamped on them, but the SGS-Thompson clones do not). The clock
   360	pin is bent out and soldered to the output of a divide-by-2 counter whose
   361	input is connected to the base 28MHz clock. THIS MODIFICATION SHOULD BE
   362	INSTALLED WITH A SWITCH !! If not, you WILL (not may) find that some games
   363	will refuse to load because they use timing-dependent loaders.
   364	        Aside from the problem mentioned above, the only compatibility
   365	down-side to this modification is that some floppy drives will not handle the
   366	increased step rate. If you find that your drives give read/write errors at
   367	the high speed, you can either replace them or run a program called "DFDelay"
   368	to slow down the step rate. (If df0: will not work, you have a problem. Try
   369	swapping df1: for df0: - to do which you will need a Commodore df1:. The
   370	mechanisms used in the old A1010 drives are EXTREMELY reliable and much
   371	quieter than the new rubbishy things; if you have an A1010, you can be fairly
   372	certain that it will support the new speed).
   373	        To perform the mod, remove your old 68000 and embed it in a perspex
   374	block for future reference. Now rig half of a 74S74 dual D bistable as a
   375	divide-by-2 counter. Connect the input of this to a convenient take-off point
   376	of the 28MHz clock line on the motherboard (I use pin #34 of Agnus, but
   377	anywhere will do). Now bend out pin 15 of the new CPU and solder a wire to
   378	this pin. Take a piece of stiff telephone wire, strip approx. 5mm of
   379	insulation from one end, and stick this end down pin 15 of the 68000 socket.
   380	Insert the new CPU in the socket and verify that pin 15 is well clear of the
   381	wire in the socket. Now wire a SPDT switch as follows :
   382	
   383	                                            BACK VIEW
   384	                                     +---+  When held as shown UP=7.14MHz,
   385	   To output of divide-by-2 counter -+-o |  DOWN=14.28MHz
   386	                 To pin 15 of 68000 -+-o |
   387	  To wire in pin 15 of 68000 socket -+-o |
   388	                                     +---+
   389	
   390	The 74S74 should be mounted somewhere convenient; I break off all the unused
   391	pins, bend the remaining pins out, and stick the chip on top of one of the
   392	data path IC's; this has the advantage of allowing me to take power directly
   393	off the existing components rather than stringing yet another pair of wires
   394	through the machine.
   395	        If you only have chip and/or slow memory (see subsubsection iv-2.)
   396	then your machine will run at approximately 150% normal speed (on
   397	CPU-intensive operations; DMA rates will be unchanged). If you have true
   398	fast-RAM then code running from fast-RAM will execute at close to 200% of
   399	normal speed. Try placing a large perpective brush with anti-aliasing HIGH
   400	in DeluxePaint III (or IV !) and you will see the speed increase.
   401	
   402	ix. The Numbers Game
   403	--------------------
   404	This is how PLCC chips are numbered (using Agnus as an example) :
   405	
   406	                1 1                   8 8 8 8 8 7 7 7 7 7
   407	                1 0 9 8 7 6 5 4 3 2 1 4 3 2 1 0 9 8 7 6 5
   408	 BEVELED CORNER | | | | | | | | | | | | | | | | | | | | |
   409	              /-------------------------------------------|
   410	         12 -|                      o                     |- 74
   411	         13 -|                                            |- 73
   412	         14 -|                                            |- 72
   413	         15 -|                                            |- 71
   414	         16 -|                                            |- 70
   415	         17 -|                                            |- 69
   416	         18 -|                                            |- 68
   417	         19 -|                                            |- 67
   418	         20 -|                   8372A                    |- 66
   419	         21 -|                                            |- 65
   420	         22 -|                                            |- 64
   421	         23 -|                 TOP  VIEW                  |- 63
   422	         24 -|                                            |- 62
   423	         25 -|                                            |- 61
   424	         26 -|                                            |- 60
   425	         27 -|                                            |- 59
   426	         28 -|                                            |- 58
   427	         29 -|                                            |- 57
   428	         30 -|                                            |- 56
   429	         31 -|                                            |- 55
   430	         32 -|                                            |- 54
   431	             |____________________________________________|
   432	                | | | | | | | | | | | | | | | | | | | | |
   433	                3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 5 5 5 5
   434	                3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
   435	
   436	x. A Change Of Face
   437	-------------------
   438	Installing the ECS Denise is simplicity itself. Simply remove the old Denise
   439	and plug the new one straight in. Note that to use the new video modes, you
   440	require the 1Mb Agnus (not necessarily in 1Mb chip-RAM mode, though). By
   441	installing the new Denise, you also eliminate the annoying video glitches
   442	which occur in NTSC mode when using the new Agnus with the old Denise.
   443	
   444	xi. Snap, Crackle and Pop
   445	-------------------------
   446	[For non-Australians, the above is the slogan a local cereal company uses to
   447	advertise a tasteless soggy mess called Rice Bubbles].
   448	        Symptom : Your monitor produces snapping or popping noises, and
   449	sometimes goes unaccountably blank after being switched on for a while.
   450	        I have no idea why this problem seems to affect Commodore monitors so
   451	badly. It is caused by arcing of the EHT rail (around 14kV, from memory) to
   452	lower-voltage areas of the set. Initial treatment is to turn off the monitor,
   453	leave it for a couple of days (to allow capacitors to discharge), and then to
   454	remove every last speck of dust from the inside. This usually works.
   455	        If it does not, however, sterner measures are called for. Open your
   456	monitor and (here comes the dangerous part) leave it running, open, for a few
   457	hours. If you actively work against Murphy's Law by watching it from behind
   458	something or inside something, where the monitor can't see you, you MAY
   459	eventually be lucky enough to actually catch it in the act of arcing. Mark the
   460	place with a spirit pen and spray on some anti-gaussing compound. (This stuff
   461	has a very high dielectric constant and hence helps to prevent arcs).
   462	
   463	xii. Yo Ho Ho And A Packet Of Disks
   464	-----------------------------------
   465	I sometimes describe A-Max as the only useful productivity tool for the Amiga;
   466	Mac owners will agree with me when I say that Macintosh applications are
   467	incomparably better than their Amiga counterparts. However, due to suppression
   468	of the source of 128K ROMs by a certain computer mega-corporation named after
   469	a piece of dead plant, the future of this marvellous product looks slightly
   470	less certain than Melbourne hosting the 1996 Olympic Games (grin).
   471	        There exists a software patch which will allow you to [illegally] run
   472	the emulator using a ROM image file on disk; however, if you wish to use a Mac
   473	drive with the A-Max cartridge, you must have ROMs or EPROMs in the ROM
   474	sockets. Problem ? No. Simply insert two blank 27512 64K x 8 EPROMs in the ROM
   475	sockets.
   476	
   477	NB: The above procedure is wholly illegal and the author is not explicitly
   478	condoning nor advocating the practise. I personally own original Apple 128K
   479	ROMs (purchased before the great ROM drought). The above information is
   480	supplied for interest's sake only.
   481	
   482	                 -=<* The 80x86-Based PC/XT/AT-Compatible *>=-
   483	
   484	i. Tools of the Trade
   485	---------------------
   486	Since I come across many cards and peripherals of doubtful functionality, I
   487	have invested in a 10MHz 286 motherboard with just enough RAM to get started,
   488	plus a $20 Hercules card to run diagnostic programs. This is mounted in an
   489	ancient XT casing, with an equally ancient 150W power supply. The total cost
   490	of this system was about $150, and it allows me to test all XT and AT cards
   491	(not EISA cards, but then I have no EISA-buss machines anyway !), drives and
   492	so on. If you expect to be buying/selling many secondhand cards, drives, SIPPs
   493	and so on, I heartily recommend buying such a system, unless you are game
   494	enough to risk your "real" system by putting possibly defective cards in it.
   495	
   496	ii. The Heat Is On
   497	------------------
   498	In many clone machines, particularly 16MHz or faster 286's which use the AMD
   499	80286 rather than the Intel original, the CPU becomes extremely warm, too hot
   500	to touch with the hand. For example, I have a 16MHz Acer motherboard which
   501	uses an AMD 80286-16 processor, and after 25 minutes of operation at turbo
   502	speed, the processor is far too hot to be touched for more than half a second.
   503	This kind of heating is undesirable in that it shortens the chip life and,
   504	more importantly, may lead to sudden crashes if the chip undergoes thermal
   505	shutdown. (The so-called XT-286's, XT-class machines with 80286 processors,
   506	are very susceptible to this problem). If your machine has this undesirable
   507	property, you should consider attaching some sort of heatsink to the CPU. An
   508	extra fan in the casing is also an option, though I find them to be relatively
   509	ineffective for this task.
   510	        You can also try replacing the CPU with an original Intel chip. For
   511	some reason, the Intel line stays a lot cooler than the AMD line in general.
   512	
   513	iii. Sudden Death
   514	-----------------
   515	Scenario : You are working on an important document under an operating system
   516	known to be bug-free (aren't fairy-tales wonderful ?). You leave the keyboard
   517	to take your ten-minutes-per-hour anti-RSI coffee break. You return (having
   518	neglected to save your work), you press a few keys... and nothing happens.
   519	Your document is there on the screen, but the program has halted.
   520	        The above is quite often caused by overheating problems (see
   521	subsection ii). It is also sometimes caused by dirty or otherwise imperfect
   522	connections between cards or chips and their sockets. If your machine is more
   523	than 2 years old, it may well be that your sockets are becoming dirty. (An
   524	interesting anecdote springs to mind about a small LAN of XT-class machines,
   525	all of which seemed to fail simultaneously. It turned out that the network
   526	cards used single-wipe sockets which degraded much faster than the dual-wipe
   527	sockets used on the motherboards, and occasionally the fileserver would start
   528	to send out a packet, but would only manage to send part of the header before
   529	the faulty network card corrupted the transfer. Because of a "feature" in the
   530	network software, all the machines on the LAN stopped operations while waiting
   531	for an ID sequence to indicate the machine the corrupted packet was destined
   532	for. This looked exactly like a simultaneous crash on twenty machines and had
   533	the serviceperson (erm, me) puzzled for quite a few days).
   534	        The immediate cure for this sort of problem is to pull out all your
   535	cards, clean the connectors with an ink eraser (pencil erasers are not
   536	abrasive enough), remove the fragments of eraser and reinsert the cards. You
   537	can also push down on all the socketed chips to reseat them.
   538	        Oh yes. The above problem can also be caused by viruses. Use McAfee
   539	Associates' SCAN (and if necessary CLEAN) programs to detect and kill these.
   540	
   541	iv. Overworked FPU's
   542	--------------------
   543	Due to the large price discrepancy between the different speed ratings of
   544	floating-point coprocessors, there is a strong temptation to buy (say) a 25MHz
   545	387 for your 33MHz 386. The chances are good that such an arrangement will in
   546	fact work, however note that the power dissipation of the FPU will be
   547	increased. In simple terms, it will get hot. For this reason, you should
   548	always look for ceramic-bodied chips, since they can dissipate MUCH more heat
   549	than plastic-bodied devices. And whenever possible, run in non-turbo mode.
   550	
   551	v. Hot-Rodding, Across the Universe
   552	-----------------------------------
   553	It is relatively common knowledge nowadays that it is quite possible to
   554	hot-rod a 16MHz machine to 20MHz or a 33MHz machine to 40-50MHz. This
   555	naturally carries with it the same overheating problems mentioned in
   556	subsection iv above. However, if you are determined to undertake such a
   557	modification, there are a couple of pieces of information you may find useful:
   558	- For 80286 and 80386 machines, you will need a crystal or oscillator can
   559	(make sure you know which you need) which is TWICE the frequency you want your
   560	machine to run at.
   561	- The crystal to replace is the one rated at TWICE the listed speed of your
   562	motherboard (ie on a 16MHz board, there will be a 32MHz crystal). Do not be
   563	led astray by the I/O clock crystal(s) !
   564	- It is good practice to place a socket on the motherboard where you removed
   565	the old crystal, so that if you ever have to sell your machine you can pop in
   566	the original speed of crystal and cover up your tracks.
   567	        Note that I have never performed this type of enhancement to 80386
   568	machines; however, this document is being typed on an 80286 which I hot-rodded
   569	from 12MHz to 16MHz.
   570	
   571	vi. Hacked Reset Switches
   572	-------------------------
   573	Most 286/386/486 motherboards (all I have ever seen) come with a reset switch
   574	connection built-in; many XT motherboards do not. Consequently there have been
   575	a number of postings to USENET describing how to add a pushbutton to the
   576	_RESET line of the CPU. I find it rather amusing that several such founts of
   577	wisdom advise the installation of a pullup resistor "to make sure the line
   578	goes high again after the button is released". Interesting. Does this mean
   579	that when you turn on your machine, you only have a 50/50 chance that the
   580	_RESET line will be high enough to let the CPU start ? Of course not. The
   581	designers already put in a pullup resistor, so there is absolutely no need to
   582	put in another one. Just connect a normally open pushbutton between the _RESET
   583	pin of the CPU and any convenient signal ground.
   584	
   585	vii. Tearing Your Hair
   586	----------------------
   587	Scenario : Your favorite machine, with SoundBlaster, LAN, VGA, Hercules, Voice
   588	Master, two serial and one multi I/O cards goes down. You don't know where to
   589	start.
   590	        The first thing to do in such cases is to remove every card except the
   591	display adaptor and the floppy controller (if this is integrated with the hard
   592	disk controller then both will have to stay). You should now simply keep
   593	adding cards until the machine no longer starts up (assuming it starts up in
   594	its minimal configuration). Whilst this may sound obvious, you would be amazed
   595	by the number of people who leave all their cards in and just poke about with
   596	the jumper settings.
   597	
   598	viii. Mix And Match
   599	-------------------
   600	It is often very convenient to have two monitors connected to the one machine.
   601	(I have both VGA and Hercules cards in my "useful" machines). However, not all
   602	display adapters can be mixed together in the one machine (due to memory
   603	conflicts). Below is a table of the allowable configurations; a star indicates
   604	"allowable" and a period (full stop) indicates an illegal combination.
   605	
   606	                        with MDA  CGA  EGA MCGA  VGA
   607	                         MDA  .    *    *    *    *
   608	                         CGA  *    .    *    .    .
   609	                         EGA  *    *    .    .    .
   610	                        MCGA  *    .    .    .    .
   611	                         VGA  *    .    .    .    .
   612	
   613	For the purposes of display mixing, an MDA (mono 80x25 text only) is identical
   614	to a Hercules Graphics Card (720x348 mono graphics). Note that if you have a
   615	VGA card as one of your displays (the most common configuration is VGA + MDA
   616	or Hercules), your VGA card will no longer be able to emulate Hercules modes.
   617	(If you load up the extended-mode-handler program supplied with most SVGA
   618	cards, you will be told that the card cannot be switched into mono mode). Note
   619	the possible pitfall with Hercules cards; most of them contain a parallel
   620	port, usually switchable from address 3BC to address 378. If you already have
   621	a parallel port mapped at this address, strange errors will crop up. (Also
   622	note that if you have parallel ports at 378 and/or 278, and the Herc parallel
   623	port is at 3BC, the Herc card will become LPT1: - this may necessitate some
   624	switching of cables). If possible, disable the onboard parallel port, or map
   625	it to an unused port address.
   626	        One final note on the subject of video conflicts; a number of clone
   627	companies have released so-called "color Hercules" cards, which support both
   628	the Hercules and CGA standards. These cards will not co-reside with any other
   629	video card.
   630	
   631	ix. Expanding SVGA Cards
   632	------------------------
   633	Many people ask, "Can I expand my SVGA card ?". In most cases, the answer is
   634	no. However, occasionally one runs across cards which have sockets for extra
   635	RAM. The two examples of this which I have seen are Tseng Laboratories SVGA
   636	cards (mine came with 512K and space for an extra 512K), and Trident cards
   637	(again, mine came with 512K, but had sockets for the extra RAM). In such
   638	cases, installing the extra memory is simply a matter of purchasing the
   639	requisite RAM chips (usually 44256; however, some older cards will use 4464
   640	or 41256 chips), and installing them in the empty sockets on the card. Before
   641	you spend the money on this, however, consider - do you really need the extra
   642	memory ? In the vast majority of SVGA cards, adding the extra RAM only allows
   643	you to use ONE extra mode, viz. 1024x768x256. This mode is not really useful
   644	unless it is un-interlaced (stare at an interlaced screen for a few hours and
   645	you will understand why !). Also, on monitors coarser than 0.28" dot pitch,
   646	this mode looks EXTREMELY fuzzy, and on some monitors it is not even
   647	displayed properly (the edges of the screen are compressed). Although my
   648	cards support this mode, I always use 640x480x256 as my maximum screen
   649	resolution (except when viewing very large GIFs, eg the 1152x900 pictures
   650	designed for and/or digitized on Suns).
   651	        A final note : I have yet to see a card which was supplied with 256K
   652	which is expandable. Most of these cards were very early models which used
   653	older (true VGA) chipsets incompatible with the newer de facto video
   654	standards.
   655	
   656	x. To BIOS or not to BIOS ?
   657	---------------------------
   658	THe question is often asked, "Which BIOS is best ?". One would imagine that
   659	the best BIOS should be an original IBM chip; however, since most software is
   660	developed on clones (I wonder how many people have seen a real IBM recently -
   661	I haven't seen anything more recent than an original 5-slot PC, although I do
   662	know of the PS/2, a 286 machine. Does IBM in fact make a 386 ?), a machine
   663	with a "real" BIOS is not necessarily more compatible than a clone. So the
   664	choice of BIOS boils down to personal preference. I personally own AMI 286 and
   665	386 BIOSs, and Award 386 BIOS, and I have used Phoenix 286 and Award 286 BIOS.
   666	Out of these, I strongly recommend the AMI (American Megatrends) BIOS because
   667	it seems a lot more sensibly designed than the Award or Phoenix programs. For
   668	example, the AMI 386 BIOS allows you to set up a whole lot of low-level
   669	chipset parameters related to memory speed and setup, whilst the Award only
   670	allows you to set drive and display types. Also, if you have been toying with
   671	the XCMOS settings and have managed to make your computer non-functional, if
   672	you have the AMI BIOS, you simply hold down Insert while pressing the reset
   673	button, and the XCMOS settings will be set to default values, unlocking your
   674	machine. With the Award BIOS, I had a machine with Hercules and VGA cards, but
   675	no mono monitor, and I accidentally set the display type to "MONO", meaning
   676	that the machine booted on the Herc card where I couldn't see anything.. in
   677	order to get the machine usable again I had to open it and unplug the Hercules
   678	card to force the BIOS to return to the VGA/EGA display setting. Annoying,
   679	especially since the machine in question was the bottom (Murphy again !) in a
   680	stack of three PCs with a monitor on top, all on a very crowded desk.
   681	        NB: Since the BIOS is resident on a standard EPROM, it is quite
   682	possible to copy it using an EPROM reader/burner and a blank EPROM of the same
   683	type. However, the astute will notice that there are *two* chips in the
   684	machine with little holographic stickers; the BIOS and the keyboard
   685	controller. I have never had occasion to try pirating BIOSs, but I doubt that
   686	BIOS A will work with keyboard controller B. They definitely "know" about one
   687	another, because when you boot a slow AMI machine, you see a serial number of
   688	the format <something>-<something>-K (a pause while the keyboard is accessed),
   689	then another digit indicating the keyboard controller version.
   690	
   691	                         -=<* General Information *>=-
   692	
   693	i. Desoldering Small IC's (Less than 40 pins)
   694	---------------------------------------------
   695	Small chips can be fairly easily desoldered by inserting a suitable lever
   696	under one end, applying pressure and running a hot soldering iron up and down
   697	the rows of pins. When one end is substantially further out than the other,
   698	shift your lever to the other end and rock the chip out.
   699	
   700	ii. Desoldering Large IC's (40 pins or more)
   701	--------------------------------------------
   702	This is not a task I relish, though I have had to do it a few times. I
   703	strongly recommend the use of an IC desoldering tool. If this is unavailable,
   704	then to help you rock the chip out (by the method described above), you should
   705	"wet" the joints with a plentiful amount of fresh solder.
   706	
   707	iii. Desoldering Surface-Mounting Resistors and Capacitors
   708	----------------------------------------------------------
   709	Unfortunately, one really needs to apply heat to both ends of these components
   710	simultaneously to extract them easily. However, you can try using a
   711	solder-sniffer to remove most of the solder, then heat up the entire component
   712	and flick it off the board while the solder is still liquid. Make absolutely
   713	sure you have the correct value of replacement component; SM resistors and
   714	capacitors are often unmarked.
   715	
   716	iv. Desoldering 160-pin Surface Mount IC's
   717	------------------------------------------
   718	Don't. It's impossible without a 160-arm soldering robot. If your motherboard
   719	has a chip like this which is damaged, replace the motherboard; it will
   720	probably be cheaper than trying to import a proprietary ULA from Taiwan or
   721	Japan. Not to mention the hours you will waste soldering all those .025" pitch
   722	pins, and the YEARS you will waste getting rid of the solder bridges.
   723	        (Note : For those who do not believe 160-pin IC's exist, please refer
   724	to the Acer 16MHz 80286 motherboard, component U16. This is an M1207-16, a
   725	160-pin surface-mounting ULA).
   726	
   727	v. Old PCB's
   728	------------
   729	Printed circuit boards which have been in service for a while are MUCH more
   730	susceptible to heat damage (when soldering and desoldering components) than
   731	more recent boards. In the case of plated-thru-hole double-sided boards
   732	particularly, it is extremely easy to pull the pad off the top side of the
   733	board when desoldering components. This necessitates much laborious flying
   734	lead installation and is generally a hassle ! I recently had cause to repair a
   735	device made in late 1979 (an old glass tty, in fact), and I would strongly
   736	advise staying well clear of these older devices if at all possible.
   737	
   738	** EOF **
   739	There has not been an error in d4wnloading and the fqle is 1^00% uncorrupt?d.
